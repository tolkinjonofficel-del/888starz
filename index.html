<!DOCTYPE html>
<html lang="uz">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Apple Fortune | AI Trading VIP</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* ============ GLOBAL STYLES ============ */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
        }
        
        :root {
            --primary: #007AFF;
            --primary-dark: #0056CC;
            --secondary: #5856D6;
            --success: #34C759;
            --warning: #FF9500;
            --danger: #FF3B30;
            --dark: #1C1C1E;
            --darker: #000000;
            --light: #F2F2F7;
            --gray: #8E8E93;
            --card-bg: rgba(28, 28, 30, 0.8);
            --gradient: linear-gradient(135deg, #007AFF, #5856D6);
            --gradient-vip: linear-gradient(135deg, #FF9500, #FF2D55);
            --glass: rgba(28, 28, 30, 0.7);
            --border: rgba(255, 255, 255, 0.1);
        }
        
        body {
            background: var(--darker);
            color: white;
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }
        
        /* Neumorphism efekti uchun background */
        .bg-blur {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(circle at 20% 30%, rgba(0, 122, 255, 0.15) 0%, transparent 50%),
                radial-gradient(circle at 80% 70%, rgba(88, 86, 214, 0.15) 0%, transparent 50%);
            filter: blur(100px);
            z-index: -2;
        }
        
        .bg-pattern {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: 
                radial-gradient(circle at 25% 25%, rgba(255, 255, 255, 0.05) 2px, transparent 2px),
                radial-gradient(circle at 75% 75%, rgba(255, 255, 255, 0.05) 2px, transparent 2px);
            background-size: 50px 50px;
            z-index: -1;
            opacity: 0.3;
        }
        
        /* ============ LANGUAGE SELECTOR ============ */
        .language-selector {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--darker);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            padding: 20px;
            text-align: center;
        }
        
        .language-logo {
            width: 100px;
            height: 100px;
            background: var(--gradient);
            border-radius: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 30px;
            box-shadow: 
                0 20px 40px rgba(0, 122, 255, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.2);
            animation: float 3s ease-in-out infinite;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(5deg); }
        }
        
        .language-logo span {
            font-size: 48px;
            filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.2));
        }
        
        .language-selector h1 {
            font-size: 2.5rem;
            font-weight: 800;
            margin-bottom: 10px;
            background: var(--gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .language-subtitle {
            font-size: 1rem;
            color: var(--gray);
            margin-bottom: 40px;
            max-width: 300px;
        }
        
        .language-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            width: 100%;
            max-width: 350px;
        }
        
        .language-card {
            background: var(--card-bg);
            border: 1px solid var(--border);
            border-radius: 18px;
            padding: 20px 15px;
            color: white;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            backdrop-filter: blur(10px);
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
        }
        
        .language-card:hover {
            transform: translateY(-5px);
            background: rgba(0, 122, 255, 0.2);
            border-color: var(--primary);
            box-shadow: 0 10px 30px rgba(0, 122, 255, 0.2);
        }
        
        .language-card .flag {
            font-size: 2rem;
        }
        
        /* ============ MAIN CONTAINER ============ */
        .main-container {
            max-width: 100%;
            min-height: 100vh;
            display: none;
            flex-direction: column;
            padding-bottom: 80px;
        }
        
        .main-container.active {
            display: flex;
        }
        
        /* ============ HEADER ============ */
        .main-header {
            padding: 20px 20px 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .logo-icon {
            width: 44px;
            height: 44px;
            background: var(--gradient);
            border-radius: 14px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            box-shadow: 0 8px 20px rgba(0, 122, 255, 0.3);
        }
        
        .logo-text {
            font-size: 1.4rem;
            font-weight: 800;
            background: var(--gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .user-badge {
            background: var(--card-bg);
            border: 1px solid var(--border);
            border-radius: 16px;
            padding: 10px 16px;
            display: flex;
            align-items: center;
            gap: 10px;
            backdrop-filter: blur(10px);
        }
        
        .user-avatar {
            width: 36px;
            height: 36px;
            background: var(--gradient);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
        }
        
        .user-info {
            display: flex;
            flex-direction: column;
        }
        
        .user-name {
            font-size: 0.9rem;
            font-weight: 600;
        }
        
        .user-status {
            font-size: 0.75rem;
            color: var(--success);
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .status-dot {
            width: 8px;
            height: 8px;
            background: var(--success);
            border-radius: 50%;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        
        /* ============ BOTTOM NAVIGATION ============ */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: var(--glass);
            backdrop-filter: blur(20px);
            border-top: 1px solid var(--border);
            display: flex;
            justify-content: space-around;
            padding: 12px 0;
            z-index: 100;
        }
        
        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 6px;
            color: var(--gray);
            text-decoration: none;
            font-size: 0.75rem;
            transition: all 0.3s;
            padding: 8px 16px;
            border-radius: 16px;
            position: relative;
        }
        
        .nav-item.active {
            color: var(--primary);
            background: rgba(0, 122, 255, 0.1);
        }
        
        .nav-icon {
            font-size: 1.2rem;
        }
        
        .nav-badge {
            position: absolute;
            top: 5px;
            right: 10px;
            background: var(--danger);
            color: white;
            font-size: 0.7rem;
            min-width: 18px;
            height: 18px;
            border-radius: 9px;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 0 5px;
        }
        
        /* ============ MAIN CONTENT SECTIONS ============ */
        .content-section {
            flex: 1;
            padding: 0;
            display: none;
        }
        
        .content-section.active {
            display: block;
        }
        
        /* ============ HOME SECTION ============ */
        .home-content {
            padding: 0 20px 20px;
        }
        
        .welcome-card {
            background: var(--gradient);
            border-radius: 24px;
            padding: 24px;
            margin-bottom: 20px;
            position: relative;
            overflow: hidden;
            box-shadow: 0 20px 40px rgba(0, 122, 255, 0.3);
            text-align: center;
        }
        
        .welcome-card::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
        }
        
        .welcome-text {
            font-size: 1.8rem;
            font-weight: 800;
            margin-bottom: 10px;
        }
        
        .welcome-subtext {
            font-size: 1rem;
            opacity: 0.9;
        }
        
        .registration-card {
            background: var(--card-bg);
            border: 1px solid var(--border);
            border-radius: 24px;
            padding: 24px;
            margin-bottom: 20px;
            backdrop-filter: blur(10px);
            text-align: center;
        }
        
        .registration-title {
            font-size: 1.4rem;
            font-weight: 700;
            margin-bottom: 20px;
        }
        
        .step-item {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 12px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
            margin-bottom: 15px;
        }
        
        .step-number {
            width: 30px;
            height: 30px;
            min-width: 30px;
            background: var(--primary);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }
        
        .step-content {
            text-align: left;
            flex: 1;
        }
        
        .step-title {
            font-weight: 600;
            margin-bottom: 4px;
        }
        
        .step-desc {
            font-size: 0.85rem;
            color: var(--gray);
        }
        
        .promo-code {
            background: rgba(255, 149, 0, 0.1);
            border: 1px solid var(--warning);
            border-radius: 12px;
            padding: 12px;
            margin: 20px 0;
            text-align: center;
        }
        
        .promo-code .code {
            font-family: 'Courier New', monospace;
            font-size: 1.2rem;
            font-weight: 800;
            color: var(--warning);
            margin: 5px 0;
        }
        
        .promo-code .label {
            font-size: 0.9rem;
            color: var(--gray);
        }
        
        .balance-card {
            background: var(--card-bg);
            border: 1px solid var(--border);
            border-radius: 24px;
            padding: 24px;
            margin-bottom: 20px;
            backdrop-filter: blur(10px);
        }
        
        .balance-title {
            font-size: 0.9rem;
            color: var(--gray);
            margin-bottom: 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .balance-amount {
            font-size: 3rem;
            font-weight: 800;
            background: var(--gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 20px;
        }
        
        .balance-stats {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
        }
        
        .stat-item {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 16px;
            padding: 15px;
            text-align: center;
        }
        
        .stat-value {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 5px;
        }
        
        .stat-label {
            font-size: 0.8rem;
            color: var(--gray);
        }
        
        .quick-actions {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .action-btn {
            background: var(--card-bg);
            border: 1px solid var(--border);
            border-radius: 20px;
            padding: 20px;
            color: white;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
            backdrop-filter: blur(10px);
        }
        
        .action-btn:hover {
            transform: translateY(-5px);
            border-color: var(--primary);
            box-shadow: 0 10px 20px rgba(0, 122, 255, 0.2);
        }
        
        .action-icon {
            width: 48px;
            height: 48px;
            background: var(--gradient);
            border-radius: 14px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
        }
        
        .vip-card {
            background: var(--gradient-vip);
            border-radius: 24px;
            padding: 24px;
            margin-bottom: 20px;
            position: relative;
            overflow: hidden;
            box-shadow: 0 20px 40px rgba(255, 149, 0, 0.3);
        }
        
        .vip-badge {
            position: absolute;
            top: -10px;
            right: 20px;
            background: white;
            color: #FF9500;
            font-weight: 800;
            padding: 6px 16px;
            border-radius: 20px;
            font-size: 0.8rem;
        }
        
        /* ============ VIP SECTION ============ */
        .vip-content {
            padding: 20px;
        }
        
        .vip-header {
            text-align: center;
            margin-bottom: 30px;
        }
        
        .vip-icon {
            width: 80px;
            height: 80px;
            background: var(--gradient-vip);
            border-radius: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.5rem;
            margin: 0 auto 20px;
            box-shadow: 0 20px 40px rgba(255, 149, 0, 0.3);
        }
        
        .vip-features {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-bottom: 30px;
        }
        
        .feature-card {
            background: var(--card-bg);
            border: 1px solid var(--border);
            border-radius: 20px;
            padding: 20px;
            text-align: center;
            backdrop-filter: blur(10px);
        }
        
        .feature-icon {
            width: 48px;
            height: 48px;
            background: var(--gradient);
            border-radius: 14px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            margin: 0 auto 15px;
        }
        
        .feature-title {
            font-weight: 600;
            margin-bottom: 5px;
        }
        
        .feature-desc {
            font-size: 0.8rem;
            color: var(--gray);
        }
        
        /* ============ SIGNAL SECTION ============ */
        .signal-section {
            background: linear-gradient(135deg, #0a0a1f, #1a1a3e, #0f0c29);
            min-height: 100vh;
            position: relative;
            overflow: hidden;
        }
        
        .signal-header {
            padding: 20px;
            background: rgba(0, 0, 0, 0.5);
            display: flex;
            justify-content: space-between;
            align-items: center;
            backdrop-filter: blur(10px);
            border-bottom: 1px solid var(--border);
        }
        
        .signal-header h3 {
            font-size: 1.3rem;
            font-weight: 700;
            color: white;
        }
        
        .signal-id {
            background: rgba(0, 122, 255, 0.1);
            border: 1px solid var(--primary);
            border-radius: 16px;
            padding: 10px 20px;
            font-family: 'Courier New', monospace;
            font-weight: 600;
            color: white;
        }
        
        .game-container {
            padding: 20px;
            min-height: calc(100vh - 140px);
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        .round-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding: 15px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 16px;
            width: 100%;
            max-width: 400px;
        }
        
        .round-title {
            font-size: 1rem;
            color: #a0d2ff;
        }
        
        .round-number {
            font-size: 1.5rem;
            font-weight: 800;
            color: #ffcc00;
        }
        
        .user-id-display {
            background: rgba(0, 100, 255, 0.15);
            border-radius: 12px;
            padding: 15px;
            margin-bottom: 20px;
            text-align: center;
            font-size: 1rem;
            font-weight: 600;
            width: 100%;
            max-width: 400px;
        }
        
        .game-instruction {
            font-size: 1rem;
            color: #a0d2ff;
            margin-bottom: 20px;
            text-align: center;
            line-height: 1.4;
            width: 100%;
            max-width: 400px;
        }
        
        /* ============ OLMA OYINI STILLARI ============ */
        .game-content {
            display: flex;
            flex-direction: column;
            align-items: center;
            width: 100%;
            max-width: 400px;
            flex-grow: 1;
            justify-content: center;
        }
        
        .apples-container {
            display: flex;
            justify-content: center;
            gap: 12px;
            margin: 20px 0;
            flex-wrap: nowrap;
            width: 100%;
            max-width: 400px;
        }
        
        .apple {
            width: 60px;
            height: 60px;
            min-width: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            background-size: cover;
            background-position: center;
            border: 2px solid transparent;
            position: relative;
            overflow: hidden;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.3);
        }
        
        .apple:hover {
            transform: scale(1.1);
            box-shadow: 0 12px 24px rgba(0, 0, 0, 0.4);
        }
        
        .mystery-apple {
            background: linear-gradient(135deg, #4a4a8a, #2a2a5a);
            border: 2px solid rgba(0, 150, 255, 0.8);
            animation: float 3s ease-in-out infinite;
        }
        
        .whole-apple {
            background: radial-gradient(circle at 30% 30%, #ff3333, #cc0000);
            border: 2px solid #ffcc00;
        }
        
        .bitten-apple {
            background: radial-gradient(circle at 30% 30%, #33cc33, #009900);
            border: 2px solid #00ff00;
        }
        
        .selected-apple {
            transform: scale(1.15);
            box-shadow: 0 0 20px rgba(255, 204, 0, 0.8);
            border: 3px solid #ffcc00;
        }
        
        .game-buttons {
            width: 100%;
            max-width: 400px;
            margin-top: 20px;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .game-btn {
            width: 100%;
            padding: 18px;
            border: none;
            border-radius: 16px;
            font-size: 1.1rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        
        .btn-reveal {
            background: linear-gradient(135deg, #00cc66, #009944);
            color: white;
            box-shadow: 0 10px 20px rgba(0, 204, 102, 0.3);
        }
        
        .btn-reveal:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 30px rgba(0, 204, 102, 0.4);
        }
        
        .btn-reveal:disabled {
            opacity: 0.7;
            cursor: not-allowed;
            transform: none;
            box-shadow: 0 10px 20px rgba(0, 204, 102, 0.2);
        }
        
        .btn-next {
            background: linear-gradient(135deg, #007AFF, #5856D6);
            color: white;
            box-shadow: 0 10px 20px rgba(0, 122, 255, 0.3);
        }
        
        .btn-next:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 30px rgba(0, 122, 255, 0.4);
        }
        
        .btn-restart {
            background: linear-gradient(135deg, #ff3366, #cc0044);
            color: white;
            box-shadow: 0 10px 20px rgba(255, 51, 102, 0.3);
        }
        
        .btn-restart:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 30px rgba(255, 51, 102, 0.4);
        }
        
        .result-message {
            background: rgba(0, 200, 255, 0.15);
            border-radius: 16px;
            padding: 15px;
            margin-top: 20px;
            text-align: center;
            font-size: 1rem;
            width: 100%;
            display: none;
            animation: fadeIn 0.5s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .signal-success {
            color: #00ff66;
            font-weight: 700;
            font-size: 1.1rem;
        }
        
        /* ============ PROFILE SECTION ============ */
        .profile-content {
            padding: 20px;
        }
        
        .profile-card {
            background: var(--card-bg);
            border: 1px solid var(--border);
            border-radius: 24px;
            padding: 24px;
            margin-bottom: 20px;
            backdrop-filter: blur(10px);
            text-align: center;
        }
        
        .profile-avatar {
            width: 100px;
            height: 100px;
            background: var(--gradient);
            border-radius: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
            margin: 0 auto 20px;
            box-shadow: 0 20px 40px rgba(0, 122, 255, 0.3);
        }
        
        .profile-info {
            margin-bottom: 30px;
        }
        
        .profile-name {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 5px;
        }
        
        .profile-id {
            color: var(--gray);
            font-family: 'Courier New', monospace;
            margin-bottom: 20px;
        }
        
        .profile-status {
            display: inline-flex;
            align-items: center;
            gap: 10px;
            background: rgba(52, 199, 89, 0.1);
            border: 1px solid var(--success);
            color: var(--success);
            padding: 10px 20px;
            border-radius: 20px;
            font-weight: 600;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-bottom: 30px;
        }
        
        /* ============ ANIMATIONS ============ */
        .hacker-animation {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #000;
            z-index: 2000;
            display: none;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }
        
        .matrix-text {
            font-family: 'Courier New', monospace;
            font-size: 1.5rem;
            color: #00ff00;
            text-align: center;
            margin-bottom: 40px;
            animation: text-flicker 0.5s infinite;
            text-shadow: 0 0 15px #00ff00;
        }
        
        @keyframes text-flicker {
            0%, 19%, 21%, 23%, 25%, 54%, 56%, 100% {
                opacity: 1;
                text-shadow: 0 0 15px #00ff00;
            }
            20%, 24%, 55% {
                opacity: 0.5;
                text-shadow: none;
            }
        }
        
        .progress-bar {
            width: 80%;
            max-width: 300px;
            height: 16px;
            background: rgba(0, 255, 0, 0.1);
            border-radius: 8px;
            overflow: hidden;
            border: 1px solid #00ff00;
            margin-bottom: 30px;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #00ff00, #00cc00);
            width: 0%;
            transition: width 2s ease;
        }
        
        /* ============ MODALS ============ */
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(10px);
            z-index: 3000;
            display: none;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        
        .modal.active {
            display: flex;
            animation: fadeIn 0.3s ease;
        }
        
        .modal-content {
            background: var(--card-bg);
            border: 1px solid var(--border);
            border-radius: 28px;
            padding: 30px;
            width: 100%;
            max-width: 400px;
            backdrop-filter: blur(20px);
            transform: translateY(20px);
            animation: slideUp 0.3s ease forwards;
        }
        
        @keyframes slideUp {
            to { transform: translateY(0); }
        }
        
        .modal-header {
            text-align: center;
            margin-bottom: 25px;
        }
        
        .modal-title {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 10px;
        }
        
        .modal-subtitle {
            color: var(--gray);
            font-size: 0.9rem;
        }
        
        .input-group {
            margin-bottom: 20px;
        }
        
        .input-label {
            display: block;
            margin-bottom: 8px;
            font-size: 0.9rem;
            font-weight: 600;
        }
        
        .input-field {
            width: 100%;
            padding: 18px;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid var(--border);
            border-radius: 16px;
            color: white;
            font-size: 1rem;
            transition: all 0.3s;
        }
        
        .input-field:focus {
            outline: none;
            border-color: var(--primary);
            background: rgba(0, 122, 255, 0.05);
        }
        
        .btn {
            width: 100%;
            padding: 18px;
            border: none;
            border-radius: 16px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .btn-primary {
            background: var(--gradient);
            color: white;
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(0, 122, 255, 0.3);
        }
        
        .btn-secondary {
            background: var(--card-bg);
            border: 1px solid var(--border);
            color: white;
            margin-top: 10px;
        }
        
        /* ============ WAIT MODAL STYLES ============ */
        .timer-display {
            text-align: center;
            margin: 20px 0;
            padding: 20px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 20px;
        }
        
        .timer-label {
            font-size: 0.9rem;
            color: var(--gray);
            margin-bottom: 10px;
        }
        
        .timer-value {
            font-size: 2.5rem;
            font-weight: 800;
            color: var(--warning);
            font-family: 'Courier New', monospace;
        }
        
        .share-section {
            background: rgba(0, 122, 255, 0.1);
            border-radius: 20px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
        }
        
        .share-title {
            font-size: 0.95rem;
            margin-bottom: 15px;
            color: white;
        }
        
        .share-btn {
            width: 100%;
            padding: 15px;
            background: var(--gradient);
            border: none;
            border-radius: 16px;
            color: white;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            transition: all 0.3s;
        }
        
        .share-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(0, 122, 255, 0.3);
        }
        
        /* ============ RESPONSIVE ============ */
        @media (min-width: 768px) {
            .main-container {
                max-width: 500px;
                margin: 0 auto;
            }
            
            .language-grid {
                grid-template-columns: repeat(3, 1fr);
                max-width: 500px;
            }
            
            .quick-actions {
                grid-template-columns: repeat(4, 1fr);
            }
            
            .apple {
                width: 70px;
                height: 70px;
            }
            
            .apples-container {
                gap: 15px;
                max-width: 450px;
            }
            
            .game-content {
                max-width: 450px;
            }
        }
        
        @media (max-width: 380px) {
            .welcome-text {
                font-size: 1.5rem;
            }
            
            .balance-amount {
                font-size: 2.5rem;
            }
            
            .quick-actions {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .apple {
                width: 55px;
                height: 55px;
            }
            
            .apples-container {
                gap: 10px;
            }
            
            .game-buttons {
                padding: 0 10px;
            }
        }
        
        @media (max-width: 320px) {
            .apple {
                width: 50px;
                height: 50px;
            }
            
            .apples-container {
                gap: 8px;
            }
        }
    </style>
</head>
<body>
    <!-- Background Effects -->
    <div class="bg-blur"></div>
    <div class="bg-pattern"></div>
    
    <!-- Language Selector -->
    <div class="language-selector" id="languageSelector">
        <div class="language-logo">
            <span>üçé</span>
        </div>
        <h1>Apple Fortune</h1>
        <p class="language-subtitle">AI Trading Signals Platform</p>
        
        <div class="language-grid">
            <div class="language-card" data-lang="uz">
                <span class="flag">üá∫üáø</span>
                <span>O'zbekcha</span>
            </div>
            <div class="language-card" data-lang="ru">
                <span class="flag">üá∑üá∫</span>
                <span>–†—É—Å—Å–∫–∏–π</span>
            </div>
            <div class="language-card" data-lang="en">
                <span class="flag">üá∫üá∏</span>
                <span>English</span>
            </div>
            <div class="language-card" data-lang="bn">
                <span class="flag">üáßüá©</span>
                <span>‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ</span>
            </div>
            <div class="language-card" data-lang="ar">
                <span class="flag">üá™üá¨</span>
                <span>ÿßŸÑÿπÿ±ÿ®Ÿäÿ©</span>
            </div>
            <div class="language-card" data-lang="ky">
                <span class="flag">üá∞üá¨</span>
                <span>–ö—ã—Ä–≥—ã–∑—á–∞</span>
            </div>
        </div>
    </div>
    
    <!-- Hacker Animation -->
    <div class="hacker-animation" id="hackerAnimation">
        <div class="matrix-text" id="matrixText">SIGNAL ANALYZING...</div>
        <div class="progress-bar">
            <div class="progress-fill" id="progressFill"></div>
        </div>
        <div class="matrix-text">APPLE FORTUNE AI SYSTEM</div>
    </div>
    
    <!-- Main Container -->
    <div class="main-container" id="mainContainer">
        <!-- Home Section -->
        <div class="content-section active" id="homeSection">
            <div class="home-content">
                <div class="main-header">
                    <div class="logo">
                        <div class="logo-icon">üçé</div>
                        <div class="logo-text">Apple Fortune</div>
                    </div>
                    
                    <div class="user-badge" id="userBadge">
                        <div class="user-avatar">
                            <i class="fas fa-user"></i>
                        </div>
                        <div class="user-info">
                            <div class="user-name" id="userName">Mehmon</div>
                            <div class="user-status">
                                <div class="status-dot"></div>
                                <span id="userStatus">Ro'yxatlanmagan</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="welcome-card">
                    <div class="welcome-text" id="welcomeText">Apple Fortune AI Trading</div>
                    <div class="welcome-subtext" id="welcomeSubtext">
                        <p style="margin-bottom: 15px;">98.5% aniq AI asosidagi savdo signallari</p>
                        <p style="font-size: 0.9rem;">
                            <i class="fas fa-star" style="color: #FFD700; margin-right: 5px;"></i>
                            <strong>AIFUT promokodi</strong> orqali ro'yxatdan o'ting va ID raqamingizni tasdiqlang
                        </p>
                    </div>
                </div>
                
                <div class="registration-card">
                    <h3 class="registration-title" id="registrationTitle">Signallarni Olish Jarayoni</h3>
                    
                    <div class="step-item">
                        <div class="step-number">1</div>
                        <div class="step-content">
                            <div class="step-title" id="step1Title">www.xbet.com saytida ro'yxatdan o'ting</div>
                            <div class="step-desc" id="step1Desc">AIFUT promokodidan foydalaning</div>
                        </div>
                    </div>
                    
                    <div class="step-item">
                        <div class="step-number">2</div>
                        <div class="step-content">
                            <div class="step-title" id="step2Title">ID raqamingizni oling</div>
                            <div class="step-desc" id="step2Desc">Ro'yxatdan o'tgandan so'ng ID raqamingizni qayd eting</div>
                        </div>
                    </div>
                    
                    <div class="step-item">
                        <div class="step-number">3</div>
                        <div class="step-content">
                            <div class="step-title" id="step3Title">ID raqamingizni tasdiqlang</div>
                            <div class="step-desc" id="step3Desc">Signal sahifasida ID raqamingizni kiriting</div>
                        </div>
                    </div>
                    
                    <div class="promo-code">
                        <div class="label" id="promoLabel">PROMOKOD:</div>
                        <div class="code">AIFUT</div>
                        <div class="label" id="promoDesc">www.xbet.com ro'yxatdan o'tishda kiriting</div>
                    </div>
                    
                    <button class="btn btn-primary" id="registerNowBtn">
                        <i class="fas fa-external-link-alt"></i> <span id="registerNowText">Ro'yxatdan O'tish</span>
                    </button>
                    
                    <p style="font-size: 0.8rem; color: var(--gray); margin-top: 15px;">
                        <i class="fas fa-info-circle"></i> 
                        <span id="registrationNote">Ro'yxatdan o'tgandan so'ng signal sahifasiga o'ting</span>
                    </p>
                </div>
                
                <div class="balance-card">
                    <div class="balance-title">
                        <span id="balanceLabel">Hisobingiz</span>
                        <span class="balance-amount" id="balanceAmount">0</span>
                    </div>
                    
                    <div class="balance-stats">
                        <div class="stat-item">
                            <div class="stat-value" id="todayProfit">+$0</div>
                            <div class="stat-label" id="todayProfitLabel">Bugungi foyda</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value" id="signalsCount">0</div>
                            <div class="stat-label" id="signalsLabel">Signallar</div>
                        </div>
                    </div>
                </div>
                
                <div class="quick-actions">
                    <button class="action-btn" id="quickSignalBtn">
                        <div class="action-icon">
                            <i class="fas fa-bolt"></i>
                        </div>
                        <span id="quickSignalText">Tezkor Signal</span>
                    </button>
                    
                    <button class="action-btn" id="inviteBtn">
                        <div class="action-icon">
                            <i class="fas fa-share-alt"></i>
                        </div>
                        <span id="inviteText">Do'stlarni Taklif Qilish</span>
                    </button>
                    
                    <button class="action-btn" id="bonusBtn">
                        <div class="action-icon">
                            <i class="fas fa-gift"></i>
                        </div>
                        <span id="bonusText">Bonuslar</span>
                    </button>
                    
                    <button class="action-btn" id="statsBtn">
                        <div class="action-icon">
                            <i class="fas fa-chart-line"></i>
                        </div>
                        <span id="statsText">Statistika</span>
                    </button>
                </div>
                
                <div class="vip-card">
                    <div class="vip-badge">VIP</div>
                    <h3 style="font-size: 1.3rem; margin-bottom: 10px;" id="vipTitle">Premium Signallar</h3>
                    <p style="opacity: 0.9; margin-bottom: 20px;" id="vipDesc">98.5% aniq VIP signallarni oling</p>
                    <button class="btn btn-primary" id="upgradeVipBtn" style="width: 100%;">
                        <i class="fas fa-crown"></i> <span id="upgradeText">VIP ga O'tish</span>
                    </button>
                </div>
            </div>
        </div>
        
        <!-- VIP Section -->
        <div class="content-section" id="vipSection">
            <div class="vip-content">
                <div class="main-header">
                    <div class="logo">
                        <div class="logo-icon">üçé</div>
                        <div class="logo-text">Apple Fortune</div>
                    </div>
                    
                    <div class="user-badge" id="userBadgeVip">
                        <div class="user-avatar">
                            <i class="fas fa-user"></i>
                        </div>
                        <div class="user-info">
                            <div class="user-name" id="userNameVip">Mehmon</div>
                            <div class="user-status">
                                <div class="status-dot"></div>
                                <span id="userStatusVip">Ro'yxatlanmagan</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="vip-header">
                    <div class="vip-icon">
                        <i class="fas fa-crown"></i>
                    </div>
                    <h2 style="font-size: 2rem; margin-bottom: 10px;" id="vipMainTitle">VIP KIRISH</h2>
                    <p style="color: var(--gray);" id="vipSubtitle">Eksklyuziv savdo signallari va imtiyozlar</p>
                </div>
                
                <div class="vip-features">
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-chart-line"></i>
                        </div>
                        <div class="feature-title" id="vipFeature1">98.5% Aniqlik</div>
                        <div class="feature-desc" id="vipFeature1Desc">AI asosidagi signallar</div>
                    </div>
                    
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-bolt"></i>
                        </div>
                        <div class="feature-title" id="vipFeature2">Real-vaqtda</div>
                        <div class="feature-desc" id="vipFeature2Desc">Tezkor bildirishnomalar</div>
                    </div>
                    
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-shield-alt"></i>
                        </div>
                        <div class="feature-title" id="vipFeature3">Risk Boshqaruvi</div>
                        <div class="feature-desc" id="vipFeature3Desc">Xavfsiz savdo strategiyalari</div>
                    </div>
                    
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-headset"></i>
                        </div>
                        <div class="feature-title" id="vipFeature4">24/7 Yordam</div>
                        <div class="feature-desc" id="vipFeature4Desc">Shaxsiy yordam</div>
                    </div>
                </div>
                
                <div class="feature-card">
                    <h3 style="margin-bottom: 15px;" id="vipRequirementsTitle">VIP Talablari</h3>
                    <div class="progress-bar" style="margin-bottom: 15px;">
                        <div class="progress-fill" id="vipProgress" style="width: 0%"></div>
                    </div>
                    <p style="text-align: center; color: var(--gray); margin-bottom: 20px;" id="vipProgressText">
                        VIP ni ochish uchun <span id="vipInvitedCount">0</span>/20 do'stni taklif qiling
                    </p>
                    <button class="btn btn-primary" id="vipInviteBtn">
                        <i class="fas fa-share-alt"></i> <span id="vipInviteBtnText">Do'stlarni Taklif Qilish</span>
                    </button>
                </div>
            </div>
        </div>
        
        <!-- Signal Section -->
        <div class="content-section signal-section" id="signalSection">
            <div class="signal-header">
                <h3 id="signalTitle">Savdo Signallarini Olish</h3>
                <div class="signal-id" id="displayUserId">ID: Yo'q</div>
            </div>
            
            <div class="game-container">
                <div class="round-info">
                    <div class="round-title" id="roundLabel">RAUND:</div>
                    <div class="round-number" id="roundCounter">1</div>
                </div>
                
                <div class="user-id-display">
                    <span id="yourIdText">ID:</span> <span id="gameUserId">Yo'q</span>
                </div>
                
                <div class="game-instruction" id="gameInstruction">
                    "Olmalarni ko'rish" tugmasini bosing va butun olma tanlang. Keyin "Keyingi signal" tugmasi orqali davom eting.
                </div>
                
                <div class="game-content">
                    <div class="apples-container" id="applesContainer">
                        <!-- Apples will be added here -->
                    </div>
                    
                    <div class="game-buttons">
                        <button class="game-btn btn-reveal" id="revealBtn">
                            <i class="fas fa-eye"></i> <span id="revealText">OLMALARNI KORISH</span>
                        </button>
                        
                        <button class="game-btn btn-next" id="nextRoundBtn" style="display: none;">
                            <i class="fas fa-forward"></i> <span id="nextRoundText">KEYINGI SIGNAL</span>
                        </button>
                        
                        <div class="result-message" id="resultMessage"></div>
                        
                        <button class="game-btn btn-restart" id="restartBtn" style="display: none;">
                            <i class="fas fa-redo"></i> <span id="restartText">QAYTA URINISH</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Profile Section -->
        <div class="content-section" id="profileSection">
            <div class="profile-content">
                <div class="main-header">
                    <div class="logo">
                        <div class="logo-icon">üçé</div>
                        <div class="logo-text">Apple Fortune</div>
                    </div>
                    
                    <div class="user-badge" id="userBadgeProfile">
                        <div class="user-avatar">
                            <i class="fas fa-user"></i>
                        </div>
                        <div class="user-info">
                            <div class="user-name" id="userNameProfile">Mehmon</div>
                            <div class="user-status">
                                <div class="status-dot"></div>
                                <span id="userStatusProfile">Ro'yxatlanmagan</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="profile-card">
                    <div class="profile-avatar">
                        <i class="fas fa-user"></i>
                    </div>
                    <div class="profile-info">
                        <div class="profile-name" id="profileUserName">Mehmon</div>
                        <div class="profile-id" id="profileUserId">ID: Ro'yxatlanmagan</div>
                        <div class="profile-status">
                            <i class="fas fa-times-circle"></i>
                            <span id="profileStatusText">Ro'yxatlanmagan</span>
                        </div>
                    </div>
                    
                    <div class="stats-grid">
                        <div class="stat-item">
                            <div class="stat-value" id="profileBalance">0</div>
                            <div class="stat-label">Balance</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value" id="invitedFriends">0</div>
                            <div class="stat-label">Taklif qilingan</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value" id="totalGames">0</div>
                            <div class="stat-label">O'yinlar</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value" id="successRate">0%</div>
                            <div class="stat-label">Muvaffaqiyat</div>
                        </div>
                    </div>
                    
                    <button class="btn btn-primary" id="registerXbetBtn" style="margin-bottom: 15px;">
                        <i class="fas fa-external-link-alt"></i> <span id="registerXbetText">Ro'yxatdan o'tish (AIFUT)</span>
                    </button>
                    
                    <button class="btn btn-secondary" id="verifyIdBtn">
                        <i class="fas fa-check-circle"></i> <span id="verifyIdText">ID Raqamni Tasdiqlash</span>
                    </button>
                </div>
                
                <div class="feature-card">
                    <h3 style="margin-bottom: 15px;" id="activityTitle">Oxirgi Faoliyat</h3>
                    <div id="activityList" style="color: var(--gray); text-align: center; padding: 20px;">
                        <p id="noActivityText">Hozircha faoliyat yo'q. Signallarni olish uchun ro'yxatdan o'ting!</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Bottom Navigation -->
    <div class="bottom-nav">
        <a href="#" class="nav-item active" data-section="home">
            <i class="fas fa-home nav-icon"></i>
            <span id="navHome">Asosiy</span>
        </a>
        
        <a href="#" class="nav-item" data-section="vip">
            <i class="fas fa-crown nav-icon"></i>
            <span id="navVip">VIP</span>
        </a>
        
        <a href="#" class="nav-item" data-section="signal">
            <i class="fas fa-satellite-dish nav-icon"></i>
            <span id="navSignal">Signal</span>
            <span class="nav-badge" id="signalBadge" style="display: none;">!</span>
        </a>
        
        <a href="#" class="nav-item" data-section="profile">
            <i class="fas fa-user nav-icon"></i>
            <span id="navProfile">Profil</span>
        </a>
    </div>
    
    <!-- ID Input Modal -->
    <div class="modal" id="idModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title" id="idModalTitle">ID Raqamingizni Tasdiqlang</h3>
                <p class="modal-subtitle" id="idModalSubtitle">Signallarni olish uchun AIFUT promokodi orqali ro'yxatdan o'tgan ID raqamingizni kiriting</p>
            </div>
            
            <div class="input-group">
                <label class="input-label" id="idInputLabel">ID Raqami</label>
                <input type="text" class="input-field" id="userIdInput" 
                       placeholder="Masalan: 123456789" maxlength="11" pattern="[0-9]*" inputmode="numeric">
                <p style="font-size: 0.8rem; color: var(--gray); margin-top: 8px;" id="idHelpText">
                    www.xbet.com saytida AIFUT promokodi orqali ro'yxatdan o'tgan ID raqamingiz
                </p>
            </div>
            
            <button class="btn btn-primary" id="saveIdBtn">
                <i class="fas fa-save"></i> <span id="saveIdText">ID ni Tasdiqlash</span>
            </button>
            
            <button class="btn btn-secondary" id="registerFirstBtn">
                <i class="fas fa-external-link-alt"></i> Avval Ro'yxatdan O'ting
            </button>
        </div>
    </div>
    
    <!-- Invite Modal -->
    <div class="modal" id="inviteModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title" id="inviteModalTitle">Do'stlarni Taklif Qilish</h3>
                <p class="modal-subtitle" id="inviteModalSubtitle">Do'stlaringiz bilan ulashing va bonuslar oling</p>
            </div>
            
            <div style="text-align: center; margin-bottom: 25px;">
                <div style="font-size: 3rem; color: var(--success); margin-bottom: 15px;">
                    <i class="fas fa-gift"></i>
                </div>
                <h4 style="margin-bottom: 10px;" id="bonusAmount">+5 Ball Har Bir Do'st Uchun</h4>
                <p style="color: var(--gray);" id="inviteInfo">
                    Har bir taklif qilingan do'st hisobingizga 5 ball qo'shiladi
                </p>
            </div>
            
            <button class="btn btn-primary" id="shareTelegramBtn" style="margin-bottom: 10px;">
                <i class="fab fa-telegram"></i> <span id="shareTelegramText">Telegramda Ulashish</span>
            </button>
            
            <button class="btn btn-secondary" id="copyLinkBtn">
                <i class="fas fa-copy"></i> <span id="copyLinkText">Taklif Havolasini Nusxalash</span>
            </button>
        </div>
    </div>

    <script>
        // ==================== TRANSLATIONS ====================
        const translations = {
            uz: {
                welcomeText: "Apple Fortune AI Trading",
                welcomeSubtext: "98.5% aniq AI asosidagi savdo signallari\nAIFUT promokodi orqali ro'yxatdan o'ting va ID raqamingizni tasdiqlang",
                registrationTitle: "Signallarni Olish Jarayoni",
                step1Title: "www.xbet.com saytida ro'yxatdan o'ting",
                step1Desc: "AIFUT promokodidan foydalaning",
                step2Title: "ID raqamingizni oling",
                step2Desc: "Ro'yxatdan o'tgandan so'ng ID raqamingizni qayd eting",
                step3Title: "ID raqamingizni tasdiqlang",
                step3Desc: "Signal sahifasida ID raqamingizni kiriting",
                promoLabel: "PROMOKOD:",
                promoDesc: "www.xbet.com ro'yxatdan o'tishda kiriting",
                registerNowText: "Ro'yxatdan O'tish",
                registrationNote: "Ro'yxatdan o'tgandan so'ng signal sahifasiga o'ting",
                balanceLabel: "Hisobingiz",
                todayProfitLabel: "Bugungi foyda",
                signalsLabel: "Signallar",
                quickSignalText: "Tezkor Signal",
                inviteText: "Do'stlarni Taklif Qilish",
                bonusText: "Bonuslar",
                statsText: "Statistika",
                vipTitle: "Premium Signallar",
                vipDesc: "98.5% aniq VIP signallarni oling",
                upgradeText: "VIP ga O'tish",
                vipMainTitle: "VIP KIRISH",
                vipSubtitle: "Eksklyuziv savdo signallari va imtiyozlar",
                vipFeature1: "98.5% Aniqlik",
                vipFeature1Desc: "AI asosidagi signallar",
                vipFeature2: "Real-vaqtda",
                vipFeature2Desc: "Tezkor bildirishnomalar",
                vipFeature3: "Risk Boshqaruvi",
                vipFeature3Desc: "Xavfsiz savdo strategiyalari",
                vipFeature4: "24/7 Yordam",
                vipFeature4Desc: "Shaxsiy yordam",
                vipRequirementsTitle: "VIP Talablari",
                vipProgressText: "VIP ni ochish uchun <span id='vipInvitedCount'>0</span>/20 do'stni taklif qiling",
                vipInviteBtnText: "Do'stlarni Taklif Qilish",
                signalTitle: "Savdo Signallarini Olish",
                roundLabel: "RAUND:",
                yourIdText: "ID:",
                gameInstruction: "'Olmalarni ko'rish' tugmasini bosing va butun olma tanlang. Keyin 'Keyingi signal' tugmasi orqali davom eting.",
                revealText: "OLMALARNI KORISH",
                nextRoundText: "KEYINGI SIGNAL",
                restartText: "QAYTA URINISH",
                waitTitle: "YUTUQNI OLING!",
                timerLabel: "KEYINGI SIGNALGACHA",
                shareTitle: "Do'stlaringizni taklif qiling va vaqtni qisqartiring!",
                shareText: "DO'STLARNI TAKLIF QILISH",
                changeIdText: "ID O'ZGARTIRISH",
                resultTitle: "O'yin Natijasi",
                signalStatsTitle: "Signal Statistikalari",
                accuracyLabel: "Aniqlik",
                totalSignalsLabel: "Jami Signallar",
                profileStatusText: "Ro'yxatlanmagan",
                registerXbetText: "Ro'yxatdan o'tish (AIFUT)",
                verifyIdText: "ID Raqamni Tasdiqlash",
                activityTitle: "Oxirgi Faoliyat",
                noActivityText: "Hozircha faoliyat yo'q. Signallarni olish uchun ro'yxatdan o'ting!",
                navHome: "Asosiy",
                navVip: "VIP",
                navSignal: "Signal",
                navProfile: "Profil",
                idModalTitle: "ID Raqamingizni Tasdiqlang",
                idModalSubtitle: "Signallarni olish uchun AIFUT promokodi orqali ro'yxatdan o'tgan ID raqamingizni kiriting",
                idInputLabel: "ID Raqami",
                idHelpText: "www.xbet.com saytida AIFUT promokodi orqali ro'yxatdan o'tgan ID raqamingiz",
                saveIdText: "ID ni Tasdiqlash",
                inviteModalTitle: "Do'stlarni Taklif Qilish",
                inviteModalSubtitle: "Do'stlaringiz bilan ulashing va bonuslar oling",
                bonusAmount: "+5 Ball Har Bir Do'st Uchun",
                inviteInfo: "Har bir taklif qilingan do'st hisobingizga 5 ball qo'shiladi",
                shareTelegramText: "Telegramda Ulashish",
                copyLinkText: "Taklif Havolasini Nusxalash",
                successMessage: "‚úÖ Butun olma tanlandi!",
                failureMessage: "‚ùå Tishlangan olma! O'yin {round}-raundda tugadi.",
                gameWonMessage: "üéâ TABRIKLAYMIZ! Siz {round}-raundda yutdingiz!",
                idRequired: "Signallarni olish uchun AIFUT promokodi orqali ro'yxatdan o'tgan ID raqamingizni tasdiqlang.",
                idSaved: "ID raqamingiz muvaffaqiyatli tasdiqlandi!",
                inviteSent: "Taklif muvaffaqiyatli yuborildi! +5 ball qo'shildi.",
                copied: "Havola nusxalandi!",
                loading: "Yuklanmoqda...",
                selectAppleMessage: "Iltimos, butun olma tanlang!",
                analyzingSignal: "Signal tahlil qilinmoqda...",
                registerFirst: "Avval www.xbet.com saytida ro'yxatdan o'ting!"
            },
            ru: {
                welcomeText: "Apple Fortune AI Trading",
                welcomeSubtext: "98.5% —Ç–æ—á–Ω—ã–µ —Ç–æ—Ä–≥–æ–≤—ã–µ —Å–∏–≥–Ω–∞–ª—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ AI\n–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å —Å –ø—Ä–æ–º–æ–∫–æ–¥–æ–º AIFUT –∏ –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ —Å–≤–æ–π ID",
                registrationTitle: "–ü—Ä–æ—Ü–µ—Å—Å –ü–æ–ª—É—á–µ–Ω–∏—è –°–∏–≥–Ω–∞–ª–æ–≤",
                step1Title: "–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ www.xbet.com",
                step1Desc: "–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–æ–º–æ–∫–æ–¥ AIFUT",
                step2Title: "–ü–æ–ª—É—á–∏—Ç–µ –≤–∞—à ID –Ω–æ–º–µ—Ä",
                step2Desc: "–ó–∞–ø–∏—à–∏—Ç–µ –≤–∞—à ID –Ω–æ–º–µ—Ä –ø–æ—Å–ª–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏",
                step3Title: "–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –≤–∞—à ID –Ω–æ–º–µ—Ä",
                step3Desc: "–í–≤–µ–¥–∏—Ç–µ –≤–∞—à ID –Ω–æ–º–µ—Ä –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ —Å–∏–≥–Ω–∞–ª–æ–≤",
                promoLabel: "–ü–†–û–ú–û–ö–û–î:",
                promoDesc: "–í–≤–µ–¥–∏—Ç–µ –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –Ω–∞ www.xbet.com",
                registerNowText: "–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è",
                registrationNote: "–ü–æ—Å–ª–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å–∏–≥–Ω–∞–ª–æ–≤",
                balanceLabel: "–í–∞—à –±–∞–ª–∞–Ω—Å",
                todayProfitLabel: "–ü—Ä–∏–±—ã–ª—å —Å–µ–≥–æ–¥–Ω—è",
                signalsLabel: "–°–∏–≥–Ω–∞–ª—ã",
                quickSignalText: "–ë—ã—Å—Ç—Ä—ã–π –°–∏–≥–Ω–∞–ª",
                inviteText: "–ü—Ä–∏–≥–ª–∞—Å–∏—Ç—å –î—Ä—É–∑–µ–π",
                bonusText: "–ë–æ–Ω—É—Å—ã",
                statsText: "–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞",
                vipTitle: "–ü—Ä–µ–º–∏—É–º –°–∏–≥–Ω–∞–ª—ã",
                vipDesc: "–ü–æ–ª—É—á–∞–π—Ç–µ VIP —Å–∏–≥–Ω–∞–ª—ã —Å —Ç–æ—á–Ω–æ—Å—Ç—å—é 98.5%",
                upgradeText: "–ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ VIP",
                vipMainTitle: "VIP –î–û–°–¢–£–ü",
                vipSubtitle: "–≠–∫—Å–∫–ª—é–∑–∏–≤–Ω—ã–µ —Ç–æ—Ä–≥–æ–≤—ã–µ —Å–∏–≥–Ω–∞–ª—ã –∏ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏",
                vipFeature1: "98.5% –¢–æ—á–Ω–æ—Å—Ç—å",
                vipFeature1Desc: "–°–∏–≥–Ω–∞–ª—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ AI",
                vipFeature2: "–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ –†–µ–∞–ª—å–Ω–æ–º –í—Ä–µ–º–µ–Ω–∏",
                vipFeature2Desc: "–ú–≥–Ω–æ–≤–µ–Ω–Ω—ã–µ –æ–ø–æ–≤–µ—â–µ–Ω–∏—è",
                vipFeature3: "–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –†–∏—Å–∫–∞–º–∏",
                vipFeature3Desc: "–ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏",
                vipFeature4: "–ü–æ–¥–¥–µ—Ä–∂–∫–∞ 24/7",
                vipFeature4Desc: "–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–∞—è –ø–æ–º–æ—â—å",
                vipRequirementsTitle: "–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è VIP",
                vipProgressText: "–ü—Ä–∏–≥–ª–∞—Å–∏—Ç–µ <span id='vipInvitedCount'>0</span>/20 –¥—Ä—É–∑–µ–π –¥–ª—è —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ VIP",
                vipInviteBtnText: "–ü—Ä–∏–≥–ª–∞—Å–∏—Ç—å –î—Ä—É–∑–µ–π",
                signalTitle: "–ü–æ–ª—É—á–∏—Ç—å –¢–æ—Ä–≥–æ–≤—ã–π –°–∏–≥–Ω–∞–ª",
                roundLabel: "–†–ê–£–ù–î:",
                yourIdText: "ID:",
                gameInstruction: "–ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É '–ü–æ–∫–∞–∑–∞—Ç—å —è–±–ª–æ–∫–∏' –∏ –≤—ã–±–µ—Ä–∏—Ç–µ —Ü–µ–ª–æ–µ —è–±–ª–æ–∫–æ. –ó–∞—Ç–µ–º –ø—Ä–æ–¥–æ–ª–∂–∏—Ç–µ —Å –ø–æ–º–æ—â—å—é –∫–Ω–æ–ø–∫–∏ '–°–ª–µ–¥—É—é—â–∏–π —Å–∏–≥–Ω–∞–ª'.",
                revealText: "–ü–û–ö–ê–ó–ê–¢–¨ –Ø–ë–õ–û–ö–ò",
                nextRoundText: "–°–õ–ï–î–£–Æ–©–ò–ô –°–ò–ì–ù–ê–õ",
                restartText: "–ü–û–ü–†–û–ë–û–í–ê–¢–¨ –°–ù–û–í–ê",
                waitTitle: "–ü–û–ë–ï–î–ê!",
                timerLabel: "–î–û –°–õ–ï–î–£–Æ–©–ï–ì–û –°–ò–ì–ù–ê–õ–ê",
                shareTitle: "–ü—Ä–∏–≥–ª–∞—à–∞–π—Ç–µ –¥—Ä—É–∑–µ–π –∏ —Å–æ–∫—Ä–∞—â–∞–π—Ç–µ –≤—Ä–µ–º—è!",
                shareText: "–ü–†–ò–ì–õ–ê–°–ò–¢–¨ –î–†–£–ó–ï–ô",
                changeIdText: "–°–ú–ï–ù–ò–¢–¨ ID",
                resultTitle: "–†–µ–∑—É–ª—å—Ç–∞—Ç –ò–≥—Ä—ã",
                signalStatsTitle: "–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –°–∏–≥–Ω–∞–ª–æ–≤",
                accuracyLabel: "–¢–æ—á–Ω–æ—Å—Ç—å",
                totalSignalsLabel: "–í—Å–µ–≥–æ –°–∏–≥–Ω–∞–ª–æ–≤",
                profileStatusText: "–ù–µ–∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π",
                registerXbetText: "–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è (AIFUT)",
                verifyIdText: "–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å ID –Ω–æ–º–µ—Ä",
                activityTitle: "–ù–µ–¥–∞–≤–Ω—è—è –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å",
                noActivityText: "–ê–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –ø–æ–∫–∞ –Ω–µ—Ç. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–∏–≥–Ω–∞–ª–æ–≤!",
                navHome: "–ì–ª–∞–≤–Ω–∞—è",
                navVip: "VIP",
                navSignal: "–°–∏–≥–Ω–∞–ª",
                navProfile: "–ü—Ä–æ—Ñ–∏–ª—å",
                idModalTitle: "–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –í–∞—à ID",
                idModalSubtitle: "–í–≤–µ–¥–∏—Ç–µ ID –Ω–æ–º–µ—Ä, –ø–æ–ª—É—á–µ–Ω–Ω—ã–π –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ —Å –ø—Ä–æ–º–æ–∫–æ–¥–æ–º AIFUT",
                idInputLabel: "ID –ù–æ–º–µ—Ä",
                idHelpText: "–í–∞—à ID –Ω–æ–º–µ—Ä, –ø–æ–ª—É—á–µ–Ω–Ω—ã–π –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –Ω–∞ www.xbet.com —Å –ø—Ä–æ–º–æ–∫–æ–¥–æ–º AIFUT",
                saveIdText: "–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å ID",
                inviteModalTitle: "–ü—Ä–∏–≥–ª–∞—Å–∏—Ç—å –î—Ä—É–∑–µ–π",
                inviteModalSubtitle: "–î–µ–ª–∏—Ç–µ—Å—å —Å –¥—Ä—É–∑—å—è–º–∏ –∏ –ø–æ–ª—É—á–∞–π—Ç–µ –±–æ–Ω—É—Å—ã",
                bonusAmount: "+5 –ë–∞–ª–ª–æ–≤ –∑–∞ –î—Ä—É–≥–∞",
                inviteInfo: "–ö–∞–∂–¥—ã–π –ø—Ä–∏–≥–ª–∞—à–µ–Ω–Ω—ã–π –¥—Ä—É–≥ –¥–æ–±–∞–≤–ª—è–µ—Ç 5 –±–∞–ª–ª–æ–≤ –Ω–∞ –≤–∞—à –±–∞–ª–∞–Ω—Å",
                shareTelegramText: "–ü–æ–¥–µ–ª–∏—Ç—å—Å—è –≤ Telegram",
                copyLinkText: "–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –ü—Ä–∏–≥–ª–∞—Å–∏—Ç–µ–ª—å–Ω—É—é –°—Å—ã–ª–∫—É",
                successMessage: "‚úÖ –¶–µ–ª–æ–µ —è–±–ª–æ–∫–æ –≤—ã–±—Ä–∞–Ω–æ!",
                failureMessage: "‚ùå –ù–∞–¥–∫—É—à–µ–Ω–Ω–æ–µ —è–±–ª–æ–∫–æ! –ò–≥—Ä–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞ –Ω–∞ —Ä–∞—É–Ω–¥–µ {round}.",
                gameWonMessage: "üéâ –ü–û–ó–î–†–ê–í–õ–Ø–ï–ú! –í—ã –≤—ã–∏–≥—Ä–∞–ª–∏ –Ω–∞ {round}-–º —Ä–∞—É–Ω–¥–µ!",
                idRequired: "–î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–∏–≥–Ω–∞–ª–æ–≤ –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ —Å–≤–æ–π ID –Ω–æ–º–µ—Ä, –ø–æ–ª—É—á–µ–Ω–Ω—ã–π –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ —Å –ø—Ä–æ–º–æ–∫–æ–¥–æ–º AIFUT.",
                idSaved: "–í–∞—à ID –Ω–æ–º–µ—Ä —É—Å–ø–µ—à–Ω–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω!",
                inviteSent: "–ü—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ! +5 –±–∞–ª–ª–æ–≤ –¥–æ–±–∞–≤–ª–µ–Ω–æ.",
                copied: "–°—Å—ã–ª–∫–∞ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∞!",
                loading: "–ó–∞–≥—Ä—É–∑–∫–∞...",
                selectAppleMessage: "–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ —Ü–µ–ª–æ–µ —è–±–ª–æ–∫–æ!",
                analyzingSignal: "–ê–Ω–∞–ª–∏–∑ —Å–∏–≥–Ω–∞–ª–∞...",
                registerFirst: "–°–Ω–∞—á–∞–ª–∞ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ —Å–∞–π—Ç–µ www.xbet.com!"
            },
            en: {
                welcomeText: "Apple Fortune AI Trading",
                welcomeSubtext: "98.5% accurate AI-based trading signals\nRegister with AIFUT promo code and verify your ID",
                registrationTitle: "Signal Acquisition Process",
                step1Title: "Register on www.xbet.com",
                step1Desc: "Use AIFUT promo code",
                step2Title: "Get your ID number",
                step2Desc: "Note your ID number after registration",
                step3Title: "Verify your ID number",
                step3Desc: "Enter your ID number on signal page",
                promoLabel: "PROMO CODE:",
                promoDesc: "Enter when registering on www.xbet.com",
                registerNowText: "Register Now",
                registrationNote: "After registration, go to signal page",
                balanceLabel: "Your Balance",
                todayProfitLabel: "Today's Profit",
                signalsLabel: "Signals",
                quickSignalText: "Quick Signal",
                inviteText: "Invite Friends",
                bonusText: "Bonuses",
                statsText: "Statistics",
                vipTitle: "Premium Signals",
                vipDesc: "Get exclusive VIP signals with 98.5% accuracy",
                upgradeText: "Upgrade to VIP",
                vipMainTitle: "VIP ACCESS",
                vipSubtitle: "Exclusive trading signals and benefits",
                vipFeature1: "98.5% Accuracy",
                vipFeature1Desc: "AI-powered signals",
                vipFeature2: "Real-time Alerts",
                vipFeature2Desc: "Instant notifications",
                vipFeature3: "Risk Management",
                vipFeature3Desc: "Safe trading strategies",
                vipFeature4: "24/7 Support",
                vipFeature4Desc: "Personal assistance",
                vipRequirementsTitle: "VIP Requirements",
                vipProgressText: "Invite <span id='vipInvitedCount'>0</span>/20 friends to unlock VIP",
                vipInviteBtnText: "Invite Friends",
                signalTitle: "Get Trading Signal",
                roundLabel: "ROUND:",
                yourIdText: "ID:",
                gameInstruction: "Click 'Reveal Apples' button and select a whole apple. Then continue with 'Next Signal' button.",
                revealText: "REVEAL APPLES",
                nextRoundText: "NEXT SIGNAL",
                restartText: "TRY AGAIN",
                waitTitle: "VICTORY!",
                timerLabel: "NEXT SIGNAL IN",
                shareTitle: "Invite friends and reduce time!",
                shareText: "INVITE FRIENDS",
                changeIdText: "CHANGE ID",
                resultTitle: "Game Result",
                signalStatsTitle: "Signal Statistics",
                accuracyLabel: "Accuracy",
                totalSignalsLabel: "Total Signals",
                profileStatusText: "Unregistered",
                registerXbetText: "Register (AIFUT)",
                verifyIdText: "Verify ID Number",
                activityTitle: "Recent Activity",
                noActivityText: "No activity yet. Register to get signals!",
                navHome: "Home",
                navVip: "VIP",
                navSignal: "Signal",
                navProfile: "Profile",
                idModalTitle: "Verify Your ID",
                idModalSubtitle: "Enter your ID number obtained by registering with AIFUT promo code",
                idInputLabel: "ID Number",
                idHelpText: "Your ID number obtained by registering on www.xbet.com with AIFUT promo code",
                saveIdText: "Verify ID",
                inviteModalTitle: "Invite Friends",
                inviteModalSubtitle: "Share with friends and earn bonuses",
                bonusAmount: "+5 Points per Friend",
                inviteInfo: "Each invited friend adds 5 points to your balance",
                shareTelegramText: "Share on Telegram",
                copyLinkText: "Copy Invite Link",
                successMessage: "‚úÖ Whole apple selected!",
                failureMessage: "‚ùå Bitten apple! Game ended at round {round}.",
                gameWonMessage: "üéâ CONGRATULATIONS! You won at round {round}!",
                idRequired: "Please verify your ID number obtained by registering with AIFUT promo code to get signals.",
                idSaved: "Your ID number successfully verified!",
                inviteSent: "Invitation successfully sent! +5 points added.",
                copied: "Link copied!",
                loading: "Loading...",
                selectAppleMessage: "Please select a whole apple!",
                analyzingSignal: "Analyzing signal...",
                registerFirst: "First register on www.xbet.com!"
            }
        };

        // ==================== APPLICATION STATE ====================
        let currentLang = 'uz';
        let userId = '';
        let userBalance = 0;
        let invitedFriends = 0;
        let gameRound = 1;
        let gameActive = false;
        let applesRevealed = false;
        let currentUserId = '';
        let countdownInterval = null;
        let countdownTime = 2 * 60 * 60; // 2 soat (2 hours)
        let endRoundValue = 0;
        let invitedFriendsVIP = 0;
        const REQUIRED_VIP_FRIENDS = 20;
        let activityLog = [];
        let selectedApple = null;
        let selectedAppleType = null;
        let totalGamesPlayed = 0;
        let successfulGames = 0;

        // ==================== DOM ELEMENTS ====================
        const languageSelector = document.getElementById('languageSelector');
        const mainContainer = document.getElementById('mainContainer');
        const hackerAnimation = document.getElementById('hackerAnimation');
        const matrixText = document.getElementById('matrixText');
        const progressFill = document.getElementById('progressFill');
        const bottomNavItems = document.querySelectorAll('.nav-item');
        const contentSections = document.querySelectorAll('.content-section');
        
        // Modals
        const idModal = document.getElementById('idModal');
        const inviteModal = document.getElementById('inviteModal');
        
        // Inputs
        const userIdInput = document.getElementById('userIdInput');
        const saveIdBtn = document.getElementById('saveIdBtn');
        const registerFirstBtn = document.getElementById('registerFirstBtn');
        const registerXbetBtn = document.getElementById('registerXbetBtn');
        const verifyIdBtn = document.getElementById('verifyIdBtn');
        const registerNowBtn = document.getElementById('registerNowBtn');
        
        // Buttons
        const quickSignalBtn = document.getElementById('quickSignalBtn');
        const inviteBtn = document.getElementById('inviteBtn');
        const upgradeVipBtn = document.getElementById('upgradeVipBtn');
        const vipInviteBtn = document.getElementById('vipInviteBtn');
        const revealBtn = document.getElementById('revealBtn');
        const nextRoundBtn = document.getElementById('nextRoundBtn');
        const restartBtn = document.getElementById('restartBtn');
        const shareProfileBtn = document.getElementById('shareProfileBtn');
        const changeProfileIdBtn = document.getElementById('changeProfileIdBtn');
        const shareTelegramBtn = document.getElementById('shareTelegramBtn');
        const copyLinkBtn = document.getElementById('copyLinkBtn');
        
        // Game elements
        const roundCounter = document.getElementById('roundCounter');
        const gameUserId = document.getElementById('gameUserId');
        const applesContainer = document.getElementById('applesContainer');
        const resultMessage = document.getElementById('resultMessage');
        
        // Display elements
        const displayUserId = document.getElementById('displayUserId');
        const profileUserId = document.getElementById('profileUserId');
        const balanceAmount = document.getElementById('balanceAmount');
        const profileBalance = document.getElementById('profileBalance');
        const invitedFriendsDisplay = document.getElementById('invitedFriends');
        const vipInvitedCount = document.getElementById('vipInvitedCount');
        const vipProgress = document.getElementById('vipProgress');
        const totalGamesDisplay = document.getElementById('totalGames');
        const successRateDisplay = document.getElementById('successRate');

        // ==================== INITIALIZATION ====================
        document.addEventListener('DOMContentLoaded', function() {
            // Check language
            const savedLang = localStorage.getItem('appleFortuneLang');
            if (savedLang) {
                currentLang = savedLang;
            }
            loadLanguage();
            
            // Set up event listeners
            setupEventListeners();
            
            // Load user data
            loadUserData();
        });

        // ==================== LANGUAGE FUNCTIONS ====================
        function loadLanguage() {
            const t = translations[currentLang] || translations.uz;
            
            // Update all translatable elements
            document.querySelectorAll('[id]').forEach(element => {
                const key = element.id;
                if (t[key]) {
                    if (element.tagName === 'INPUT') {
                        element.placeholder = t[key];
                    } else {
                        element.innerHTML = t[key];
                    }
                }
            });
            
            // Update navigation
            document.querySelectorAll('.nav-item').forEach((item, index) => {
                const spans = item.querySelectorAll('span');
                if (spans[0]) {
                    const keys = ['navHome', 'navVip', 'navSignal', 'navProfile'];
                    spans[0].textContent = t[keys[index]];
                }
            });
        }

        // ==================== USER DATA FUNCTIONS ====================
        function loadUserData() {
            // Load from localStorage
            const savedUserId = localStorage.getItem('appleFortuneUserId');
            const savedBalance = localStorage.getItem('appleFortuneBalance');
            const savedInvited = localStorage.getItem('appleFortuneInvited');
            const savedInvitedVIP = localStorage.getItem('appleFortuneInvitedFriendsVIP');
            const savedActivities = localStorage.getItem('appleFortuneActivities');
            const savedTimerEnd = localStorage.getItem('appleFortuneTimerEnd');
            const savedEndRound = localStorage.getItem('appleFortuneEndRound');
            const savedTotalGames = localStorage.getItem('appleFortuneTotalGames');
            const savedSuccessfulGames = localStorage.getItem('appleFortuneSuccessfulGames');
            
            if (savedUserId) {
                userId = savedUserId;
                currentUserId = savedUserId;
                updateUserDisplay();
            }
            
            if (savedBalance) {
                userBalance = parseInt(savedBalance);
            }
            
            if (savedInvited) {
                invitedFriends = parseInt(savedInvited);
            }
            
            if (savedInvitedVIP) {
                invitedFriendsVIP = parseInt(savedInvitedVIP);
            }
            
            if (savedActivities) {
                activityLog = JSON.parse(savedActivities);
                updateActivityLog();
            }
            
            if (savedTimerEnd) {
                const now = Date.now();
                const timerEnd = parseInt(savedTimerEnd);
                
                if (timerEnd > now) {
                    countdownTime = Math.floor((timerEnd - now) / 1000);
                    endRoundValue = parseInt(savedEndRound) || 1;
                }
            }
            
            if (savedTotalGames) {
                totalGamesPlayed = parseInt(savedTotalGames);
            }
            
            if (savedSuccessfulGames) {
                successfulGames = parseInt(savedSuccessfulGames);
            }
            
            updateBalanceDisplay();
            updateInvitedCount();
            updateGameStats();
        }

        function saveUserData() {
            localStorage.setItem('appleFortuneUserId', userId);
            localStorage.setItem('appleFortuneBalance', userBalance.toString());
            localStorage.setItem('appleFortuneInvited', invitedFriends.toString());
            localStorage.setItem('appleFortuneInvitedFriendsVIP', invitedFriendsVIP.toString());
            localStorage.setItem('appleFortuneActivities', JSON.stringify(activityLog));
            localStorage.setItem('appleFortuneTotalGames', totalGamesPlayed.toString());
            localStorage.setItem('appleFortuneSuccessfulGames', successfulGames.toString());
        }

        function updateUserDisplay() {
            if (displayUserId) {
                displayUserId.textContent = userId ? `ID: ${userId}` : `ID: Yo'q`;
            }
            if (profileUserId) {
                profileUserId.textContent = userId ? `ID: ${userId}` : `ID: Ro'yxatlanmagan`;
            }
            if (gameUserId) {
                gameUserId.textContent = userId || "Yo'q";
            }
            
            // Update status based on whether user has ID
            const statusElements = document.querySelectorAll('#userStatus, #userStatusVip, #userStatusProfile, #profileStatusText');
            const t = translations[currentLang] || translations.uz;
            if (userId) {
                statusElements.forEach(el => {
                    if (el.id === 'profileStatusText') {
                        el.textContent = "Faol";
                    } else {
                        el.textContent = "Faol";
                    }
                    if (el.previousElementSibling && el.previousElementSibling.classList) {
                        el.previousElementSibling.classList.remove('fa-times-circle');
                        el.previousElementSibling.classList.add('fa-check-circle');
                    }
                });
                
                // Update badge color
                document.querySelectorAll('.user-status').forEach(el => {
                    el.style.color = 'var(--success)';
                });
            } else {
                statusElements.forEach(el => {
                    el.textContent = t.profileStatusText || "Ro'yxatlanmagan";
                    if (el.previousElementSibling && el.previousElementSibling.classList) {
                        el.previousElementSibling.classList.remove('fa-check-circle');
                        el.previousElementSibling.classList.add('fa-times-circle');
                    }
                });
                
                // Update badge color
                document.querySelectorAll('.user-status').forEach(el => {
                    el.style.color = 'var(--gray)';
                });
            }
        }

        function updateBalanceDisplay() {
            if (balanceAmount) {
                balanceAmount.textContent = userBalance.toLocaleString();
            }
            if (profileBalance) {
                profileBalance.textContent = userBalance.toLocaleString();
            }
        }

        function updateInvitedCount() {
            if (invitedFriendsDisplay) {
                invitedFriendsDisplay.textContent = invitedFriends;
            }
            if (vipInvitedCount) {
                vipInvitedCount.textContent = invitedFriendsVIP;
            }
            if (vipProgress) {
                const progress = Math.min((invitedFriendsVIP / 20) * 100, 100);
                vipProgress.style.width = `${progress}%`;
            }
        }

        function updateGameStats() {
            if (totalGamesDisplay) {
                totalGamesDisplay.textContent = totalGamesPlayed;
            }
            if (successRateDisplay) {
                const successRate = totalGamesPlayed > 0 ? Math.round((successfulGames / totalGamesPlayed) * 100) : 0;
                successRateDisplay.textContent = `${successRate}%`;
            }
        }

        function addActivity(action, details = '') {
            const t = translations[currentLang] || translations.uz;
            const now = new Date();
            const time = now.toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});
            
            let actionText = '';
            switch(action) {
                case 'game_start':
                    actionText = 'O\'yin boshladi';
                    break;
                case 'game_won':
                    actionText = `O\'yin yakunlandi - ${details}-raund`;
                    successfulGames++;
                    totalGamesPlayed++;
                    updateGameStats();
                    saveUserData();
                    break;
                case 'game_lost':
                    actionText = `O\'yinda yutqazdingiz - ${details}-raund`;
                    totalGamesPlayed++;
                    updateGameStats();
                    saveUserData();
                    break;
                case 'invite_sent':
                    actionText = 'Do\'st taklif qilindi';
                    break;
                case 'balance_added':
                    actionText = `+${details} ball qo\'shildi`;
                    break;
                case 'id_saved':
                    actionText = 'ID tasdiqlandi';
                    break;
                default:
                    actionText = action;
            }
            
            activityLog.unshift({
                action: actionText,
                time: time,
                date: now.toLocaleDateString()
            });
            
            // Keep only last 10 activities
            if (activityLog.length > 10) {
                activityLog.pop();
            }
            
            updateActivityLog();
            saveUserData();
        }

        function updateActivityLog() {
            const activityList = document.getElementById('activityList');
            const noActivityText = document.getElementById('noActivityText');
            
            if (!activityList) return;
            
            if (activityLog.length === 0) {
                activityList.innerHTML = `<p id="noActivityText">${translations[currentLang]?.noActivityText || 'Hozircha faoliyat yo\'q. Signallarni olish uchun ro\'yxatdan o\'ting!'}</p>`;
                return;
            }
            
            let html = '';
            activityLog.forEach(activity => {
                html += `
                    <div style="display: flex; justify-content: space-between; padding: 10px 0; border-bottom: 1px solid var(--border);">
                        <span>${activity.action}</span>
                        <span style="color: var(--gray); font-size: 0.9rem;">${activity.time}</span>
                    </div>
                `;
            });
            
            activityList.innerHTML = html;
        }

        // ==================== ID VALIDATION ====================
        function validateUserId(userId) {
            // 9 dan 11 gacha raqamli son
            const idRegex = /^[0-9]{9,11}$/;
            return idRegex.test(userId);
        }

        // ==================== GAME FUNCTIONS ====================
        function startGame() {
            if (!userId) {
                return; // ID modal signal sahifasida ochiladi
            }
            
            // Hide wait modal if active
            hideWaitModal();
            
            gameActive = false;
            applesRevealed = false;
            selectedApple = null;
            selectedAppleType = null;
            createMysteryApples();
            
            addActivity('game_start');
        }

        function createMysteryApples() {
            if (!applesContainer) return;
            
            applesContainer.innerHTML = '';
            if (resultMessage) resultMessage.style.display = 'none';
            if (restartBtn) restartBtn.style.display = 'none';
            if (nextRoundBtn) nextRoundBtn.style.display = 'none';
            if (revealBtn) {
                revealBtn.disabled = false;
                revealBtn.innerHTML = `<i class="fas fa-eye"></i> ${translations[currentLang]?.revealText || 'OLMALARNI KORISH'}`;
                revealBtn.style.display = 'block';
            }
            
            if (roundCounter) roundCounter.textContent = gameRound;
            
            // Create 5 mystery apples in one row
            for (let i = 0; i < 5; i++) {
                const apple = document.createElement('div');
                apple.className = 'apple mystery-apple';
                apple.dataset.index = i;
                applesContainer.appendChild(apple);
            }
        }

        function revealApples() {
            if (!applesContainer) return;
            
            applesContainer.innerHTML = '';
            applesRevealed = true;
            gameActive = true;
            if (revealBtn) {
                revealBtn.disabled = true;
                revealBtn.innerHTML = `<i class="fas fa-hand-pointer"></i> ${translations[currentLang]?.revealText || 'OLMALARNI KORISH'}`;
            }
            
            // Tishlangan olmalar konfiguratsiyasi
            // 1-2 raund: 1 ta tishlangan olma
            // 3-4 raund: 2 ta tishlangan olma  
            // 5-6-7 raund: 3 ta tishlangan olma
            const roundConfig = {
                1: { whole: 4, bitten: 1 },
                2: { whole: 4, bitten: 1 },
                3: { whole: 3, bitten: 2 },
                4: { whole: 3, bitten: 2 },
                5: { whole: 2, bitten: 3 },
                6: { whole: 2, bitten: 3 },
                7: { whole: 2, bitten: 3 }
            };
            
            const config = roundConfig[gameRound] || { whole: 2, bitten: 3 };
            const totalApples = 5;
            
            let apples = [];
            for (let i = 0; i < config.whole; i++) {
                apples.push('whole');
            }
            for (let i = 0; i < config.bitten; i++) {
                apples.push('bitten');
            }
            
            // Shuffle
            for (let i = apples.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [apples[i], apples[j]] = [apples[j], apples[i]];
            }
            
            // Create apples in one row
            for (let i = 0; i < totalApples; i++) {
                const apple = document.createElement('div');
                const appleType = apples[i];
                
                apple.className = `apple ${appleType === 'whole' ? 'whole-apple' : 'bitten-apple'}`;
                apple.dataset.index = i;
                apple.dataset.type = appleType;
                
                apple.addEventListener('click', function() {
                    if (!gameActive) return;
                    selectApple(this);
                });
                
                applesContainer.appendChild(apple);
            }
        }

        function selectApple(appleElement) {
            if (!gameActive) return;
            
            // Remove previous selection
            if (selectedApple) {
                selectedApple.classList.remove('selected-apple');
            }
            
            // Select new apple
            appleElement.classList.add('selected-apple');
            selectedApple = appleElement;
            selectedAppleType = appleElement.dataset.type;
            
            const t = translations[currentLang] || translations.uz;
            
            if (selectedAppleType === 'whole') {
                if (resultMessage) {
                    resultMessage.innerHTML = '<span class="signal-success">‚úÖ Butun olma tanlandi! "Keyingi signal" tugmasini bosing.</span>';
                    resultMessage.style.display = 'block';
                }
                
                // Show next round button
                if (nextRoundBtn) {
                    nextRoundBtn.style.display = 'block';
                }
                
            } else {
                if (resultMessage) {
                    resultMessage.textContent = t.selectAppleMessage;
                    resultMessage.style.color = '#ffcc00';
                    resultMessage.style.display = 'block';
                }
                
                // Hide next round button if shown
                if (nextRoundBtn) {
                    nextRoundBtn.style.display = 'none';
                }
            }
        }

        function goToNextRound() {
            if (!selectedApple || !selectedAppleType) {
                const t = translations[currentLang] || translations.uz;
                showNotification(t.selectAppleMessage || 'Iltimos, butun olma tanlang!', 'warning');
                return;
            }
            
            if (selectedAppleType === 'bitten') {
                const t = translations[currentLang] || translations.uz;
                showNotification(t.selectAppleMessage || 'Iltimos, butun olma tanlang!', 'warning');
                return;
            }
            
            gameActive = false;
            
            const t = translations[currentLang] || translations.uz;
            
            // Show analyzing animation
            showHackerAnimation(t.analyzingSignal || 'Signal tahlil qilinmoqda...', 2000);
            
            setTimeout(() => {
                // O'ZGARTIRILDI: 4-5 raundlarda ko'proq tugash ehtimoli
                const roundEndProbabilities = {
                    1: 0.05,   // 5%
                    2: 0.15,   // 15%
                    3: 0.30,   // 30%
                    4: 0.65,   // 65% - KO'PROQ
                    5: 0.85,   // 85% - KO'PROQ
                    6: 0.95,   // 95%
                    7: 1.00    // 100%
                };
                
                const endProbability = roundEndProbabilities[gameRound] || 0;
                
                if (Math.random() < endProbability || gameRound >= 7) {
                    // O'yin tugadi - yutuq
                    endRoundValue = gameRound;
                    localStorage.setItem('appleFortuneEndRound', endRoundValue);
                    
                    // Balance qo'shish
                    const winAmount = gameRound * 500;
                    userBalance += winAmount;
                    updateBalanceDisplay();
                    saveUserData();
                    
                    // Yutuq xabarini ko'rsatish
                    if (resultMessage) {
                        resultMessage.innerHTML = `<span class="signal-success">üéâ ${t.gameWonMessage.replace('{round}', gameRound)} +${winAmount} ball!</span>`;
                        resultMessage.style.display = 'block';
                    }
                    
                    // Restart tugmasini ko'rsatish
                    if (restartBtn) {
                        restartBtn.style.display = 'block';
                    }
                    
                    // Taymerni boshlash
                    setTimeout(() => {
                        showWaitModal();
                        addActivity('game_won', gameRound);
                    }, 2000);
                } else {
                    // Keyingi raundga o'tish
                    gameRound++;
                    
                    if (resultMessage) {
                        resultMessage.innerHTML = '<span class="signal-success">‚úÖ Keyingi raundga o\'tilmoqda...</span>';
                        resultMessage.style.display = 'block';
                    }
                    
                    setTimeout(() => {
                        startGame();
                        addActivity('game_won', gameRound - 1);
                    }, 1500);
                }
                
                // Hide next round button
                if (nextRoundBtn) {
                    nextRoundBtn.style.display = 'none';
                }
                
            }, 2000);
        }

        // ==================== WAIT MODAL FUNCTIONS ====================
        function showWaitModal() {
            // Create wait modal
            const waitModalHTML = `
                <div class="modal active" id="waitModal">
                    <div class="modal-content" style="max-width: 450px;">
                        <div class="modal-header">
                            <div style="font-size: 3rem; color: var(--warning); margin-bottom: 15px;">
                                <i class="fas fa-clock"></i>
                            </div>
                            <h3 class="modal-title">YUTUQNI OLING!</h3>
                            <p class="modal-subtitle">
                                Siz <span style="color: var(--warning);">${endRoundValue}</span>-raundda yutdingiz!
                            </p>
                        </div>
                        
                        <div class="timer-display">
                            <div class="timer-label">KEYINGI SIGNALGACHA</div>
                            <div class="timer-value" id="waitModalTimer">02:00:00</div>
                        </div>
                        
                        <div class="share-section">
                            <div class="share-title">
                                Do'stlaringizni taklif qiling va vaqtni qisqartiring!
                            </div>
                            <button class="share-btn" id="waitModalShareBtn">
                                <i class="fas fa-share-alt"></i> DO'STLARNI TAKLIF QILISH
                            </button>
                            <p style="color: var(--gray); font-size: 0.9rem; margin-top: 10px;">
                                Har bir taklif qilingan do'st uchun 30 daqiqa vaqt qisqaradi
                            </p>
                        </div>
                        
                        <div style="display: flex; gap: 10px; margin-top: 20px;">
                            <button class="btn btn-primary" id="waitModalContinueBtn" style="flex: 2;">
                                <i class="fas fa-play"></i> DAVOM ETISH
                            </button>
                            <button class="btn btn-secondary" id="waitModalChangeIdBtn" style="flex: 1;">
                                <i class="fas fa-sync-alt"></i>
                            </button>
                        </div>
                    </div>
                </div>
            `;
            
            // Remove existing wait modal
            const existingModal = document.getElementById('waitModal');
            if (existingModal) {
                existingModal.remove();
            }
            
            // Add new wait modal
            document.body.insertAdjacentHTML('beforeend', waitModalHTML);
            
            // Start countdown (2 soat)
            countdownTime = 2 * 60 * 60; // 2 soat
            startWaitModalCountdown();
            
            // Add event listeners for wait modal
            setTimeout(() => {
                const waitModalShareBtn = document.getElementById('waitModalShareBtn');
                const waitModalContinueBtn = document.getElementById('waitModalContinueBtn');
                const waitModalChangeIdBtn = document.getElementById('waitModalChangeIdBtn');
                const waitModal = document.getElementById('waitModal');
                
                if (waitModalShareBtn) {
                    waitModalShareBtn.addEventListener('click', () => {
                        shareMessage();
                        // Reduce wait time - 30 daqiqa qisqartirish
                        if (countdownTime > 30 * 60) {
                            countdownTime -= 30 * 60;
                            updateWaitModalCountdown();
                            
                            const timerEndTime = Date.now() + (countdownTime * 1000);
                            localStorage.setItem('appleFortuneTimerEnd', timerEndTime.toString());
                            
                            showNotification('+30 daqiqa', 'success');
                        }
                    });
                }
                
                if (waitModalContinueBtn) {
                    waitModalContinueBtn.addEventListener('click', () => {
                        if (countdownTime <= 0) {
                            hideWaitModal();
                            gameRound = 1;
                            startGame();
                        } else {
                            showNotification('Hali vaqt qolmagan!', 'warning');
                        }
                    });
                }
                
                if (waitModalChangeIdBtn) {
                    waitModalChangeIdBtn.addEventListener('click', () => {
                        hideWaitModal();
                        showModal(idModal);
                    });
                }
                
                if (waitModal) {
                    waitModal.addEventListener('click', (e) => {
                        if (e.target === waitModal) {
                            hideWaitModal();
                        }
                    });
                }
            }, 100);
        }

        function hideWaitModal() {
            const waitModal = document.getElementById('waitModal');
            if (waitModal) {
                waitModal.remove();
            }
            if (countdownInterval) {
                clearInterval(countdownInterval);
            }
        }

        function startWaitModalCountdown() {
            updateWaitModalCountdown();
            
            if (countdownInterval) {
                clearInterval(countdownInterval);
            }
            
            countdownInterval = setInterval(() => {
                countdownTime--;
                updateWaitModalCountdown();
                
                const timerEndTime = Date.now() + (countdownTime * 1000);
                localStorage.setItem('appleFortuneTimerEnd', timerEndTime.toString());
                
                if (countdownTime <= 0) {
                    clearInterval(countdownInterval);
                    localStorage.removeItem('appleFortuneTimerEnd');
                    localStorage.removeItem('appleFortuneEndRound');
                    
                    gameRound = 1;
                    hideWaitModal();
                    startGame();
                }
            }, 1000);
        }

        function updateWaitModalCountdown() {
            const waitModalTimer = document.getElementById('waitModalTimer');
            if (!waitModalTimer) return;
            
            const hours = Math.floor(countdownTime / 3600);
            const minutes = Math.floor((countdownTime % 3600) / 60);
            const seconds = countdownTime % 60;
            
            const timeString = `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            waitModalTimer.textContent = timeString;
        }

        // ==================== MODAL FUNCTIONS ====================
        function showModal(modal) {
            modal.classList.add('active');
        }

        function hideModal(modal) {
            modal.classList.remove('active');
        }

        // ==================== ANIMATION FUNCTIONS ====================
        function showHackerAnimation(text, duration = 2000) {
            if (matrixText) matrixText.textContent = text;
            if (progressFill) progressFill.style.width = '0%';
            
            hackerAnimation.style.display = 'flex';
            
            setTimeout(() => {
                if (progressFill) progressFill.style.width = '100%';
            }, 100);
            
            setTimeout(() => {
                hackerAnimation.style.display = 'none';
            }, duration);
        }

        function showNotification(message, type = 'info') {
            // Create notification element
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: var(--card-bg);
                border: 1px solid ${type === 'success' ? 'var(--success)' : type === 'error' ? 'var(--danger)' : 'var(--primary)'};
                border-radius: 16px;
                padding: 15px 20px;
                color: white;
                font-weight: 500;
                z-index: 9999;
                backdrop-filter: blur(20px);
                transform: translateX(150%);
                transition: transform 0.3s ease;
                max-width: 300px;
                box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            `;
            notification.textContent = message;
            
            document.body.appendChild(notification);
            
            // Animate in
            setTimeout(() => {
                notification.style.transform = 'translateX(0)';
            }, 10);
            
            // Remove after delay
            setTimeout(() => {
                notification.style.transform = 'translateX(150%)';
                setTimeout(() => {
                    document.body.removeChild(notification);
                }, 300);
            }, 3000);
        }

        // ==================== NAVIGATION FUNCTIONS ====================
        function switchSection(sectionName) {
            // Update navigation
            bottomNavItems.forEach(item => {
                if (item.dataset.section === sectionName) {
                    item.classList.add('active');
                } else {
                    item.classList.remove('active');
                }
            });
            
            // Show corresponding section
            contentSections.forEach(section => {
                if (section.id === `${sectionName}Section`) {
                    section.classList.add('active');
                    
                    // If switching to signal section, ALWAYS show ID modal if no ID
                    if (sectionName === 'signal' && !userId) {
                        const t = translations[currentLang] || translations.uz;
                        setTimeout(() => {
                            showNotification(t.idRequired || "Signallarni olish uchun ID raqamingizni kiriting");
                            showModal(idModal);
                        }, 500);
                    }
                    
                    // If we already have ID and are in signal section, start game
                    if (sectionName === 'signal' && userId) {
                        startGame();
                    }
                } else {
                    section.classList.remove('active');
                }
            });
        }

        // ==================== SHARE FUNCTIONS ====================
        function shareMessage() {
            if (!userId) {
                const t = translations[currentLang] || translations.uz;
                showNotification(t.idRequired || "Avval ID raqamingizni tasdiqlang!");
                showModal(idModal);
                return;
            }
            
            const t = translations[currentLang] || translations.uz;
            const message = `üéØ ${t.signalTitle} | Apple Fortune\n\nJoin me for AI trading signals!\nüëâ t.me/Strategioyinlar_bot\n\nMy ID: ${userId}\n\n#AppleFortune #AITrading`;
            const url = `https://t.me/share/url?url=https://t.me/Strategioyinlar_bot?start=${userId}&text=${encodeURIComponent(message)}`;
            window.open(url, '_blank');
            
            // Add balance for sharing
            userBalance += 5;
            invitedFriends++;
            invitedFriendsVIP++;
            updateBalanceDisplay();
            updateInvitedCount();
            saveUserData();
            addActivity('invite_sent');
            addActivity('balance_added', '5');
            
            showNotification(t.inviteSent || 'Taklif muvaffaqiyatli yuborildi! +5 ball qo\'shildi.', 'success');
        }

        // ==================== EVENT LISTENERS ====================
        function setupEventListeners() {
            // Language selection
            document.querySelectorAll('.language-card').forEach(card => {
                card.addEventListener('click', () => {
                    const lang = card.dataset.lang;
                    currentLang = lang;
                    localStorage.setItem('appleFortuneLang', lang);
                    loadLanguage();
                    
                    // Hide language selector
                    languageSelector.style.display = 'none';
                    
                    // Show main container with HOME section
                    mainContainer.classList.add('active');
                    switchSection('home');
                });
            });
            
            // Navigation
            bottomNavItems.forEach(item => {
                item.addEventListener('click', (e) => {
                    e.preventDefault();
                    const section = item.dataset.section;
                    switchSection(section);
                });
            });
            
            // ID Modal
            saveIdBtn.addEventListener('click', () => {
                const id = userIdInput.value.trim();
                
                if (validateUserId(id)) {
                    userId = id;
                    currentUserId = id;
                    updateUserDisplay();
                    saveUserData();
                    hideModal(idModal);
                    
                    // Add initial balance when ID is verified
                    userBalance = 5000;
                    updateBalanceDisplay();
                    saveUserData();
                    
                    const t = translations[currentLang] || translations.uz;
                    showNotification(t.idSaved || 'ID raqamingiz muvaffaqiyatli tasdiqlandi! +5000 ball qo\'shildi.', 'success');
                    addActivity('id_saved');
                    addActivity('balance_added', '5000');
                    
                    // Start game if we're in signal section
                    if (document.getElementById('signalSection').classList.contains('active')) {
                        startGame();
                    }
                } else {
                    showNotification('Iltimos, 9 dan 11 ta gacha raqamli ID raqam kiriting.', 'error');
                }
            });
            
            // Register first button in ID modal
            registerFirstBtn.addEventListener('click', () => {
                hideModal(idModal);
                window.open('https://www.xbet.com', '_blank');
            });
            
            // Register button in profile section
            registerXbetBtn.addEventListener('click', () => {
                window.open('https://www.xbet.com', '_blank');
            });
            
            // Register now button in home section
            registerNowBtn.addEventListener('click', () => {
                window.open('https://www.xbet.com', '_blank');
            });
            
            // Verify ID button in profile section
            verifyIdBtn.addEventListener('click', () => {
                showModal(idModal);
            });
            
            // Game buttons
            revealBtn.addEventListener('click', function() {
                if (!applesRevealed) {
                    revealApples();
                }
            });
            
            nextRoundBtn.addEventListener('click', function() {
                goToNextRound();
            });
            
            restartBtn.addEventListener('click', function() {
                gameRound = 1;
                startGame();
            });
            
            // Invite buttons
            inviteBtn.addEventListener('click', () => {
                if (!userId) {
                    const t = translations[currentLang] || translations.uz;
                    showNotification(t.idRequired || "Avval ID raqamingizni tasdiqlang!");
                    showModal(idModal);
                    return;
                }
                showModal(inviteModal);
            });
            
            vipInviteBtn.addEventListener('click', () => {
                if (!userId) {
                    const t = translations[currentLang] || translations.uz;
                    showNotification(t.idRequired || "Avval ID raqamingizni tasdiqlang!");
                    showModal(idModal);
                    return;
                }
                showModal(inviteModal);
            });
            
            upgradeVipBtn.addEventListener('click', () => {
                if (!userId) {
                    const t = translations[currentLang] || translations.uz;
                    showNotification(t.idRequired || "Avval ID raqamingizni tasdiqlang!");
                    showModal(idModal);
                    return;
                }
                showHackerAnimation('UPGRADING TO VIP...', 3000);
                setTimeout(() => {
                    showNotification('VIP access activated!', 'success');
                    switchSection('vip');
                }, 3000);
            });
            
            // Quick signal
            quickSignalBtn.addEventListener('click', () => {
                switchSection('signal');
            });
            
            // Share buttons
            shareTelegramBtn.addEventListener('click', () => {
                if (!userId) {
                    const t = translations[currentLang] || translations.uz;
                    showNotification(t.idRequired || "Avval ID raqamingizni tasdiqlang!");
                    showModal(idModal);
                    return;
                }
                shareMessage();
                hideModal(inviteModal);
            });
            
            copyLinkBtn.addEventListener('click', () => {
                if (!userId) {
                    const t = translations[currentLang] || translations.uz;
                    showNotification(t.idRequired || "Avval ID raqamingizni tasdiqlang!");
                    showModal(idModal);
                    return;
                }
                const link = `https://t.me/Strategioyinlar_bot?start=${userId}`;
                navigator.clipboard.writeText(link).then(() => {
                    const t = translations[currentLang] || translations.uz;
                    showNotification(t.copied || 'Havola nusxalandi!', 'success');
                    hideModal(inviteModal);
                });
            });
            
            // Close modals on background click
            [idModal, inviteModal].forEach(modal => {
                modal.addEventListener('click', (e) => {
                    if (e.target === modal) {
                        hideModal(modal);
                    }
                });
            });
        }
    </script>
</body>
</html>
