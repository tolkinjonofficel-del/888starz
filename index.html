<!DOCTYPE html>
<html lang="uz">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Apple of Fortune - Premium AI Trading Signals</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* ============ GLOBAL STYLES ============ */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #0f0c29, #302b63, #24243e);
            color: #ffffff;
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
            line-height: 1.6;
        }

        /* ============ ANIMATED BACKGROUND ============ */
        .bg-animation {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -2;
            overflow: hidden;
        }

        .bg-particle {
            position: absolute;
            background: radial-gradient(circle, rgba(0, 150, 255, 0.2) 0%, transparent 70%);
            border-radius: 50%;
            animation: float 15s infinite linear;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0) translateX(0); }
            25% { transform: translateY(-20px) translateX(10px); }
            50% { transform: translateY(0) translateX(20px); }
            75% { transform: translateY(20px) translateX(10px); }
        }

        .grid-lines {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: 
                linear-gradient(rgba(0, 150, 255, 0.05) 1px, transparent 1px),
                linear-gradient(90deg, rgba(0, 150, 255, 0.05) 1px, transparent 1px);
            background-size: 50px 50px;
            z-index: -1;
            opacity: 0.3;
        }

        /* ============ LANGUAGE SELECTOR ============ */
        #languageSelector {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #0a0a1f, #1a1a3e);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            padding: 20px;
            text-align: center;
            backdrop-filter: blur(10px);
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .language-logo {
            width: 120px;
            height: 120px;
            background: linear-gradient(135deg, #00d4ff, #0099ff, #0066ff);
            border-radius: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 30px;
            box-shadow: 0 10px 40px rgba(0, 212, 255, 0.5);
            animation: pulse-glow 3s infinite alternate;
        }

        @keyframes pulse-glow {
            0% { 
                box-shadow: 0 10px 30px rgba(0, 212, 255, 0.4);
                transform: scale(1);
            }
            100% { 
                box-shadow: 0 15px 50px rgba(0, 212, 255, 0.7);
                transform: scale(1.05);
            }
        }

        .language-logo span {
            font-size: 60px;
            animation: spin 8s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        #languageSelector h1 {
            font-size: 2.5rem;
            margin-bottom: 15px;
            background: linear-gradient(135deg, #00d4ff, #0099ff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-weight: 800;
            letter-spacing: -0.5px;
        }

        #languagePrompt {
            font-size: 1.1rem;
            color: #a0d2ff;
            margin-bottom: 40px;
            max-width: 500px;
            line-height: 1.5;
        }

        .language-buttons {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            width: 100%;
            max-width: 800px;
        }

        .lang-select-btn {
            background: rgba(0, 100, 255, 0.15);
            border: 2px solid rgba(0, 150, 255, 0.3);
            border-radius: 15px;
            padding: 20px;
            color: #fff;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
            backdrop-filter: blur(10px);
        }

        .lang-select-btn:hover {
            transform: translateY(-5px);
            border-color: #00d4ff;
            background: rgba(0, 150, 255, 0.25);
            box-shadow: 0 10px 25px rgba(0, 212, 255, 0.3);
        }

        /* ============ MAIN CONTAINER ============ */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            position: relative;
            z-index: 1;
            display: none;
            animation: slideUp 0.5s ease-out;
        }

        @keyframes slideUp {
            from { 
                opacity: 0; 
                transform: translateY(30px); 
            }
            to { 
                opacity: 1; 
                transform: translateY(0); 
            }
        }

        .container.active {
            display: block;
        }

        /* ============ LANGUAGE SWITCHER ============ */
        .language-switcher {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(0, 100, 255, 0.2);
            border: 2px solid rgba(0, 150, 255, 0.4);
            border-radius: 50px;
            padding: 10px 20px;
            color: #00d4ff;
            font-size: 0.9rem;
            font-weight: 600;
            cursor: pointer;
            z-index: 999;
            display: flex;
            align-items: center;
            gap: 10px;
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
        }

        .language-switcher:hover {
            background: rgba(0, 150, 255, 0.3);
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 212, 255, 0.3);
        }

        /* ============ HEADER ============ */
        header {
            text-align: center;
            padding: 40px 20px;
            margin-bottom: 30px;
            position: relative;
            overflow: hidden;
            border-radius: 25px;
            background: rgba(10, 15, 40, 0.7);
            backdrop-filter: blur(15px);
            border: 2px solid rgba(0, 150, 255, 0.2);
        }

        header::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 200%;
            height: 100%;
            background: linear-gradient(90deg, 
                transparent, 
                rgba(0, 212, 255, 0.15), 
                transparent);
            animation: header-glow 4s linear infinite;
        }

        @keyframes header-glow {
            0% { left: -100%; }
            100% { left: 100%; }
        }
        
        .logo-container {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .main-logo {
            font-size: 4rem;
            background: linear-gradient(135deg, #00d4ff, #0099ff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: logo-float 6s ease-in-out infinite;
        }

        @keyframes logo-float {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-15px) rotate(5deg); }
        }
        
        h1 {
            font-size: 2.8rem;
            margin-bottom: 15px;
            background: linear-gradient(135deg, #00d4ff, #0099ff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-weight: 800;
            letter-spacing: -0.5px;
        }
        
        .tagline {
            font-size: 1.2rem;
            color: #a0d2ff;
            margin-bottom: 25px;
            line-height: 1.6;
            font-weight: 400;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
        }
        
        .promo-highlight {
            background: linear-gradient(135deg, #ffd700, #ff9500);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            font-weight: 700;
            animation: promo-pulse 2s infinite;
        }

        @keyframes promo-pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.8; }
        }
        
        /* ============ STATS BAR ============ */
        .stats-bar {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }
        
        .stat-card {
            background: rgba(20, 25, 60, 0.7);
            border-radius: 20px;
            padding: 25px;
            text-align: center;
            backdrop-filter: blur(10px);
            border: 2px solid rgba(0, 150, 255, 0.2);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .stat-card:hover {
            transform: translateY(-10px);
            border-color: #00d4ff;
            box-shadow: 0 15px 30px rgba(0, 212, 255, 0.2);
        }
        
        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 5px;
            background: linear-gradient(90deg, #0066ff, #00d4ff, #0066ff);
            background-size: 200% 100%;
            animation: stat-glow 2s linear infinite;
        }

        @keyframes stat-glow {
            0% { background-position: 200% 0; }
            100% { background-position: -200% 0; }
        }
        
        .stat-icon {
            font-size: 2.5rem;
            margin-bottom: 15px;
            color: #00d4ff;
        }
        
        .stat-value {
            font-size: 2.2rem;
            font-weight: 800;
            color: #ffd700;
            margin-bottom: 5px;
        }
        
        .stat-label {
            font-size: 1rem;
            color: #a0d2ff;
        }
        
        /* ============ MAIN ACTION BUTTONS ============ */
        .main-actions {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 25px;
            margin: 40px 0;
        }
        
        .action-card {
            background: rgba(20, 25, 60, 0.7);
            border-radius: 25px;
            padding: 30px;
            text-align: center;
            backdrop-filter: blur(10px);
            border: 2px solid rgba(0, 150, 255, 0.2);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            cursor: pointer;
        }
        
        .action-card:hover {
            transform: translateY(-10px) scale(1.03);
            border-color: #00d4ff;
            box-shadow: 0 20px 40px rgba(0, 212, 255, 0.3);
        }
        
        .action-icon {
            font-size: 3.5rem;
            margin-bottom: 20px;
            display: inline-block;
            background: linear-gradient(135deg, #00d4ff, #0099ff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .action-title {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 15px;
            color: #ffffff;
        }
        
        .action-desc {
            font-size: 1rem;
            color: #a0d2ff;
            margin-bottom: 25px;
            line-height: 1.5;
        }
        
        .action-btn {
            display: inline-block;
            padding: 15px 30px;
            background: linear-gradient(135deg, #00d4ff, #0099ff);
            color: white;
            border: none;
            border-radius: 15px;
            font-size: 1.1rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            width: 100%;
        }
        
        .action-btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 212, 255, 0.4);
        }
        
        /* ============ BONUS SECTION ============ */
        .bonus-section {
            background: rgba(255, 215, 0, 0.1);
            border-radius: 25px;
            padding: 40px;
            margin: 40px 0;
            text-align: center;
            border: 2px solid rgba(255, 215, 0, 0.3);
            position: relative;
            overflow: hidden;
        }
        
        .bonus-section::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255, 215, 0, 0.1) 0%, transparent 70%);
            animation: bonus-rotate 20s linear infinite;
        }

        @keyframes bonus-rotate {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .bonus-title {
            font-size: 2.2rem;
            margin-bottom: 20px;
            color: #ffd700;
            position: relative;
        }
        
        .bonus-content {
            font-size: 1.2rem;
            color: #fff;
            margin-bottom: 30px;
            line-height: 1.6;
            position: relative;
        }
        
        .bonus-code {
            display: inline-block;
            padding: 15px 40px;
            background: rgba(255, 215, 0, 0.2);
            border: 3px dashed #ffd700;
            border-radius: 15px;
            font-size: 2rem;
            font-weight: 800;
            color: #ffd700;
            margin: 20px 0;
            letter-spacing: 5px;
            position: relative;
            animation: code-pulse 1.5s infinite alternate;
        }

        @keyframes code-pulse {
            0% { transform: scale(1); }
            100% { transform: scale(1.05); }
        }
        
        /* ============ REGISTER BUTTONS ============ */
        .register-cta {
            position: fixed;
            bottom: 30px;
            right: 30px;
            z-index: 100;
        }
        
        .register-btn {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 18px 35px;
            background: linear-gradient(135deg, #ff9500, #ff5e00);
            color: white;
            border: none;
            border-radius: 50px;
            font-size: 1.1rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 10px 30px rgba(255, 149, 0, 0.4);
            text-decoration: none;
            animation: cta-pulse 2s infinite;
        }

        @keyframes cta-pulse {
            0%, 100% { 
                box-shadow: 0 10px 30px rgba(255, 149, 0, 0.4);
                transform: scale(1);
            }
            50% { 
                box-shadow: 0 15px 40px rgba(255, 149, 0, 0.6);
                transform: scale(1.05);
            }
        }
        
        .register-btn:hover {
            transform: translateY(-5px) scale(1.05);
            box-shadow: 0 15px 40px rgba(255, 149, 0, 0.6);
        }
        
        .register-btn i {
            font-size: 1.3rem;
        }
        
        /* ============ CARDS ============ */
        .card {
            background: rgba(20, 25, 60, 0.7);
            border-radius: 25px;
            padding: 35px;
            margin-bottom: 30px;
            backdrop-filter: blur(15px);
            border: 2px solid rgba(0, 150, 255, 0.2);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .card:hover {
            transform: translateY(-8px);
            border-color: rgba(0, 212, 255, 0.4);
            box-shadow: 0 20px 40px rgba(0, 212, 255, 0.2);
        }

        .card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #0066ff, #00d4ff, #0066ff);
            background-size: 200% 100%;
            animation: border-flow 3s linear infinite;
        }

        @keyframes border-flow {
            0% { background-position: 200% 0; }
            100% { background-position: -200% 0; }
        }
        
        .card h2 {
            font-size: 1.8rem;
            margin-bottom: 20px;
            color: #00d4ff;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .card p {
            font-size: 1.1rem;
            line-height: 1.6;
            margin-bottom: 25px;
            color: rgba(220, 240, 255, 0.95);
        }
        
        /* ============ FORM ELEMENTS ============ */
        .form-group {
            margin-bottom: 25px;
            position: relative;
        }
        
        label {
            display: block;
            margin-bottom: 10px;
            font-weight: 600;
            color: #00d4ff;
            font-size: 1rem;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        input {
            width: 100%;
            padding: 18px 25px;
            border: none;
            border-radius: 15px;
            background: rgba(0, 50, 100, 0.3);
            color: white;
            font-size: 1.1rem;
            border: 2px solid rgba(0, 150, 255, 0.3);
            transition: all 0.3s ease;
            font-weight: 500;
        }
        
        input:focus {
            outline: none;
            border-color: #00d4ff;
            background: rgba(0, 70, 150, 0.4);
            box-shadow: 0 0 20px rgba(0, 212, 255, 0.3);
        }
        
        input::placeholder {
            color: rgba(180, 220, 255, 0.5);
        }
        
        .error-message {
            color: #ff3366;
            font-size: 0.9rem;
            margin-top: 8px;
            display: none;
        }
        
        /* ============ BUTTONS ============ */
        .btn {
            display: block;
            width: 100%;
            padding: 20px;
            border: none;
            border-radius: 15px;
            color: white;
            font-size: 1.1rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
            margin-top: 15px;
            position: relative;
            overflow: hidden;
        }

        .btn:hover {
            transform: translateY(-5px);
        }
        
        .btn:active {
            transform: translateY(-2px);
        }
        
        .btn:disabled {
            background: #444;
            cursor: not-allowed;
            transform: none;
            opacity: 0.6;
            border-color: #555;
        }

        /* Button variants */
        .start-game-btn {
            background: linear-gradient(135deg, #0066ff, #0044cc);
            border: 2px solid rgba(0, 150, 255, 0.4);
        }

        .register-btn-card {
            background: linear-gradient(135deg, #0099ff, #0066cc);
            border: 2px solid rgba(0, 200, 255, 0.4);
        }

        .download-btn {
            background: linear-gradient(135deg, #00ccff, #0099cc);
            border: 2px solid rgba(0, 255, 255, 0.4);
        }

        .share-btn {
            background: linear-gradient(135deg, #6600ff, #4400cc);
            border: 2px solid rgba(150, 0, 255, 0.4);
        }

        .stats-btn {
            background: linear-gradient(135deg, #00cc66, #009944);
            border: 2px solid rgba(0, 255, 128, 0.4);
        }

        .bonus-btn {
            background: linear-gradient(135deg, #ffcc00, #ff9900);
            border: 2px solid rgba(255, 204, 0, 0.4);
            color: #000;
            font-weight: 800;
        }

        .reveal-btn {
            background: linear-gradient(135deg, #00cc66, #009944);
            border: 2px solid rgba(0, 255, 128, 0.4);
        }

        .change-id-btn {
            background: linear-gradient(135deg, #ff3366, #cc0044);
            border: 2px solid rgba(255, 51, 102, 0.4);
            width: auto;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            padding: 16px 30px;
            margin-top: 20px;
            border-radius: 50px;
        }
        
        /* Action buttons container */
        .action-buttons {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 20px;
            margin-top: 25px;
        }

        .action-buttons .btn {
            margin: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            padding: 18px;
            border-radius: 15px;
        }

        /* ============ INFO BOXES ============ */
        .info-box {
            background: rgba(0, 200, 255, 0.15);
            border-left: 4px solid #00d4ff;
            padding: 25px;
            border-radius: 20px;
            margin: 25px 0;
            border: 2px solid rgba(0, 200, 255, 0.3);
        }
        
        .warning-box {
            background: rgba(255, 204, 0, 0.15);
            border-left: 4px solid #ffcc00;
            padding: 25px;
            border-radius: 20px;
            margin: 25px 0;
            border: 2px solid rgba(255, 204, 0, 0.3);
        }
        
        .success-box {
            background: rgba(0, 255, 100, 0.15);
            border-left: 4px solid #00ff66;
            padding: 25px;
            border-radius: 20px;
            margin: 25px 0;
            border: 2px solid rgba(0, 255, 100, 0.3);
        }
        
        /* ============ APPLES GAME ============ */
        .game-section {
            text-align: center;
        }
        
        .round-counter {
            text-align: center;
            margin: 25px 0;
            font-size: 1.3rem;
            background: rgba(255, 204, 0, 0.15);
            padding: 20px;
            border-radius: 20px;
            backdrop-filter: blur(10px);
            border: 2px solid rgba(255, 204, 0, 0.3);
        }

        .apples-container {
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 30px 0;
            flex-wrap: wrap;
            gap: 15px;
            padding: 25px;
            background: rgba(0, 50, 100, 0.2);
            border-radius: 25px;
            backdrop-filter: blur(10px);
            overflow-x: auto;
            width: 100%;
            border: 2px solid rgba(0, 150, 255, 0.3);
        }
        
        .mystery-apple, .apple {
            width: 80px;
            height: 80px;
            min-width: 80px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            flex-shrink: 0;
            border: 3px solid transparent;
            transition: all 0.3s ease;
            cursor: pointer;
            margin: 0;
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            font-size: 2.5rem;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
        }
        
        .mystery-apple {
            background: linear-gradient(135deg, #1a1a3e, #302b63);
            border: 3px solid rgba(0, 150, 255, 0.6);
            animation: mystery-glow 2s infinite alternate;
        }

        @keyframes mystery-glow {
            0% { 
                transform: translateY(0) scale(1);
                box-shadow: 0 10px 20px rgba(0, 150, 255, 0.3);
            }
            100% { 
                transform: translateY(-10px) scale(1.05);
                box-shadow: 0 15px 30px rgba(0, 150, 255, 0.5);
            }
        }
        
        .apple {
            animation: apple-reveal 0.8s ease-out;
        }

        @keyframes apple-reveal {
            0% { 
                transform: scale(0) rotate(-180deg); 
                opacity: 0; 
            }
            100% { 
                transform: scale(1) rotate(0deg); 
                opacity: 1; 
            }
        }
        
        .apple:hover {
            transform: scale(1.15) translateY(-10px);
            border-color: #ffcc00;
            box-shadow: 0 15px 30px rgba(255, 204, 0, 0.4);
        }
        
        .apple.whole {
            background: linear-gradient(135deg, #ff3333, #cc0000);
            border: 3px solid #ffcc00;
        }
        
        .apple.bitten {
            background: linear-gradient(135deg, #33cc33, #009900);
            border: 3px solid #00ff00;
        }

        .apple i {
            color: white;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.5);
        }
        
        /* Hidden class */
        .hidden {
            display: none !important;
        }
        
        /* ============ RESULT MESSAGES ============ */
        .result-message {
            text-align: center;
            padding: 30px;
            font-size: 1.2rem;
            margin: 30px 0;
            border-radius: 20px;
            line-height: 1.6;
            animation: message-appear 0.5s ease-out;
            backdrop-filter: blur(10px);
            border: 2px solid rgba(0, 150, 255, 0.3);
        }

        @keyframes message-appear {
            0% { 
                transform: scale(0.9); 
                opacity: 0; 
            }
            100% { 
                transform: scale(1); 
                opacity: 1; 
            }
        }
        
        .success-message {
            background: rgba(0, 255, 100, 0.15);
            border-left: 4px solid #00ff66;
        }
        
        .failure-message {
            background: rgba(255, 51, 102, 0.15);
            border-left: 4px solid #ff3366;
        }
        
        /* ============ USER ID DISPLAY ============ */
        .user-id-display {
            background: rgba(0, 102, 255, 0.15);
            padding: 20px 25px;
            border-radius: 20px;
            margin: 25px 0;
            text-align: center;
            border-left: 4px solid #0066ff;
            font-size: 1.1rem;
            border: 2px solid rgba(0, 150, 255, 0.3);
        }
        
        /* ============ WAIT SECTION ============ */
        .wait-section {
            text-align: center;
        }
        
        .wait-message {
            text-align: center;
            padding: 30px;
            background: rgba(255, 204, 0, 0.15);
            border-radius: 25px;
            margin: 30px 0;
            border-left: 4px solid #ffcc00;
            border: 2px solid rgba(255, 204, 0, 0.3);
        }

        .timer-status {
            display: flex;
            justify-content: center;
            margin: 30px 0;
        }
        
        .timer-status-item {
            background: rgba(0, 200, 255, 0.15);
            padding: 25px 30px;
            border-radius: 25px;
            text-align: center;
            backdrop-filter: blur(10px);
            border: 2px solid rgba(0, 200, 255, 0.3);
            min-width: 200px;
        }
        
        .timer-status-value {
            font-weight: 800;
            color: #ffcc00;
            font-size: 2.2rem;
            margin-top: 15px;
            font-family: 'Courier New', monospace;
        }

        /* ============ SELECTION INSTRUCTION ============ */
        .selection-instruction {
            text-align: center;
            margin: 20px 0;
            font-size: 1.1rem;
            color: #ffcc00;
            padding: 20px;
            background: rgba(255, 204, 0, 0.15);
            border-radius: 20px;
            backdrop-filter: blur(10px);
            border: 2px solid rgba(255, 204, 0, 0.3);
        }
        
        /* ============ SHARE SECTION ============ */
        .share-section {
            text-align: center;
            margin: 30px 0;
        }

        .share-info {
            background: rgba(102, 0, 255, 0.15);
            border-left: 4px solid #6600ff;
            padding: 25px;
            border-radius: 20px;
            margin: 25px 0;
            border: 2px solid rgba(102, 0, 255, 0.3);
        }

        /* ============ FOOTER ============ */
        footer {
            text-align: center;
            padding: 40px 20px;
            margin-top: 50px;
            background: rgba(10, 15, 40, 0.7);
            border-radius: 25px;
            backdrop-filter: blur(15px);
            border: 2px solid rgba(0, 150, 255, 0.2);
        }
        
        .footer-links {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin: 25px 0;
            flex-wrap: wrap;
        }
        
        .footer-link {
            color: #a0d2ff;
            text-decoration: none;
            font-size: 1rem;
            transition: all 0.3s ease;
            padding: 10px 20px;
            border-radius: 10px;
            background: rgba(0, 100, 255, 0.1);
        }
        
        .footer-link:hover {
            color: #00d4ff;
            background: rgba(0, 150, 255, 0.2);
            transform: translateY(-5px);
        }
        
        .copyright {
            color: #a0d2ff;
            font-size: 0.9rem;
            margin-top: 25px;
        }
        
        /* ============ RESPONSIVE DESIGN ============ */
        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }
            
            h1 {
                font-size: 2.2rem;
            }
            
            .tagline {
                font-size: 1.1rem;
            }
            
            .main-logo {
                font-size: 3rem;
            }
            
            .stats-bar {
                grid-template-columns: repeat(2, 1fr);
                gap: 15px;
            }
            
            .main-actions {
                grid-template-columns: 1fr;
                gap: 20px;
            }
            
            .action-card {
                padding: 25px;
            }
            
            .bonus-section {
                padding: 30px 20px;
            }
            
            .bonus-title {
                font-size: 1.8rem;
            }
            
            .bonus-code {
                font-size: 1.5rem;
                padding: 12px 25px;
            }
            
            .register-btn {
                padding: 15px 25px;
                font-size: 1rem;
            }
            
            .language-buttons {
                grid-template-columns: 1fr;
            }
            
            .mystery-apple, .apple {
                width: 70px;
                height: 70px;
                min-width: 70px;
                font-size: 2rem;
            }
        }
        
        @media (max-width: 480px) {
            h1 {
                font-size: 1.8rem;
            }
            
            .tagline {
                font-size: 1rem;
            }
            
            .stats-bar {
                grid-template-columns: 1fr;
            }
            
            .stat-card {
                padding: 20px;
            }
            
            .action-card {
                padding: 20px;
            }
            
            .bonus-title {
                font-size: 1.5rem;
            }
            
            .bonus-code {
                font-size: 1.3rem;
                padding: 10px 20px;
            }
            
            .mystery-apple, .apple {
                width: 60px;
                height: 60px;
                min-width: 60px;
                font-size: 1.8rem;
            }
            
            .footer-links {
                flex-direction: column;
                align-items: center;
                gap: 15px;
            }
        }
        
        @media (max-width: 360px) {
            .mystery-apple, .apple {
                width: 55px;
                height: 55px;
                min-width: 55px;
                font-size: 1.5rem;
            }
            
            .register-btn {
                padding: 12px 20px;
                font-size: 0.9rem;
            }
        }
    </style>
</head>
<body>
    <!-- Animated Background -->
    <div class="bg-animation" id="bgAnimation"></div>
    <div class="grid-lines"></div>

    <!-- Language Selector -->
    <div id="languageSelector">
        <div class="language-logo">
            <span>üçé</span>
        </div>
        <h1>Apple of Fortune</h1>
        <p id="languagePrompt">Premium AI savdo signallari platformasi. Boshlash uchun tilni tanlang</p>
        
        <div class="language-buttons">
            <button class="lang-select-btn" data-lang="uz">
                <span>üá∫üáø</span> O'zbekcha
            </button>
            <button class="lang-select-btn" data-lang="ru">
                <span>üá∑üá∫</span> –†—É—Å—Å–∫–∏–π
            </button>
            <button class="lang-select-btn" data-lang="en">
                <span>üá∫üá∏</span> English
            </button>
        </div>
    </div>

    <!-- Language Switcher -->
    <div class="language-switcher hidden" id="languageSwitcher">
        <span>üåê</span>
        <span id="currentLanguage">O'zbekcha</span>
    </div>

    <!-- Main Container -->
    <div class="container">
        <!-- Header -->
        <header>
            <div class="logo-container">
                <div class="main-logo">üçé</div>
            </div>
            <h1 id="mainTitle">Apple of Fortune</h1>
            <p class="tagline" id="tagline">
                <span class="promo-highlight">AIFUT promokodi</span> bilan premium AI savdo signallari. Har kuni katta foyda oling!
            </p>
            
            <!-- Stats Bar -->
            <div class="stats-bar">
                <div class="stat-card">
                    <div class="stat-icon"><i class="fas fa-chart-line"></i></div>
                    <div class="stat-value" id="successRate">94.7%</div>
                    <div class="stat-label" id="successLabel">MUVAFFAQIYAT DARAJASI</div>
                </div>
                
                <div class="stat-card">
                    <div class="stat-icon"><i class="fas fa-users"></i></div>
                    <div class="stat-value" id="usersCount">18,542</div>
                    <div class="stat-label" id="usersLabel">FAOL FOYDALANUVCHILAR</div>
                </div>
                
                <div class="stat-card">
                    <div class="stat-icon"><i class="fas fa-coins"></i></div>
                    <div class="stat-value" id="profitToday">$342K</div>
                    <div class="stat-label" id="profitLabel">BUGUNGI FOYDA</div>
                </div>
                
                <div class="stat-card">
                    <div class="stat-icon"><i class="fas fa-bolt"></i></div>
                    <div class="stat-value" id="signalsToday">2,847</div>
                    <div class="stat-label" id="signalsLabel">BUGUNGI SIGNALLAR</div>
                </div>
            </div>
        </header>
        
        <!-- Main Action Buttons -->
        <div class="main-actions">
            <div class="action-card" id="signalCard">
                <div class="action-icon">
                    <i class="fas fa-satellite-dish"></i>
                </div>
                <div class="action-title" id="signalTitle">PREMIUM SIGNALLAR OLISH</div>
                <div class="action-desc" id="signalDesc">
                    AI asosida tahlil qilingan yuqori aniqlikdagi savdo signallari. Kuniga 2 marta bepul signal oling!
                </div>
                <button class="action-btn" id="signalBtn">
                    <i class="fas fa-play"></i> <span id="signalBtnText">SIGNAL OLISHNI BOSHLASH</span>
                </button>
            </div>
            
            <div class="action-card" id="statsCard">
                <div class="action-icon">
                    <i class="fas fa-chart-bar"></i>
                </div>
                <div class="action-title" id="statsTitle">STATISTIKALARIM</div>
                <div class="action-desc" id="statsDesc">
                    Shaxsiy savdo statistikangizni ko'ring. Foydangiz, muvaffaqiyat darajangiz va boshqa ko'rsatkichlar.
                </div>
                <button class="action-btn stats-btn" id="statsBtn">
                    <i class="fas fa-chart-pie"></i> <span id="statsBtnText">STATISTIKALARNI KORISH</span>
                </button>
            </div>
            
            <div class="action-card" id="bonusCard">
                <div class="action-icon">
                    <i class="fas fa-gift"></i>
                </div>
                <div class="action-title" id="bonusTitle">BONUS VA IMITYOZLAR</div>
                <div class="action-desc" id="bonusDesc">
                    Do'stlaringizni taklif qiling, bonuslar yig'ing va VIP statusga erishing!
                </div>
                <button class="action-btn bonus-btn" id="bonusBtn">
                    <i class="fas fa-award"></i> <span id="bonusBtnText">BONUSLARNI KORISH</span>
                </button>
            </div>
        </div>
        
        <!-- Bonus Section -->
        <div class="bonus-section">
            <h2 class="bonus-title" id="promoTitle">üöÄ AIFUT PROMOKODI BILAN 200% BONUS!</h2>
            <p class="bonus-content" id="promoDesc">
                Hoziroq ro'yxatdan o'ting va <span class="promo-highlight">AIFUT</span> promokodi bilan 200% depozit bonusiga ega bo'ling!
                Premium signallar, shaxsiy murabbiy va VIP qo'llab-quvvat!
            </p>
            <div class="bonus-code">AIFUT</div>
            <button class="action-btn register-btn-card" id="promoRegisterBtn">
                <i class="fas fa-user-plus"></i> <span id="promoRegisterText">HOZIROQ RO'YXATDAN O'TISH</span>
            </button>
        </div>
        
        <!-- Main Menu (Hidden by default) -->
        <div class="card hidden" id="mainMenu">
            <h2 id="welcomeTitle">üöÄ Xush Kelibsiz, Investor!</h2>
            <p id="welcomeText">
                <span class="promo-highlight">Apple of Fortune</span> platformasida AI texnologiyasi asosida tahlil qilingan premium savdo signallariga ega bo'ling.
                <strong>AIFUT promokodi</strong> bilan ro'yxatdan o'ting va darhol 200% bonus oling!
            </p>
            
            <div class="info-box">
                <p><strong>‚ÑπÔ∏è Muhim eslatma:</strong> Signallar kuniga 2 marta bepul olinadi. Ko'proq signal va yuqori aniqlik uchun ro'yxatdan o'ting.</p>
            </div>
            
            <div class="action-buttons">
                <button class="btn start-game-btn" id="startGameBtn">
                    <i class="fas fa-satellite"></i> <span id="startGameBtnText">SIGNAL OLISHNI BOSHLASH</span>
                </button>
                <button class="btn register-btn-card" id="registerBtn">
                    <i class="fas fa-user-plus"></i> <span id="registerBtnText">RO'YXATDAN O'TISH</span>
                </button>
                <button class="btn stats-btn" id="mainStatsBtn">
                    <i class="fas fa-chart-line"></i> <span id="mainStatsBtnText">STATISTIKALAR</span>
                </button>
                <button class="btn download-btn" id="downloadBtn">
                    <i class="fas fa-download"></i> <span id="downloadBtnText">MOBIL ILOVA</span>
                </button>
            </div>
        </div>
        
        <!-- Login Section -->
        <div class="card hidden" id="loginSection">
            <h2 id="gameStartTitle">üîê ID Raqamingizni Kiriting</h2>
            <p id="earnStartText">
                Premium savdo signallariga kirish uchun ID raqamingizni kiriting. 
                <span class="promo-highlight">AIFUT promokodi bilan ro'yxatdan o'tgan bo'lsangiz, yuqori aniqlikdagi signallar sizniki!</span>
            </p>
            
            <div class="warning-box">
                <p><strong>‚ö†Ô∏è Diqqat:</strong> ID raqamingiz 1 raqami bilan boshlanadigan 9-11 xonali raqam bo'lishi kerak.</p>
            </div>
            
            <div class="form-group">
                <label for="userId" id="userIdLabel">ID RAQAMINGIZ</label>
                <input type="text" id="userId" placeholder="Masalan: 1987654321" maxlength="11" value="">
                <div class="error-message" id="idError">Iltimos, to'g'ri ID raqam kiriting (1 bilan boshlanadigan 9-11 xonali raqam)</div>
            </div>
            
            <button class="btn start-game-btn" id="startSignalBtn">
                <i class="fas fa-play"></i> <span id="startSignalBtnText">SIGNAL OLISHNI BOSHLASH</span>
            </button>
            
            <div class="action-buttons">
                <button class="btn register-btn-card" id="backToMenuBtn">
                    <i class="fas fa-home"></i> <span id="backToMenuText">ASOSIY MENYU</span>
                </button>
                <button class="btn bonus-btn" id="goToRegisterBtn">
                    <i class="fas fa-gift"></i> <span id="goToRegisterText">BONUS OLISH</span>
                </button>
            </div>
        </div>
        
        <!-- Warning Section -->
        <div id="warningSection" class="card hidden">
            <h2 id="warningTitle">üéØ TAYYORMISIZ?</h2>
            <div class="info-box">
                <p><strong id="warningText1">Yuqori aniqlikdagi signallar olish uchun AIFUT promokodi bilan ro'yxatdan o'ting!</strong></p>
                <p id="warningText2">Ro'yxatdan o'tgan foydalanuvchilar uchun signal aniqlik darajasi 94.7% gacha. Hoziroq ro'yxatdan o'ting va 200% bonusni qo'lga kiriting!</p>
            </div>
            
            <div class="user-id-display">
                <strong id="yourIdText">SIZNING ID RAQAMINGIZ:</strong> <span id="displayUserId"></span>
            </div>
            
            <button class="btn change-id-btn" id="changeIdBtn">
                <i class="fas fa-sync-alt"></i> <span id="changeIdText">ID O'ZGARTIRISH</span>
            </button>
            
            <p id="readyText" class="promo-highlight">Katta foyda olishga tayyormisiz? Keling, boshlaymiz!</p>
            <button class="btn start-game-btn" id="confirmStartBtn">
                <i class="fas fa-rocket"></i> <span id="confirmStartText">SIGNAL OLISHNI BOSHLASH</span>
            </button>
        </div>
        
        <!-- Game Section -->
        <div id="gameSection" class="card game-section hidden">
            <div class="round-counter">
                <span id="signalLabel">SIGNAL RAUNDI:</span> <span id="roundCounter">1</span>
            </div>
            
            <div class="user-id-display">
                <strong id="yourIdText2">ID RAQAMINGIZ:</strong> <span id="gameUserId"></span>
            </div>
            
            <p id="gameInstruction">
                Keyingi bosqichga o'tish uchun <strong>butun olmalarni</strong> tanlang. 
                <span class="promo-highlight">Tishlangan olma o'yinni yakunlaydi!</span>
            </p>
            
            <!-- Apples Container -->
            <div class="apples-container" id="applesContainer">
                <!-- Apples will be generated here -->
            </div>
            
            <button class="btn reveal-btn" id="revealBtn">
                <i class="fas fa-eye"></i> <span id="revealBtnText">OLMALARNI KORISH</span>
            </button>
            
            <div class="selection-instruction hidden" id="selectionInstruction">
                <i class="fas fa-mouse-pointer"></i> <span id="selectionText">BUTUN OLMALARNI TANLANG (AVTOMATIK RAVISHDA KEYINGI BOSQICHGA OTILADI)</span>
            </div>
            
            <div id="resultMessage" class="result-message hidden"></div>
            
            <button class="btn hidden" id="restartBtn">
                <i class="fas fa-redo"></i> <span id="restartBtnText">QAYTA URINISH</span>
            </button>
        </div>

        <!-- Wait Section -->
        <div id="waitSection" class="card wait-section hidden">
            <h2 id="waitTitle">üéâ TABRIKLAYMIZ!</h2>
            <div class="wait-message">
                <p><strong id="gameEndText">Siz <span id="endRound"></span>-raundgacha yetib keldingiz!</strong></p>
                <p id="riskWarning">Keyingi bosqichlar yuqori xavfga ega. Foydangizni himoya qiling va keyingi signal oling!</p>
                <p id="signalLimitText">Ushbu ID uchun signal limiti yakunlandi. Keyingi signal <span id="countdown">03:00:00</span> dan so'ng mavjud</p>
                <p class="promo-highlight" id="highRiskText">Qolgan bosqichlarda yuqori xavf! Foydangizni himoya qiling!</p>
            </div>

            <!-- Timer Status -->
            <div class="timer-status">
                <div class="timer-status-item">
                    <div id="nextSignalText">KEYINGI SIGNALGACHA:</div>
                    <div class="timer-status-value" id="remainingTime">03:00:00</div>
                </div>
            </div>

            <!-- Share Section -->
            <div class="share-info">
                <p><strong>üöÄ DO'STLARINGIZNI TAKLIF QILING VA VAQTNI QISQARTIRING!</strong></p>
                <p>Har bir taklif qilingan do'st uchun kutish vaqti 30 daqiqaga qisqaradi. 20 kishini taklif qiling va darhol VIP kirish oling!</p>
            </div>
            
            <div class="share-section">
                <button class="btn share-btn" id="shareDuringWaitBtn">
                    <i class="fas fa-share-alt"></i> <span id="shareBtnText">DO'STLARNI TAKLIF QILISH</span>
                </button>
            </div>
            
            <div class="user-id-display">
                <strong id="yourIdText3">ID RAQAMINGIZ:</strong> <span id="waitUserId"></span>
            </div>
        </div>

        <!-- Footer -->
        <footer>
            <div class="footer-links">
                <a href="#" class="footer-link" id="footerHome"><i class="fas fa-home"></i> BOSH SAHIFA</a>
                <a href="#" class="footer-link" id="footerAbout"><i class="fas fa-info-circle"></i> BIZ HAQIMIZDA</a>
                <a href="#" class="footer-link" id="footerContact"><i class="fas fa-envelope"></i> BOG'LANISH</a>
                <a href="#" class="footer-link" id="footerTerms"><i class="fas fa-file-contract"></i> FOYDALANISH SHARTLARI</a>
                <a href="#" class="footer-link" id="footerPrivacy"><i class="fas fa-shield-alt"></i> MAXFIYLIK SIYOSATI</a>
            </div>
            <p class="copyright" id="copyrightText">
                &copy; 2024 Apple of Fortune. Barcha huquqlar himoyalangan. AIFUT - rasmiy promokod.
            </p>
        </footer>
    </div>

    <!-- Global Register Button -->
    <div class="register-cta">
        <a href="https://superlative-twilight-47ef34.netlify.app/" target="_blank" class="register-btn" id="globalRegisterBtn">
            <i class="fas fa-bolt"></i>
            <span id="globalRegisterText">HOZIROQ RO'YXATDAN OTING</span>
        </a>
    </div>

    <script>
        // ==================== TRANSLATIONS ====================
        const translations = {
            uz: {
                languagePrompt: "Premium AI savdo signallari platformasi. Boshlash uchun tilni tanlang",
                currentLanguage: "O'zbekcha",
                mainTitle: "Apple of Fortune",
                tagline: "AIFUT promokodi bilan premium AI savdo signallari. Har kuni katta foyda oling!",
                signalTitle: "PREMIUM SIGNALLAR OLISH",
                signalDesc: "AI asosida tahlil qilingan yuqori aniqlikdagi savdo signallari. Kuniga 2 marta bepul signal oling!",
                signalBtnText: "SIGNAL OLISHNI BOSHLASH",
                statsTitle: "STATISTIKALARIM",
                statsDesc: "Shaxsiy savdo statistikangizni ko'ring. Foydangiz, muvaffaqiyat darajangiz va boshqa ko'rsatkichlar.",
                statsBtnText: "STATISTIKALARNI KORISH",
                bonusTitle: "BONUS VA IMITYOZLAR",
                bonusDesc: "Do'stlaringizni taklif qiling, bonuslar yig'ing va VIP statusga erishing!",
                bonusBtnText: "BONUSLARNI KORISH",
                promoTitle: "üöÄ AIFUT PROMOKODI BILAN 200% BONUS!",
                promoDesc: "Hoziroq ro'yxatdan o'ting va AIFUT promokodi bilan 200% depozit bonusiga ega bo'ling! Premium signallar, shaxsiy murabbiy va VIP qo'llab-quvvat!",
                promoRegisterText: "HOZIROQ RO'YXATDAN O'TISH",
                welcomeTitle: "üöÄ Xush Kelibsiz, Investor!",
                welcomeText: "Apple of Fortune platformasida AI texnologiyasi asosida tahlil qilingan premium savdo signallariga ega bo'ling. AIFUT promokodi bilan ro'yxatdan o'ting va darhol 200% bonus oling!",
                startGameBtnText: "SIGNAL OLISHNI BOSHLASH",
                registerBtnText: "RO'YXATDAN O'TISH",
                mainStatsBtnText: "STATISTIKALAR",
                downloadBtnText: "MOBIL ILOVA",
                gameStartTitle: "üîê ID Raqamingizni Kiriting",
                earnStartText: "Premium savdo signallariga kirish uchun ID raqamingizni kiriting. AIFUT promokodi bilan ro'yxatdan o'tgan bo'lsangiz, yuqori aniqlikdagi signallar sizniki!",
                userIdLabel: "ID RAQAMINGIZ",
                userIdPlaceholder: "Masalan: 1987654321",
                idError: "Iltimos, to'g'ri ID raqam kiriting (1 bilan boshlanadigan 9-11 xonali raqam)",
                startSignalBtnText: "SIGNAL OLISHNI BOSHLASH",
                backToMenuText: "ASOSIY MENYU",
                goToRegisterText: "BONUS OLISH",
                warningTitle: "üéØ TAYYORMISIZ?",
                warningText1: "Yuqori aniqlikdagi signallar olish uchun AIFUT promokodi bilan ro'yxatdan o'ting!",
                warningText2: "Ro'yxatdan o'tgan foydalanuvchilar uchun signal aniqlik darajasi 94.7% gacha. Hoziroq ro'yxatdan o'ting va 200% bonusni qo'lga kiriting!",
                yourIdText: "SIZNING ID RAQAMINGIZ:",
                changeIdText: "ID O'ZGARTIRISH",
                readyText: "Katta foyda olishga tayyormisiz? Keling, boshlaymiz!",
                confirmStartText: "SIGNAL OLISHNI BOSHLASH",
                signalLabel: "SIGNAL RAUNDI:",
                yourIdText2: "ID RAQAMINGIZ:",
                gameInstruction: "Keyingi bosqichga o'tish uchun butun olmalarni tanlang. Tishlangan olma o'yinni yakunlaydi!",
                revealBtnText: "OLMALARNI KORISH",
                selectionText: "BUTUN OLMALARNI TANLANG (AVTOMATIK RAVISHDA KEYINGI BOSQICHGA OTILADI)",
                restartBtnText: "QAYTA URINISH",
                waitTitle: "üéâ TABRIKLAYMIZ!",
                gameEndText: "Siz {round}-raundgacha yetib keldingiz!",
                riskWarning: "Keyingi bosqichlar yuqori xavfga ega. Foydangizni himoya qiling va keyingi signal oling!",
                signalLimitText: "Ushbu ID uchun signal limiti yakunlandi. Keyingi signal {time} dan so'ng mavjud",
                highRiskText: "Qolgan bosqichlarda yuqori xavf! Foydangizni himoya qiling!",
                nextSignalText: "KEYINGI SIGNALGACHA:",
                shareBtnText: "DO'STLARNI TAKLIF QILISH",
                yourIdText3: "ID RAQAMINGIZ:",
                globalRegisterText: "HOZIROQ RO'YXATDAN OTING",
                footerHome: "BOSH SAHIFA",
                footerAbout: "BIZ HAQIMIZDA",
                footerContact: "BOG'LANISH",
                footerTerms: "FOYDALANISH SHARTLARI",
                footerPrivacy: "MAXFIYLIK SIYOSATI",
                copyrightText: "¬© 2024 Apple of Fortune. Barcha huquqlar himoyalangan. AIFUT - rasmiy promokod.",
                successRate: "MUVAFFAQIYAT DARAJASI",
                usersLabel: "FAOL FOYDALANUVCHILAR",
                profitLabel: "BUGUNGI FOYDA",
                signalsLabel: "BUGUNGI SIGNALLAR",
                successMessage: "‚úÖ Butun olma! Keyingi bosqichga o'tilmoqda... üí∞",
                failureMessage: "‚ùå Tishlangan olma! O'yin {round}-raundda yakunlandi! Qayta urinib ko'ring! üîÑ"
            },
            
            ru: {
                languagePrompt: "–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ –ø—Ä–µ–º–∏—É–º AI —Ç–æ—Ä–≥–æ–≤—ã—Ö —Å–∏–≥–Ω–∞–ª–æ–≤. –í—ã–±–µ—Ä–∏—Ç–µ —è–∑—ã–∫ –¥–ª—è –Ω–∞—á–∞–ª–∞",
                currentLanguage: "–†—É—Å—Å–∫–∏–π",
                mainTitle: "Apple of Fortune",
                tagline: "–ü—Ä–µ–º–∏—É–º AI —Ç–æ—Ä–≥–æ–≤—ã–µ —Å–∏–≥–Ω–∞–ª—ã —Å –ø—Ä–æ–º–æ–∫–æ–¥–æ–º AIFUT. –ó–∞—Ä–∞–±–∞—Ç—ã–≤–∞–π—Ç–µ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å!",
                signalTitle: "–ü–û–õ–£–ß–ò–¢–¨ –ü–†–ï–ú–ò–£–ú –°–ò–ì–ù–ê–õ–´",
                signalDesc: "–í—ã—Å–æ–∫–æ—Ç–æ—á–Ω—ã–µ —Ç–æ—Ä–≥–æ–≤—ã–µ —Å–∏–≥–Ω–∞–ª—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ AI. –ü–æ–ª—É—á–∞–π—Ç–µ –±–µ—Å–ø–ª–∞—Ç–Ω—ã–µ —Å–∏–≥–Ω–∞–ª—ã 2 —Ä–∞–∑–∞ –≤ –¥–µ–Ω—å!",
                signalBtnText: "–ù–ê–ß–ê–¢–¨ –ü–û–õ–£–ß–ï–ù–ò–ï –°–ò–ì–ù–ê–õ–û–í",
                statsTitle: "–ú–û–Ø –°–¢–ê–¢–ò–°–¢–ò–ö–ê",
                statsDesc: "–ü—Ä–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –≤–∞—à—É –ª–∏—á–Ω—É—é —Ç–æ—Ä–≥–æ–≤—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É. –í–∞—à–∞ –ø—Ä–∏–±—ã–ª—å, –ø—Ä–æ—Ü–µ–Ω—Ç —É—Å–ø–µ—Ö–∞ –∏ –¥—Ä—É–≥–∏–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏.",
                statsBtnText: "–ü–û–°–ú–û–¢–†–ï–¢–¨ –°–¢–ê–¢–ò–°–¢–ò–ö–£",
                bonusTitle: "–ë–û–ù–£–°–´ –ò –ü–†–ò–í–ò–õ–ï–ì–ò–ò",
                bonusDesc: "–ü—Ä–∏–≥–ª–∞—à–∞–π—Ç–µ –¥—Ä—É–∑–µ–π, —Å–æ–±–∏—Ä–∞–π—Ç–µ –±–æ–Ω—É—Å—ã –∏ –ø–æ–ª—É—á–∞–π—Ç–µ VIP —Å—Ç–∞—Ç—É—Å!",
                bonusBtnText: "–ü–û–°–ú–û–¢–†–ï–¢–¨ –ë–û–ù–£–°–´",
                promoTitle: "üöÄ 200% –ë–û–ù–£–° –° –ü–†–û–ú–û–ö–û–î–û–ú AIFUT!",
                promoDesc: "–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å —Å–µ–π—á–∞—Å –∏ –ø–æ–ª—É—á–∏—Ç–µ 200% –±–æ–Ω—É—Å –Ω–∞ –¥–µ–ø–æ–∑–∏—Ç —Å –ø—Ä–æ–º–æ–∫–æ–¥–æ–º AIFUT! –ü—Ä–µ–º–∏—É–º —Å–∏–≥–Ω–∞–ª—ã, –ª–∏—á–Ω—ã–π –Ω–∞—Å—Ç–∞–≤–Ω–∏–∫ –∏ VIP –ø–æ–¥–¥–µ—Ä–∂–∫–∞!",
                promoRegisterText: "–ó–ê–†–ï–ì–ò–°–¢–†–ò–†–û–í–ê–¢–¨–°–Ø –°–ï–ô–ß–ê–°",
                welcomeTitle: "üöÄ –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å, –ò–Ω–≤–µ—Å—Ç–æ—Ä!",
                welcomeText: "–ü–æ–ª—É—á–∏—Ç–µ –¥–æ—Å—Ç—É–ø –∫ –ø—Ä–µ–º–∏—É–º —Ç–æ—Ä–≥–æ–≤—ã–º —Å–∏–≥–Ω–∞–ª–∞–º –Ω–∞ –æ—Å–Ω–æ–≤–µ AI —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ Apple of Fortune. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å —Å –ø—Ä–æ–º–æ–∫–æ–¥–æ–º AIFUT –∏ –ø–æ–ª—É—á–∏—Ç–µ –º–≥–Ω–æ–≤–µ–Ω–Ω–æ 200% –±–æ–Ω—É—Å!",
                startGameBtnText: "–ù–ê–ß–ê–¢–¨ –ü–û–õ–£–ß–ï–ù–ò–ï –°–ò–ì–ù–ê–õ–û–í",
                registerBtnText: "–†–ï–ì–ò–°–¢–†–ê–¶–ò–Ø",
                mainStatsBtnText: "–°–¢–ê–¢–ò–°–¢–ò–ö–ê",
                downloadBtnText: "–ú–û–ë–ò–õ–¨–ù–û–ï –ü–†–ò–õ–û–ñ–ï–ù–ò–ï",
                gameStartTitle: "üîê –í–≤–µ–¥–∏—Ç–µ –≤–∞—à ID",
                earnStartText: "–í–≤–µ–¥–∏—Ç–µ –≤–∞—à ID –Ω–æ–º–µ—Ä –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –ø—Ä–µ–º–∏—É–º —Ç–æ—Ä–≥–æ–≤—ã–º —Å–∏–≥–Ω–∞–ª–∞–º. –ï—Å–ª–∏ –≤—ã –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å –ø—Ä–æ–º–æ–∫–æ–¥–æ–º AIFUT, –≤—ã—Å–æ–∫–æ—Ç–æ—á–Ω—ã–µ —Å–∏–≥–Ω–∞–ª—ã –≤–∞—à–∏!",
                userIdLabel: "–í–ê–® ID –ù–û–ú–ï–†",
                userIdPlaceholder: "–ù–∞–ø—Ä–∏–º–µ—Ä: 1987654321",
                idError: "–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π ID –Ω–æ–º–µ—Ä (–Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å 1, 9-11 —Ü–∏—Ñ—Ä)",
                startSignalBtnText: "–ù–ê–ß–ê–¢–¨ –ü–û–õ–£–ß–ï–ù–ò–ï –°–ò–ì–ù–ê–õ–û–í",
                backToMenuText: "–ì–õ–ê–í–ù–û–ï –ú–ï–ù–Æ",
                goToRegisterText: "–ü–û–õ–£–ß–ò–¢–¨ –ë–û–ù–£–°",
                warningTitle: "üéØ –ì–û–¢–û–í–´?",
                warningText1: "–î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –≤—ã—Å–æ–∫–æ—Ç–æ—á–Ω—ã—Ö —Å–∏–≥–Ω–∞–ª–æ–≤ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å —Å –ø—Ä–æ–º–æ–∫–æ–¥–æ–º AIFUT!",
                warningText2: "–î–ª—è –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Ç–æ—á–Ω–æ—Å—Ç—å —Å–∏–≥–Ω–∞–ª–æ–≤ –¥–æ—Å—Ç–∏–≥–∞–µ—Ç 94.7%. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å —Å–µ–π—á–∞—Å –∏ –ø–æ–ª—É—á–∏—Ç–µ 200% –±–æ–Ω—É—Å!",
                yourIdText: "–í–ê–® ID –ù–û–ú–ï–†:",
                changeIdText: "–°–ú–ï–ù–ò–¢–¨ ID",
                readyText: "–ì–æ—Ç–æ–≤—ã –∑–∞—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –±–æ–ª—å—à–∏–µ –¥–µ–Ω—å–≥–∏? –î–∞–≤–∞–π—Ç–µ –Ω–∞—á–Ω–µ–º!",
                confirmStartText: "–ù–ê–ß–ê–¢–¨ –ü–û–õ–£–ß–ï–ù–ò–ï –°–ò–ì–ù–ê–õ–û–í",
                signalLabel: "–†–ê–£–ù–î –°–ò–ì–ù–ê–õ–ê:",
                yourIdText2: "–í–ê–® ID:",
                gameInstruction: "–í—ã–±–∏—Ä–∞–π—Ç–µ —Ü–µ–ª—ã–µ —è–±–ª–æ–∫–∏ –¥–ª—è –ø–µ—Ä–µ—Ö–æ–¥–∞ –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–π —É—Ä–æ–≤–µ–Ω—å. –ù–∞–¥–∫—É—à–µ–Ω–Ω–æ–µ —è–±–ª–æ–∫–æ –∑–∞–≤–µ—Ä—à–∏—Ç –∏–≥—Ä—É!",
                revealBtnText: "–ü–û–ö–ê–ó–ê–¢–¨ –Ø–ë–õ–û–ö–ò",
                selectionText: "–í–´–ë–ò–†–ê–ô–¢–ï –¶–ï–õ–´–ï –Ø–ë–õ–û–ö–ò (–ê–í–¢–û–ú–ê–¢–ò–ß–ï–°–ö–ò –ü–ï–†–ï–•–û–î–ò–¢ –ù–ê –°–õ–ï–î–£–Æ–©–ò–ô –£–†–û–í–ï–ù–¨)",
                restartBtnText: "–ü–û–ü–†–û–ë–û–í–ê–¢–¨ –°–ù–û–í–ê",
                waitTitle: "üéâ –ü–û–ó–î–†–ê–í–õ–Ø–ï–ú!",
                gameEndText: "–í—ã –¥–æ—Å—Ç–∏–≥–ª–∏ {round}-–≥–æ —Ä–∞—É–Ω–¥–∞!",
                riskWarning: "–°–ª–µ–¥—É—é—â–∏–µ —É—Ä–æ–≤–Ω–∏ –∏–º–µ—é—Ç –≤—ã—Å–æ–∫–∏–π —Ä–∏—Å–∫. –ó–∞—â–∏—Ç–∏—Ç–µ –≤–∞—à—É –ø—Ä–∏–±—ã–ª—å –∏ –ø–æ–ª—É—á–∏—Ç–µ —Å–ª–µ–¥—É—é—â–∏–π —Å–∏–≥–Ω–∞–ª!",
                signalLimitText: "–õ–∏–º–∏—Ç —Å–∏–≥–Ω–∞–ª–æ–≤ –¥–æ—Å—Ç–∏–≥–Ω—É—Ç –¥–ª—è —ç—Ç–æ–≥–æ ID. –°–ª–µ–¥—É—é—â–∏–π —Å–∏–≥–Ω–∞–ª –¥–æ—Å—Ç—É–ø–µ–Ω —á–µ—Ä–µ–∑ {time}",
                highRiskText: "–í—ã—Å–æ–∫–∏–π —Ä–∏—Å–∫ –≤ –æ—Å—Ç–∞–≤—à–∏—Ö—Å—è —É—Ä–æ–≤–Ω—è—Ö! –ó–∞—â–∏—Ç–∏—Ç–µ –≤–∞—à—É –ø—Ä–∏–±—ã–ª—å!",
                nextSignalText: "–î–û –°–õ–ï–î–£–Æ–©–ï–ì–û –°–ò–ì–ù–ê–õ–ê:",
                shareBtnText: "–ü–†–ò–ì–õ–ê–°–ò–¢–¨ –î–†–£–ó–ï–ô",
                yourIdText3: "–í–ê–® ID:",
                globalRegisterText: "–ó–ê–†–ï–ì–ò–°–¢–†–ò–†–û–í–ê–¢–¨–°–Ø –°–ï–ô–ß–ê–°",
                footerHome: "–ì–õ–ê–í–ù–ê–Ø",
                footerAbout: "–û –ù–ê–°",
                footerContact: "–ö–û–ù–¢–ê–ö–¢–´",
                footerTerms: "–£–°–õ–û–í–ò–Ø –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Ø",
                footerPrivacy: "–ü–û–õ–ò–¢–ò–ö–ê –ö–û–ù–§–ò–î–ï–ù–¶–ò–ê–õ–¨–ù–û–°–¢–ò",
                copyrightText: "¬© 2024 Apple of Fortune. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã. AIFUT - –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π –ø—Ä–æ–º–æ–∫–æ–¥.",
                successRate: "–ü–†–û–¶–ï–ù–¢ –£–°–ü–ï–•–ê",
                usersLabel: "–ê–ö–¢–ò–í–ù–´–ï –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–ò",
                profitLabel: "–ü–†–ò–ë–´–õ–¨ –ó–ê –°–ï–ì–û–î–ù–Ø",
                signalsLabel: "–°–ò–ì–ù–ê–õ–û–í –ó–ê –°–ï–ì–û–î–ù–Ø",
                successMessage: "‚úÖ –¶–µ–ª–æ–µ —è–±–ª–æ–∫–æ! –ü–µ—Ä–µ—Ö–æ–¥–∏–º –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–π —É—Ä–æ–≤–µ–Ω—å... üí∞",
                failureMessage: "‚ùå –ù–∞–¥–∫—É—à–µ–Ω–Ω–æ–µ —è–±–ª–æ–∫–æ! –ò–≥—Ä–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞ –Ω–∞ —Ä–∞—É–Ω–¥–µ {round}! –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞! üîÑ"
            },
            
            en: {
                languagePrompt: "Premium AI trading signals platform. Select language to begin",
                currentLanguage: "English",
                mainTitle: "Apple of Fortune",
                tagline: "Premium AI trading signals with AIFUT promo code. Earn big every day!",
                signalTitle: "GET PREMIUM SIGNALS",
                signalDesc: "High-accuracy trading signals based on AI analysis. Get free signals 2 times per day!",
                signalBtnText: "START GETTING SIGNALS",
                statsTitle: "MY STATISTICS",
                statsDesc: "View your personal trading statistics. Your profits, success rate and other metrics.",
                statsBtnText: "VIEW STATISTICS",
                bonusTitle: "BONUSES & PRIVILEGES",
                bonusDesc: "Invite friends, collect bonuses and get VIP status!",
                bonusBtnText: "VIEW BONUSES",
                promoTitle: "üöÄ 200% BONUS WITH AIFUT PROMO CODE!",
                promoDesc: "Register now and get 200% deposit bonus with AIFUT promo code! Premium signals, personal mentor and VIP support!",
                promoRegisterText: "REGISTER NOW",
                welcomeTitle: "üöÄ Welcome, Investor!",
                welcomeText: "Get access to premium trading signals based on AI technology on Apple of Fortune platform. Register with AIFUT promo code and get instant 200% bonus!",
                startGameBtnText: "START GETTING SIGNALS",
                registerBtnText: "REGISTER",
                mainStatsBtnText: "STATISTICS",
                downloadBtnText: "MOBILE APP",
                gameStartTitle: "üîê Enter Your ID",
                earnStartText: "Enter your ID number to access premium trading signals. If you registered with AIFUT promo code, high-accuracy signals are yours!",
                userIdLabel: "YOUR ID NUMBER",
                userIdPlaceholder: "Example: 1987654321",
                idError: "Please enter correct ID number (starts with 1, 9-11 digits)",
                startSignalBtnText: "START GETTING SIGNALS",
                backToMenuText: "MAIN MENU",
                goToRegisterText: "GET BONUS",
                warningTitle: "üéØ READY?",
                warningText1: "For high-accuracy signals, register with AIFUT promo code!",
                warningText2: "For registered users, signal accuracy reaches 94.7%. Register now and get 200% bonus!",
                yourIdText: "YOUR ID NUMBER:",
                changeIdText: "CHANGE ID",
                readyText: "Ready to earn big money? Let's start!",
                confirmStartText: "START GETTING SIGNALS",
                signalLabel: "SIGNAL ROUND:",
                yourIdText2: "YOUR ID:",
                gameInstruction: "Select whole apples to proceed to next level. Bitten apple will end the game!",
                revealBtnText: "REVEAL APPLES",
                selectionText: "SELECT WHOLE APPLES (AUTOMATICALLY PROCEEDS TO NEXT LEVEL)",
                restartBtnText: "TRY AGAIN",
                waitTitle: "üéâ CONGRATULATIONS!",
                gameEndText: "You reached round {round}!",
                riskWarning: "Next levels have higher risk. Secure your profits and get next signal!",
                signalLimitText: "Signal limit reached for this ID. Next signal available in {time}",
                highRiskText: "High risk in remaining levels! Secure your profits!",
                nextSignalText: "NEXT SIGNAL IN:",
                shareBtnText: "INVITE FRIENDS",
                yourIdText3: "YOUR ID:",
                globalRegisterText: "REGISTER NOW",
                footerHome: "HOME",
                footerAbout: "ABOUT US",
                footerContact: "CONTACT",
                footerTerms: "TERMS OF USE",
                footerPrivacy: "PRIVACY POLICY",
                copyrightText: "¬© 2024 Apple of Fortune. All rights reserved. AIFUT - official promo code.",
                successRate: "SUCCESS RATE",
                usersLabel: "ACTIVE USERS",
                profitLabel: "TODAY'S PROFIT",
                signalsLabel: "TODAY'S SIGNALS",
                successMessage: "‚úÖ Whole apple! Moving to next level... üí∞",
                failureMessage: "‚ùå Bitten apple! Game ended at Round {round}! Try again! üîÑ"
            }
        };

        document.addEventListener('DOMContentLoaded', function() {
            // Current language
            let currentLang = localStorage.getItem('appleFortuneLanguage') || 'uz';
            
            // Get elements
            const languageSelector = document.getElementById('languageSelector');
            const container = document.querySelector('.container');
            const languageSwitcher = document.getElementById('languageSwitcher');
            const currentLanguage = document.getElementById('currentLanguage');
            const langSelectBtns = document.querySelectorAll('.lang-select-btn');
            const bgAnimation = document.getElementById('bgAnimation');
            
            // Create animated particles
            function createParticles() {
                for (let i = 0; i < 20; i++) {
                    const particle = document.createElement('div');
                    particle.className = 'bg-particle';
                    particle.style.width = `${Math.random() * 200 + 100}px`;
                    particle.style.height = particle.style.width;
                    particle.style.left = `${Math.random() * 100}%`;
                    particle.style.top = `${Math.random() * 100}%`;
                    particle.style.animationDelay = `${Math.random() * 15}s`;
                    particle.style.opacity = Math.random() * 0.3 + 0.1;
                    bgAnimation.appendChild(particle);
                }
            }
            
            createParticles();
            
            // Main elements
            const mainMenu = document.getElementById('mainMenu');
            const loginSection = document.getElementById('loginSection');
            const startSignalBtn = document.getElementById('startSignalBtn');
            const registerBtn = document.getElementById('registerBtn');
            const downloadBtn = document.getElementById('downloadBtn');
            const signalBtn = document.getElementById('signalBtn');
            const statsBtn = document.getElementById('statsBtn');
            const bonusBtn = document.getElementById('bonusBtn');
            const promoRegisterBtn = document.getElementById('promoRegisterBtn');
            const backToMenuBtn = document.getElementById('backToMenuBtn');
            const goToRegisterBtn = document.getElementById('goToRegisterBtn');
            const warningSection = document.getElementById('warningSection');
            const confirmStartBtn = document.getElementById('confirmStartBtn');
            const gameSection = document.getElementById('gameSection');
            const applesContainer = document.getElementById('applesContainer');
            const revealBtn = document.getElementById('revealBtn');
            const resultMessage = document.getElementById('resultMessage');
            const restartBtn = document.getElementById('restartBtn');
            const roundCounter = document.getElementById('roundCounter');
            const waitSection = document.getElementById('waitSection');
            const countdownElement = document.getElementById('countdown');
            const remainingTimeElement = document.getElementById('remainingTime');
            const endRoundElement = document.getElementById('endRound');
            const waitUserId = document.getElementById('waitUserId');
            const shareDuringWaitBtn = document.getElementById('shareDuringWaitBtn');
            const idError = document.getElementById('idError');
            const userIdInput = document.getElementById('userId');
            const changeIdBtn = document.getElementById('changeIdBtn');
            const displayUserId = document.getElementById('displayUserId');
            const gameUserId = document.getElementById('gameUserId');
            const globalRegisterBtn = document.getElementById('globalRegisterBtn');
            const mainStatsBtn = document.getElementById('mainStatsBtn');
            const startGameBtn = document.getElementById('startGameBtn');

            // Variables
            let currentRound = 1;
            let gameActive = false;
            let currentUserId = '';
            let applesRevealed = false;
            let countdownInterval = null;
            let countdownTime = 3 * 60 * 60; // 3 hours in seconds
            let endRound = 0;
            let sharedFriends = 0;

            // Round configuration
            const roundConfig = {
                1: { whole: 4, bitten: 1 },
                2: { whole: 4, bitten: 1 },
                3: { whole: 3, bitten: 2 },
                4: { whole: 3, bitten: 2 },
                5: { whole: 3, bitten: 2 },
                6: { whole: 2, bitten: 3 }
            };
            
            // Game end probabilities
            const roundEndProbabilities = {
                1: 0.05,
                2: 0.15,
                3: 0.45,
                4: 0.75,
                5: 0.92,
                6: 1.00
            };

            // ==================== FUNCTIONS ====================

            // Update translations
            function updateTranslations(lang) {
                const t = translations[lang];
                
                // Update all elements with translations
                for (const [key, value] of Object.entries(t)) {
                    const element = document.getElementById(key);
                    if (element) {
                        if (element.tagName === 'INPUT' && element.placeholder !== '') {
                            element.placeholder = value;
                        } else if (key.includes('{round}')) {
                            element.innerHTML = value.replace('{round}', endRound || currentRound);
                        } else if (key.includes('{time}')) {
                            const hours = Math.floor(countdownTime / 3600);
                            const minutes = Math.floor((countdownTime % 3600) / 60);
                            const seconds = countdownTime % 60;
                            const timeString = `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
                            element.innerHTML = value.replace('{time}', timeString);
                        } else {
                            element.innerHTML = value;
                        }
                    }
                }
                
                // Update current language display
                currentLanguage.textContent = t.currentLanguage;
                
                // Save language preference
                currentLang = lang;
                localStorage.setItem('appleFortuneLanguage', lang);
            }

            // Select language
            function selectLanguage(lang) {
                languageSelector.style.display = 'none';
                container.classList.add('active');
                languageSwitcher.classList.remove('hidden');
                updateTranslations(lang);
                loadSavedData();
                
                // Show main actions
                showMainActions();
            }

            // Switch language
            function switchLanguage() {
                container.classList.remove('active');
                languageSwitcher.classList.add('hidden');
                languageSelector.style.display = 'flex';
            }

            // Show main actions (cards)
            function showMainActions() {
                mainMenu.classList.add('hidden');
                loginSection.classList.add('hidden');
                warningSection.classList.add('hidden');
                gameSection.classList.add('hidden');
                waitSection.classList.add('hidden');
                
                // Show the main action cards (they're visible by default)
            }

            // Load saved data
            function loadSavedData() {
                const savedUserId = localStorage.getItem('appleFortuneUserId');
                const savedTimerEnd = localStorage.getItem('appleFortuneTimerEnd');
                const savedSharedFriends = localStorage.getItem('appleFortuneSharedFriends');
                
                if (savedUserId) {
                    userIdInput.value = savedUserId;
                    currentUserId = savedUserId;
                    
                    if (savedSharedFriends) {
                        sharedFriends = parseInt(savedSharedFriends);
                    }
                    
                    if (savedTimerEnd) {
                        const now = Date.now();
                        const timerEnd = parseInt(savedTimerEnd);
                        
                        if (timerEnd > now) {
                            countdownTime = Math.floor((timerEnd - now) / 1000);
                            showWaitSection();
                            return;
                        } else {
                            localStorage.removeItem('appleFortuneTimerEnd');
                            localStorage.removeItem('appleFortuneEndRound');
                        }
                    }
                }
            }
            
            // Validate user ID
            function validateUserId(userId) {
                const idRegex = /^1\d{8,10}$/;
                return idRegex.test(userId);
            }
            
            // Change user ID
            function changeUserId() {
                warningSection.classList.add('hidden');
                gameSection.classList.add('hidden');
                waitSection.classList.add('hidden');
                loginSection.classList.add('hidden');
                showMainActions();
                
                userIdInput.value = '';
                userIdInput.focus();
                
                localStorage.removeItem('appleFortuneUserId');
                localStorage.removeItem('appleFortuneTimerEnd');
                localStorage.removeItem('appleFortuneEndRound');
                localStorage.removeItem('appleFortuneSharedFriends');
                currentUserId = '';
                sharedFriends = 0;
                
                currentRound = 1;
                
                if (countdownInterval) {
                    clearInterval(countdownInterval);
                }
            }
            
            // Start game
            function startGame() {
                gameSection.classList.remove('hidden');
                waitSection.classList.add('hidden');
                gameUserId.textContent = currentUserId;
                roundCounter.textContent = currentRound;
                gameActive = false;
                applesRevealed = false;
                createMysteryApples();
            }
            
            // Create mystery apples
            function createMysteryApples() {
                applesContainer.innerHTML = '';
                resultMessage.classList.add('hidden');
                restartBtn.classList.add('hidden');
                selectionInstruction.classList.add('hidden');
                revealBtn.classList.remove('hidden');
                revealBtn.disabled = false;
                revealBtn.innerHTML = `<i class="fas fa-eye"></i> ${translations[currentLang].revealBtnText}`;
                
                for (let i = 0; i < 5; i++) {
                    const apple = document.createElement('div');
                    apple.className = 'mystery-apple';
                    apple.innerHTML = '<i class="fas fa-question"></i>';
                    applesContainer.appendChild(apple);
                }
            }
            
            // Reveal apples
            function revealApples() {
                applesContainer.innerHTML = '';
                
                const config = roundConfig[currentRound] || { whole: 2, bitten: 3 };
                const totalApples = 5;
                
                let apples = [];
                for (let i = 0; i < config.whole; i++) {
                    apples.push('whole');
                }
                for (let i = 0; i < config.bitten; i++) {
                    apples.push('bitten');
                }
                
                // Shuffle apples
                for (let i = apples.length - 1; i > 0; i--) {
                    const j = Math.floor(Math.random() * (i + 1));
                    [apples[i], apples[j]] = [apples[j], apples[i]];
                }
                
                // Create apples
                for (let i = 0; i < totalApples; i++) {
                    const apple = document.createElement('div');
                    const appleType = apples[i];
                    
                    apple.className = `apple ${appleType}`;
                    apple.dataset.index = i;
                    apple.dataset.type = appleType;
                    
                    if (appleType === 'whole') {
                        apple.innerHTML = '<i class="fas fa-apple-alt"></i>';
                    } else {
                        apple.innerHTML = '<i class="fas fa-apple-alt"></i><i class="fas fa-bite" style="position: absolute; top: 10px; right: 10px; font-size: 1.5rem; color: white;"></i>';
                    }
                    
                    apple.addEventListener('click', function() {
                        if (!gameActive) return;
                        selectApple(this);
                    });
                    
                    applesContainer.appendChild(apple);
                }
            }
            
            // Select apple
            function selectApple(appleElement) {
                const appleType = appleElement.dataset.type;
                gameActive = false;
                
                const t = translations[currentLang];
                
                if (appleType === 'bitten') {
                    endRound = currentRound;
                    resultMessage.textContent = t.failureMessage.replace('{round}', currentRound);
                    resultMessage.className = 'result-message failure-message';
                    resultMessage.classList.remove('hidden');
                    restartBtn.classList.remove('hidden');
                    selectionInstruction.classList.add('hidden');
                } else {
                    resultMessage.textContent = t.successMessage;
                    resultMessage.className = 'result-message success-message';
                    resultMessage.classList.remove('hidden');
                    selectionInstruction.classList.add('hidden');
                    
                    setTimeout(() => {
                        const endProbability = roundEndProbabilities[currentRound] || 0;
                        
                        if (Math.random() < endProbability) {
                            endRound = currentRound;
                            gameSection.classList.add('hidden');
                            startWaitSection();
                        } else if (currentRound < 6) {
                            currentRound++;
                            startGame();
                        } else {
                            endRound = 6;
                            gameSection.classList.add('hidden');
                            startWaitSection();
                        }
                    }, 2000);
                }
            }
            
            // Show wait section
            function showWaitSection() {
                waitSection.classList.remove('hidden');
                waitUserId.textContent = currentUserId;
                endRoundElement.textContent = endRound;
                
                updateTranslations(currentLang);
                
                const timerEndTime = Date.now() + (countdownTime * 1000);
                localStorage.setItem('appleFortuneTimerEnd', timerEndTime.toString());
                localStorage.setItem('appleFortuneEndRound', endRound.toString());
                
                startCountdown();
            }
            
            // Start wait section after game ends
            function startWaitSection() {
                countdownTime = 3 * 60 * 60 - (sharedFriends * 30 * 60); // 3 hours minus 30 minutes per friend
                if (countdownTime < 60 * 60) countdownTime = 60 * 60; // Minimum 1 hour
                showWaitSection();
            }
            
            // Start countdown
            function startCountdown() {
                updateCountdown();
                
                if (countdownInterval) {
                    clearInterval(countdownInterval);
                }
                
                countdownInterval = setInterval(() => {
                    countdownTime--;
                    updateCountdown();
                    
                    const timerEndTime = Date.now() + (countdownTime * 1000);
                    localStorage.setItem('appleFortuneTimerEnd', timerEndTime.toString());
                    
                    if (countdownTime <= 0) {
                        clearInterval(countdownInterval);
                        localStorage.removeItem('appleFortuneTimerEnd');
                        localStorage.removeItem('appleFortuneEndRound');
                        
                        waitSection.classList.add('hidden');
                        currentRound = 1;
                        startGame();
                    }
                }, 1000);
            }
            
            // Update countdown
            function updateCountdown() {
                const hours = Math.floor(countdownTime / 3600);
                const minutes = Math.floor((countdownTime % 3600) / 60);
                const seconds = countdownTime % 60;
                
                const timeString = `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
                
                countdownElement.textContent = timeString;
                remainingTimeElement.textContent = timeString;
            }
            
            // Share with friends
            function shareWithFriends() {
                const t = translations[currentLang];
                const shareMessage = `üöÄ ${t.signalTitle}\n\n${t.welcomeText}\n\nüëâ t.me/Strategioyinlar_bot\n\nüéØ ${t.promoTitle}\nüí∞ ${t.globalRegisterText}\n\nüì± ${t.yourIdText3} ${currentUserId}\n\n#AppleFortune #AIFUT #TradingSignals`;
                
                const shareUrl = `https://t.me/share/url?url=https://t.me/Strategioyinlar_bot&text=${encodeURIComponent(shareMessage)}`;
                window.open(shareUrl, '_blank');
                
                sharedFriends++;
                localStorage.setItem('appleFortuneSharedFriends', sharedFriends.toString());
                
                // Reduce wait time by 30 minutes per friend
                if (countdownTime > 30 * 60) {
                    countdownTime -= 30 * 60;
                    updateCountdown();
                    
                    // Update timer in localStorage
                    const timerEndTime = Date.now() + (countdownTime * 1000);
                    localStorage.setItem('appleFortuneTimerEnd', timerEndTime.toString());
                    
                    alert(`${t.shareBtnText}! ${t.nextSignalText} 30 ${currentLang === 'uz' ? 'daqiqa' : currentLang === 'ru' ? '–º–∏–Ω—É—Ç' : 'minutes'} qisqardi!`);
                }
            }

            // Show statistics
            function showStatistics() {
                const t = translations[currentLang];
                alert(`${t.statsTitle}\n\n${t.successRate}: 94.7%\n${t.usersLabel}: 18,542\n${t.profitLabel}: $342,150\n${t.signalsLabel}: 2,847\n\n${t.bonusDesc}`);
            }

            // Show bonuses
            function showBonuses() {
                const t = translations[currentLang];
                alert(`${t.bonusTitle}\n\n1. ${t.promoTitle}\n2. ${t.shareBtnText} - 30 ${currentLang === 'uz' ? 'daqiqa' : currentLang === 'ru' ? '–º–∏–Ω—É—Ç' : 'minutes'} qisqartirish\n3. 20 ${currentLang === 'uz' ? 'do\'st' : currentLang === 'ru' ? '–¥—Ä—É–∑–µ–π' : 'friends'} = VIP status\n4. Kunlik bonuslar va sovrinlar\n\n${t.globalRegisterText}`);
            }

            // ==================== EVENT LISTENERS ====================

            // Language selection buttons
            langSelectBtns.forEach(btn => {
                btn.addEventListener('click', () => {
                    const lang = btn.dataset.lang;
                    selectLanguage(lang);
                });
            });

            // Language switcher
            languageSwitcher.addEventListener('click', switchLanguage);

            // SIGNAL button (main card)
            signalBtn.addEventListener('click', function() {
                showMainActions();
                loginSection.classList.remove('hidden');
                
                const savedUserId = localStorage.getItem('appleFortuneUserId');
                if (savedUserId) {
                    userIdInput.value = savedUserId;
                    currentUserId = savedUserId;
                    
                    if (validateUserId(savedUserId)) {
                        idError.style.display = 'none';
                        startSignalBtn.disabled = false;
                    }
                }
            });

            // STATS button
            statsBtn.addEventListener('click', showStatistics);
            mainStatsBtn.addEventListener('click', showStatistics);

            // BONUS button
            bonusBtn.addEventListener('click', showBonuses);

            // REGISTER buttons
            registerBtn.addEventListener('click', function() {
                window.open('https://superlative-twilight-47ef34.netlify.app/', '_blank');
                alert(translations[currentLang].promoRegisterText);
            });
            
            promoRegisterBtn.addEventListener('click', function() {
                window.open('https://superlative-twilight-47ef34.netlify.app/', '_blank');
                alert(translations[currentLang].promoRegisterText);
            });
            
            globalRegisterBtn.addEventListener('click', function(e) {
                e.preventDefault();
                window.open('https://superlative-twilight-47ef34.netlify.app/', '_blank');
                alert(translations[currentLang].promoRegisterText);
            });

            // START GAME button (main menu)
            startGameBtn.addEventListener('click', function() {
                showMainActions();
                loginSection.classList.remove('hidden');
            });

            // Back to main menu
            backToMenuBtn.addEventListener('click', function() {
                loginSection.classList.add('hidden');
                warningSection.classList.add('hidden');
                showMainActions();
            });

            // GO TO REGISTER button
            goToRegisterBtn.addEventListener('click', function() {
                window.open('https://superlative-twilight-47ef34.netlify.app/', '_blank');
                alert(translations[currentLang].promoRegisterText);
            });

            // ID input validation
            userIdInput.addEventListener('input', function() {
                const userId = this.value.trim();
                if (userId === '') {
                    idError.style.display = 'none';
                    startSignalBtn.disabled = false;
                } else if (!validateUserId(userId)) {
                    idError.style.display = 'block';
                    startSignalBtn.disabled = true;
                } else {
                    idError.style.display = 'none';
                    startSignalBtn.disabled = false;
                }
            });
            
            // APK download button
            downloadBtn.addEventListener('click', function() {
                const t = translations[currentLang];
                alert(t.downloadBtnText + ' - ' + (currentLang === 'uz' ? 'Ilova tez orada mavjud bo\'ladi!' : 
                      currentLang === 'ru' ? '–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ –≤ –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è!' : 
                      'App will be available soon!'));
            });
            
            // Change ID button
            changeIdBtn.addEventListener('click', changeUserId);
            
            // Start signal button
            startSignalBtn.addEventListener('click', function() {
                const userId = userIdInput.value.trim();
                
                if (userId === '') {
                    alert(translations[currentLang].userIdLabel + ' ' + (currentLang === 'uz' ? 'kiritilmadi!' : 
                          currentLang === 'ru' ? '–Ω–µ –≤–≤–µ–¥–µ–Ω!' : 'not entered!'));
                    return;
                }
                
                if (!validateUserId(userId)) {
                    alert(currentLang === 'uz' ? 'ID raqam to\'g\'ri bo\'lishi kerak!' :
                          currentLang === 'ru' ? 'ID –Ω–æ–º–µ—Ä –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º!' :
                          'ID number must be correct!');
                    return;
                }
                
                currentUserId = userId;
                localStorage.setItem('appleFortuneUserId', userId);
                displayUserId.textContent = userId;
                
                loginSection.classList.add('hidden');
                warningSection.classList.remove('hidden');
            });
            
            // Confirm button
            confirmStartBtn.addEventListener('click', function() {
                warningSection.classList.add('hidden');
                startGame();
            });
            
            // Reveal apples button
            revealBtn.addEventListener('click', function() {
                if (applesRevealed) return;
                
                applesRevealed = true;
                revealBtn.disabled = true;
                revealBtn.innerHTML = `<i class="fas fa-mouse-pointer"></i> ${translations[currentLang].selectionText}`;
                selectionInstruction.classList.remove('hidden');
                gameActive = true;
                revealApples();
            });
            
            // Restart button
            restartBtn.addEventListener('click', function() {
                currentRound = 1;
                startGame();
            });
            
            // Share button during wait
            shareDuringWaitBtn.addEventListener('click', shareWithFriends);
            
            // ==================== INITIALIZATION ====================
            
            // Check saved language
            const savedLang = localStorage.getItem('appleFortuneLanguage');
            if (savedLang) {
                selectLanguage(savedLang);
            } else {
                // Show language selector
                languageSelector.style.display = 'flex';
            }
            
            // Update stats with random variations (for demo)
            setInterval(() => {
                const successRate = document.getElementById('successRate');
                const usersCount = document.getElementById('usersCount');
                const profitToday = document.getElementById('profitToday');
                const signalsToday = document.getElementById('signalsToday');
                
                // Add small random variations to make it look live
                if (successRate) {
                    const currentRate = parseFloat(successRate.textContent);
                    const newRate = (currentRate + (Math.random() * 0.2 - 0.1)).toFixed(1);
                    successRate.textContent = Math.min(99.9, Math.max(94.0, newRate)) + '%';
                }
                
                if (usersCount) {
                    const currentUsers = parseInt(usersCount.textContent.replace(',', ''));
                    const newUsers = currentUsers + Math.floor(Math.random() * 10);
                    usersCount.textContent = newUsers.toLocaleString();
                }
                
                if (profitToday) {
                    const currentProfit = parseInt(profitToday.textContent.replace('$', '').replace('K', '')) * 1000;
                    const newProfit = currentProfit + Math.floor(Math.random() * 5000);
                    profitToday.textContent = '$' + Math.floor(newProfit / 1000) + 'K';
                }
                
                if (signalsToday) {
                    const currentSignals = parseInt(signalsToday.textContent.replace(',', ''));
                    const newSignals = currentSignals + Math.floor(Math.random() * 5);
                    signalsToday.textContent = newSignals.toLocaleString();
                }
            }, 5000);
        });
    </script>
</body>
</html>
