<!DOCTYPE html>
<html lang="uz">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Apple Fortune | AI Trading VIP</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* ============ GLOBAL STYLES ============ */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
        }
        
        :root {
            --primary: #007AFF;
            --primary-dark: #0056CC;
            --secondary: #5856D6;
            --success: #34C759;
            --warning: #FF9500;
            --danger: #FF3B30;
            --dark: #1C1C1E;
            --darker: #000000;
            --light: #F2F2F7;
            --gray: #8E8E93;
            --card-bg: rgba(28, 28, 30, 0.8);
            --gradient: linear-gradient(135deg, #007AFF, #5856D6);
            --gradient-vip: linear-gradient(135deg, #FF9500, #FF2D55);
            --glass: rgba(28, 28, 30, 0.7);
            --border: rgba(255, 255, 255, 0.1);
        }
        
        body {
            background: var(--darker);
            color: white;
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }
        
        /* Neumorphism efekti uchun background */
        .bg-blur {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(circle at 20% 30%, rgba(0, 122, 255, 0.15) 0%, transparent 50%),
                radial-gradient(circle at 80% 70%, rgba(88, 86, 214, 0.15) 0%, transparent 50%);
            filter: blur(100px);
            z-index: -2;
        }
        
        .bg-pattern {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: 
                radial-gradient(circle at 25% 25%, rgba(255, 255, 255, 0.05) 2px, transparent 2px),
                radial-gradient(circle at 75% 75%, rgba(255, 255, 255, 0.05) 2px, transparent 2px);
            background-size: 50px 50px;
            z-index: -1;
            opacity: 0.3;
        }
        
        /* ============ LANGUAGE SELECTOR ============ */
        .language-selector {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--darker);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            padding: 20px;
            text-align: center;
        }
        
        .language-logo {
            width: 100px;
            height: 100px;
            background: var(--gradient);
            border-radius: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 30px;
            box-shadow: 
                0 20px 40px rgba(0, 122, 255, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.2);
            animation: float 3s ease-in-out infinite;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(5deg); }
        }
        
        .language-logo span {
            font-size: 48px;
            filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.2));
        }
        
        .language-selector h1 {
            font-size: 2.5rem;
            font-weight: 800;
            margin-bottom: 10px;
            background: var(--gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .language-subtitle {
            font-size: 1rem;
            color: var(--gray);
            margin-bottom: 40px;
            max-width: 300px;
        }
        
        .language-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            width: 100%;
            max-width: 350px;
        }
        
        .language-card {
            background: var(--card-bg);
            border: 1px solid var(--border);
            border-radius: 18px;
            padding: 20px 15px;
            color: white;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            backdrop-filter: blur(10px);
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
        }
        
        .language-card:hover {
            transform: translateY(-5px);
            background: rgba(0, 122, 255, 0.2);
            border-color: var(--primary);
            box-shadow: 0 10px 30px rgba(0, 122, 255, 0.2);
        }
        
        .language-card .flag {
            font-size: 2rem;
        }
        
        /* ============ MAIN CONTAINER ============ */
        .main-container {
            max-width: 100%;
            min-height: 100vh;
            display: none;
            flex-direction: column;
            padding-bottom: 80px;
        }
        
        .main-container.active {
            display: flex;
        }
        
        /* ============ HEADER ============ */
        .main-header {
            padding: 20px 20px 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .logo-icon {
            width: 44px;
            height: 44px;
            background: var(--gradient);
            border-radius: 14px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            box-shadow: 0 8px 20px rgba(0, 122, 255, 0.3);
        }
        
        .logo-text {
            font-size: 1.4rem;
            font-weight: 800;
            background: var(--gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .user-badge {
            background: var(--card-bg);
            border: 1px solid var(--border);
            border-radius: 16px;
            padding: 10px 16px;
            display: flex;
            align-items: center;
            gap: 10px;
            backdrop-filter: blur(10px);
        }
        
        .user-avatar {
            width: 36px;
            height: 36px;
            background: var(--gradient);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
        }
        
        .user-info {
            display: flex;
            flex-direction: column;
        }
        
        .user-name {
            font-size: 0.9rem;
            font-weight: 600;
        }
        
        .user-status {
            font-size: 0.75rem;
            color: var(--success);
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .status-dot {
            width: 8px;
            height: 8px;
            background: var(--success);
            border-radius: 50%;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        
        /* ============ BOTTOM NAVIGATION ============ */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: var(--glass);
            backdrop-filter: blur(20px);
            border-top: 1px solid var(--border);
            display: flex;
            justify-content: space-around;
            padding: 12px 0;
            z-index: 100;
        }
        
        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 6px;
            color: var(--gray);
            text-decoration: none;
            font-size: 0.75rem;
            transition: all 0.3s;
            padding: 8px 16px;
            border-radius: 16px;
        }
        
        .nav-item.active {
            color: var(--primary);
            background: rgba(0, 122, 255, 0.1);
        }
        
        .nav-icon {
            font-size: 1.2rem;
        }
        
        .nav-badge {
            position: absolute;
            top: 5px;
            right: 10px;
            background: var(--danger);
            color: white;
            font-size: 0.7rem;
            min-width: 18px;
            height: 18px;
            border-radius: 9px;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 0 5px;
        }
        
        /* ============ MAIN CONTENT SECTIONS ============ */
        .content-section {
            flex: 1;
            padding: 20px;
            display: none;
        }
        
        .content-section.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* ============ HOME SECTION ============ */
        .welcome-card {
            background: var(--gradient);
            border-radius: 24px;
            padding: 24px;
            margin-bottom: 20px;
            position: relative;
            overflow: hidden;
            box-shadow: 0 20px 40px rgba(0, 122, 255, 0.3);
        }
        
        .welcome-card::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
        }
        
        .welcome-text {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 10px;
        }
        
        .welcome-subtext {
            font-size: 0.9rem;
            opacity: 0.9;
        }
        
        .balance-card {
            background: var(--card-bg);
            border: 1px solid var(--border);
            border-radius: 24px;
            padding: 24px;
            margin-bottom: 20px;
            backdrop-filter: blur(10px);
        }
        
        .balance-title {
            font-size: 0.9rem;
            color: var(--gray);
            margin-bottom: 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .balance-amount {
            font-size: 3rem;
            font-weight: 800;
            background: var(--gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 20px;
        }
        
        .balance-stats {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
        }
        
        .stat-item {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 16px;
            padding: 15px;
            text-align: center;
        }
        
        .stat-value {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 5px;
        }
        
        .stat-label {
            font-size: 0.8rem;
            color: var(--gray);
        }
        
        .quick-actions {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .action-btn {
            background: var(--card-bg);
            border: 1px solid var(--border);
            border-radius: 20px;
            padding: 20px;
            color: white;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
            backdrop-filter: blur(10px);
        }
        
        .action-btn:hover {
            transform: translateY(-5px);
            border-color: var(--primary);
            box-shadow: 0 10px 20px rgba(0, 122, 255, 0.2);
        }
        
        .action-icon {
            width: 48px;
            height: 48px;
            background: var(--gradient);
            border-radius: 14px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
        }
        
        .vip-card {
            background: var(--gradient-vip);
            border-radius: 24px;
            padding: 24px;
            margin-bottom: 20px;
            position: relative;
            overflow: hidden;
            box-shadow: 0 20px 40px rgba(255, 149, 0, 0.3);
        }
        
        .vip-badge {
            position: absolute;
            top: -10px;
            right: 20px;
            background: white;
            color: #FF9500;
            font-weight: 800;
            padding: 6px 16px;
            border-radius: 20px;
            font-size: 0.8rem;
        }
        
        /* ============ VIP SECTION ============ */
        .vip-header {
            text-align: center;
            margin-bottom: 30px;
        }
        
        .vip-icon {
            width: 80px;
            height: 80px;
            background: var(--gradient-vip);
            border-radius: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.5rem;
            margin: 0 auto 20px;
            box-shadow: 0 20px 40px rgba(255, 149, 0, 0.3);
        }
        
        .vip-features {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-bottom: 30px;
        }
        
        .feature-card {
            background: var(--card-bg);
            border: 1px solid var(--border);
            border-radius: 20px;
            padding: 20px;
            text-align: center;
            backdrop-filter: blur(10px);
        }
        
        .feature-icon {
            width: 48px;
            height: 48px;
            background: var(--gradient);
            border-radius: 14px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            margin: 0 auto 15px;
        }
        
        .feature-title {
            font-weight: 600;
            margin-bottom: 5px;
        }
        
        .feature-desc {
            font-size: 0.8rem;
            color: var(--gray);
        }
        
        /* ============ SIGNAL SECTION ============ */
        .signal-card {
            background: var(--card-bg);
            border: 1px solid var(--border);
            border-radius: 24px;
            padding: 24px;
            margin-bottom: 20px;
            backdrop-filter: blur(10px);
        }
        
        .signal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .signal-id {
            background: rgba(0, 122, 255, 0.1);
            border: 1px solid var(--primary);
            border-radius: 16px;
            padding: 10px 20px;
            font-family: 'Courier New', monospace;
            font-weight: 600;
        }
        
        .game-container {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 20px;
            padding: 20px;
            margin-bottom: 20px;
            text-align: center;
        }
        
        /* ============ OLMA OYINI STILLARI ============ */
        .game-instruction {
            font-size: 0.9rem;
            color: #a0d2ff;
            margin-bottom: 20px;
            text-align: center;
            line-height: 1.4;
        }
        
        .apples-container {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }
        
        .apple {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            background-size: cover;
            background-position: center;
            border: 2px solid transparent;
            position: relative;
            overflow: hidden;
        }
        
        .apple:hover {
            transform: scale(1.1);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }
        
        .mystery-apple {
            background-image: url('https://i.ibb.co/Gf3NcMDQ/maxresdefault.jpg');
            border: 2px solid rgba(0, 150, 255, 0.6);
            animation: float 3s ease-in-out infinite;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-8px); }
        }
        
        .whole-apple {
            background-image: url('https://i.pinimg.com/736x/6a/aa/19/6aaa196961f40afd21cf9d21824f137e.jpg');
            border: 2px solid #ffcc00;
        }
        
        .bitten-apple {
            background-image: url('https://i.ibb.co/m5sNvNPK/62cd09ea-de08-49b9-9fea-d0100c747423-2.jpg');
            border: 2px solid #00ff00;
        }
        
        .game-btn {
            width: 100%;
            padding: 16px;
            border: none;
            border-radius: 10px;
            font-size: 0.95rem;
            font-weight: 700;
            cursor: pointer;
            margin-top: 10px;
            transition: all 0.2s;
        }
        
        .btn-reveal {
            background: linear-gradient(135deg, #00cc66, #009944);
            color: white;
        }
        
        .btn-restart {
            background: linear-gradient(135deg, #ff3366, #cc0044);
            color: white;
        }
        
        .result-message {
            background: rgba(0, 200, 255, 0.15);
            border-radius: 10px;
            padding: 15px;
            margin-top: 15px;
            text-align: center;
            font-size: 0.9rem;
            display: none;
        }
        
        .signal-success {
            color: #00ff66;
            font-weight: 700;
        }
        
        .round-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            padding-bottom: 15px;
            border-bottom: 1px solid var(--border);
        }
        
        .round-title {
            font-size: 0.95rem;
            color: var(--gray);
        }
        
        .round-number {
            font-size: 1.2rem;
            font-weight: 800;
            color: #ffcc00;
        }
        
        .user-id-display {
            background: rgba(0, 100, 255, 0.15);
            border-radius: 10px;
            padding: 12px;
            margin-bottom: 15px;
            text-align: center;
            font-size: 0.9rem;
        }
        
        /* ============ PROFILE SECTION ============ */
        .profile-card {
            background: var(--card-bg);
            border: 1px solid var(--border);
            border-radius: 24px;
            padding: 24px;
            margin-bottom: 20px;
            backdrop-filter: blur(10px);
            text-align: center;
        }
        
        .profile-avatar {
            width: 100px;
            height: 100px;
            background: var(--gradient);
            border-radius: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
            margin: 0 auto 20px;
            box-shadow: 0 20px 40px rgba(0, 122, 255, 0.3);
        }
        
        .profile-info {
            margin-bottom: 30px;
        }
        
        .profile-name {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 5px;
        }
        
        .profile-id {
            color: var(--gray);
            font-family: 'Courier New', monospace;
            margin-bottom: 20px;
        }
        
        .profile-status {
            display: inline-flex;
            align-items: center;
            gap: 10px;
            background: rgba(52, 199, 89, 0.1);
            border: 1px solid var(--success);
            color: var(--success);
            padding: 10px 20px;
            border-radius: 20px;
            font-weight: 600;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-bottom: 30px;
        }
        
        /* ============ WAIT SECTION ============ */
        .wait-section {
            display: none;
            background: var(--card-bg);
            border: 1px solid var(--border);
            border-radius: 24px;
            padding: 24px;
            margin-bottom: 20px;
            backdrop-filter: blur(10px);
        }
        
        .timer-display {
            background: rgba(0, 100, 255, 0.15);
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            margin: 20px 0;
        }
        
        .timer-label {
            font-size: 0.9rem;
            color: #a0d2ff;
            margin-bottom: 10px;
        }
        
        .timer-value {
            font-size: 1.8rem;
            font-weight: 800;
            color: #ffcc00;
            font-family: 'Courier New', monospace;
        }
        
        .share-section {
            background: rgba(102, 0, 255, 0.15);
            border-radius: 10px;
            padding: 15px;
            margin: 20px 0;
            text-align: center;
        }
        
        .share-title {
            font-size: 1rem;
            color: #cc99ff;
            margin-bottom: 10px;
        }
        
        .share-btn {
            background: linear-gradient(135deg, #9966ff, #6600cc);
            border: none;
            border-radius: 10px;
            padding: 14px;
            color: white;
            font-weight: 700;
            width: 100%;
            cursor: pointer;
        }
        
        /* ============ ANIMATIONS ============ */
        .hacker-animation {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #000;
            z-index: 2000;
            display: none;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }
        
        .matrix-text {
            font-family: 'Courier New', monospace;
            font-size: 1.2rem;
            color: #00ff00;
            text-align: center;
            margin-bottom: 30px;
            animation: text-flicker 0.5s infinite;
        }
        
        @keyframes text-flicker {
            0%, 19%, 21%, 23%, 25%, 54%, 56%, 100% {
                opacity: 1;
                text-shadow: 0 0 10px #00ff00;
            }
            20%, 24%, 55% {
                opacity: 0.5;
                text-shadow: none;
            }
        }
        
        .progress-bar {
            width: 80%;
            max-width: 300px;
            height: 12px;
            background: rgba(0, 255, 0, 0.1);
            border-radius: 6px;
            overflow: hidden;
            border: 1px solid #00ff00;
            margin-bottom: 20px;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #00ff00, #00cc00);
            width: 0%;
            transition: width 2s ease;
        }
        
        /* ============ MODALS ============ */
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(10px);
            z-index: 3000;
            display: none;
            justify-content: center;
            align-items: center;
        }
        
        .modal.active {
            display: flex;
            animation: fadeIn 0.3s ease;
        }
        
        .modal-content {
            background: var(--card-bg);
            border: 1px solid var(--border);
            border-radius: 28px;
            padding: 30px;
            width: 90%;
            max-width: 400px;
            backdrop-filter: blur(20px);
            transform: translateY(20px);
            animation: slideUp 0.3s ease forwards;
        }
        
        @keyframes slideUp {
            to { transform: translateY(0); }
        }
        
        .modal-header {
            text-align: center;
            margin-bottom: 25px;
        }
        
        .modal-title {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 10px;
        }
        
        .modal-subtitle {
            color: var(--gray);
            font-size: 0.9rem;
        }
        
        .input-group {
            margin-bottom: 20px;
        }
        
        .input-label {
            display: block;
            margin-bottom: 8px;
            font-size: 0.9rem;
            font-weight: 600;
        }
        
        .input-field {
            width: 100%;
            padding: 18px;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid var(--border);
            border-radius: 16px;
            color: white;
            font-size: 1rem;
            transition: all 0.3s;
        }
        
        .input-field:focus {
            outline: none;
            border-color: var(--primary);
            background: rgba(0, 122, 255, 0.05);
        }
        
        .btn {
            width: 100%;
            padding: 18px;
            border: none;
            border-radius: 16px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .btn-primary {
            background: var(--gradient);
            color: white;
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(0, 122, 255, 0.3);
        }
        
        .btn-secondary {
            background: var(--card-bg);
            border: 1px solid var(--border);
            color: white;
            margin-top: 10px;
        }
        
        /* ============ RESPONSIVE ============ */
        @media (min-width: 768px) {
            .main-container {
                max-width: 500px;
                margin: 0 auto;
            }
            
            .language-grid {
                grid-template-columns: repeat(3, 1fr);
                max-width: 500px;
            }
            
            .quick-actions {
                grid-template-columns: repeat(4, 1fr);
            }
            
            .apple {
                width: 70px;
                height: 70px;
            }
        }
        
        @media (max-width: 380px) {
            .welcome-text {
                font-size: 1.3rem;
            }
            
            .balance-amount {
                font-size: 2.5rem;
            }
            
            .quick-actions {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .apple {
                width: 55px;
                height: 55px;
            }
        }
    </style>
</head>
<body>
    <!-- Background Effects -->
    <div class="bg-blur"></div>
    <div class="bg-pattern"></div>
    
    <!-- Language Selector -->
    <div class="language-selector" id="languageSelector">
        <div class="language-logo">
            <span>üçé</span>
        </div>
        <h1>Apple Fortune</h1>
        <p class="language-subtitle">AI Trading Signals Platform</p>
        
        <div class="language-grid">
            <div class="language-card" data-lang="uz">
                <span class="flag">üá∫üáø</span>
                <span>O'zbekcha</span>
            </div>
            <div class="language-card" data-lang="ru">
                <span class="flag">üá∑üá∫</span>
                <span>–†—É—Å—Å–∫–∏–π</span>
            </div>
            <div class="language-card" data-lang="en">
                <span class="flag">üá∫üá∏</span>
                <span>English</span>
            </div>
            <div class="language-card" data-lang="bn">
                <span class="flag">üáßüá©</span>
                <span>‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ</span>
            </div>
            <div class="language-card" data-lang="ar">
                <span class="flag">üá™üá¨</span>
                <span>ÿßŸÑÿπÿ±ÿ®Ÿäÿ©</span>
            </div>
            <div class="language-card" data-lang="ky">
                <span class="flag">üá∞üá¨</span>
                <span>–ö—ã—Ä–≥—ã–∑—á–∞</span>
            </div>
        </div>
    </div>
    
    <!-- Hacker Animation -->
    <div class="hacker-animation" id="hackerAnimation">
        <div class="matrix-text" id="matrixText">SIGNAL ANALYZING...</div>
        <div class="progress-bar">
            <div class="progress-fill" id="progressFill"></div>
        </div>
        <div class="matrix-text">APPLE FORTUNE AI SYSTEM</div>
    </div>
    
    <!-- Main Container -->
    <div class="main-container" id="mainContainer">
        <!-- Header -->
        <div class="main-header">
            <div class="logo">
                <div class="logo-icon">üçé</div>
                <div class="logo-text">Apple Fortune</div>
            </div>
            
            <div class="user-badge" id="userBadge">
                <div class="user-avatar">
                    <i class="fas fa-user"></i>
                </div>
                <div class="user-info">
                    <div class="user-name" id="userName">User</div>
                    <div class="user-status">
                        <div class="status-dot"></div>
                        <span id="userStatus">Active</span>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Home Section -->
        <div class="content-section active" id="homeSection">
            <div class="welcome-card">
                <div class="welcome-text" id="welcomeText">Welcome back!</div>
                <div class="welcome-subtext" id="welcomeSubtext">Your AI trading assistant is ready</div>
            </div>
            
            <div class="balance-card">
                <div class="balance-title">
                    <span id="balanceLabel">Your Balance</span>
                    <span class="balance-amount" id="balanceAmount">5,000</span>
                </div>
                
                <div class="balance-stats">
                    <div class="stat-item">
                        <div class="stat-value" id="todayProfit">+$342</div>
                        <div class="stat-label" id="todayProfitLabel">Today's Profit</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="signalsCount">28</div>
                        <div class="stat-label" id="signalsLabel">Signals</div>
                    </div>
                </div>
            </div>
            
            <div class="quick-actions">
                <button class="action-btn" id="quickSignalBtn">
                    <div class="action-icon">
                        <i class="fas fa-bolt"></i>
                    </div>
                    <span id="quickSignalText">Quick Signal</span>
                </button>
                
                <button class="action-btn" id="inviteBtn">
                    <div class="action-icon">
                        <i class="fas fa-share-alt"></i>
                    </div>
                    <span id="inviteText">Invite Friends</span>
                </button>
                
                <button class="action-btn" id="bonusBtn">
                    <div class="action-icon">
                        <i class="fas fa-gift"></i>
                    </div>
                    <span id="bonusText">Bonuses</span>
                </button>
                
                <button class="action-btn" id="statsBtn">
                    <div class="action-icon">
                        <i class="fas fa-chart-line"></i>
                    </div>
                    <span id="statsText">Statistics</span>
                </button>
            </div>
            
            <div class="vip-card">
                <div class="vip-badge">VIP</div>
                <h3 style="font-size: 1.3rem; margin-bottom: 10px;" id="vipTitle">Premium Signals</h3>
                <p style="opacity: 0.9; margin-bottom: 20px;" id="vipDesc">Get exclusive VIP signals with 98.5% accuracy</p>
                <button class="btn btn-primary" id="upgradeVipBtn" style="width: 100%;">
                    <i class="fas fa-crown"></i> <span id="upgradeText">Upgrade to VIP</span>
                </button>
            </div>
        </div>
        
        <!-- VIP Section -->
        <div class="content-section" id="vipSection">
            <div class="vip-header">
                <div class="vip-icon">
                    <i class="fas fa-crown"></i>
                </div>
                <h2 style="font-size: 2rem; margin-bottom: 10px;" id="vipMainTitle">VIP ACCESS</h2>
                <p style="color: var(--gray);" id="vipSubtitle">Exclusive trading signals and benefits</p>
            </div>
            
            <div class="vip-features">
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-chart-line"></i>
                    </div>
                    <div class="feature-title" id="vipFeature1">98.5% Accuracy</div>
                    <div class="feature-desc" id="vipFeature1Desc">AI-powered signals</div>
                </div>
                
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-bolt"></i>
                    </div>
                    <div class="feature-title" id="vipFeature2">Real-time Alerts</div>
                    <div class="feature-desc" id="vipFeature2Desc">Instant notifications</div>
                </div>
                
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-shield-alt"></i>
                    </div>
                    <div class="feature-title" id="vipFeature3">Risk Management</div>
                    <div class="feature-desc" id="vipFeature3Desc">Safe trading strategies</div>
                </div>
                
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-headset"></i>
                    </div>
                    <div class="feature-title" id="vipFeature4">24/7 Support</div>
                    <div class="feature-desc" id="vipFeature4Desc">Personal assistance</div>
                </div>
            </div>
            
            <div class="signal-card">
                <h3 style="margin-bottom: 15px;" id="vipRequirementsTitle">VIP Requirements</h3>
                <div class="progress-bar" style="margin-bottom: 15px;">
                    <div class="progress-fill" id="vipProgress" style="width: 0%"></div>
                </div>
                <p style="text-align: center; color: var(--gray); margin-bottom: 20px;" id="vipProgressText">
                    Invite <span id="vipInvitedCount">0</span>/20 friends to unlock VIP
                </p>
                <button class="btn btn-primary" id="vipInviteBtn">
                    <i class="fas fa-share-alt"></i> <span id="vipInviteBtnText">Invite Friends</span>
                </button>
            </div>
        </div>
        
        <!-- Signal Section -->
        <div class="content-section" id="signalSection">
            <div class="signal-card">
                <div class="signal-header">
                    <h3 style="font-size: 1.3rem;" id="signalTitle">Get Trading Signal</h3>
                    <div class="signal-id" id="displayUserId">ID: -----</div>
                </div>
                
                <div class="game-container">
                    <div class="round-info">
                        <div class="round-title" id="roundLabel">RAUND:</div>
                        <div class="round-number" id="roundCounter">1</div>
                    </div>
                    
                    <div class="user-id-display">
                        <span id="yourIdText">ID:</span> <span id="gameUserId">-</span>
                    </div>
                    
                    <div class="game-instruction" id="gameInstruction">
                        Butun olmalarni tanlang. Tishlangan olma o'yinni tugatadi!
                    </div>
                    
                    <div class="apples-container" id="applesContainer">
                        <!-- Apples will be added here -->
                    </div>
                    
                    <button class="game-btn btn-reveal" id="revealBtn">
                        <i class="fas fa-eye"></i> <span id="revealText">OLMALARNI KORISH</span>
                    </button>
                    
                    <div class="result-message" id="resultMessage"></div>
                    
                    <button class="game-btn btn-restart" id="restartBtn" style="display: none;">
                        <i class="fas fa-redo"></i> <span id="restartText">QAYTA URINISH</span>
                    </button>
                </div>
            </div>
            
            <!-- Wait Section (hidden initially) -->
            <div class="wait-section" id="waitSection">
                <div style="margin-bottom: 20px;">
                    <i class="fas fa-clock" style="font-size: 2rem; color: var(--warning); margin-bottom: 15px;"></i>
                    <h3 style="font-size: 1.3rem; margin-bottom: 10px;" id="waitTitle">KEYINGI SIGNALGACHA</h3>
                    <p id="waitDesc" style="font-size: 0.85rem; color: var(--gray); margin-bottom: 15px;">
                        Siz <span id="endRound" class="warning">1</span>-raundgacha yetib keldingiz!
                    </p>
                </div>
                
                <div class="timer-display">
                    <div class="timer-label" id="timerLabel">QOLGAN VAQT</div>
                    <div class="timer-value" id="timerValue">03:00:00</div>
                </div>
                
                <div class="share-section">
                    <div class="share-title" id="shareTitle">
                        Do'stlaringizni taklif qiling va vaqtni qisqartiring!
                    </div>
                    <button class="share-btn" id="shareBtn">
                        <i class="fas fa-share-alt"></i> <span id="shareText">DO'STLARNI TAKLIF QILISH</span>
                    </button>
                </div>
                
                <button class="btn btn-secondary" id="changeIdBtn" style="width: 100%; margin-top: 10px;">
                    <i class="fas fa-sync-alt"></i> <span id="changeIdText">ID O'ZGARTIRISH</span>
                </button>
            </div>
            
            <div class="signal-card">
                <h3 style="margin-bottom: 15px;" id="signalStatsTitle">Signal Statistics</h3>
                <div class="balance-stats">
                    <div class="stat-item">
                        <div class="stat-value" id="accuracyRate">94.7%</div>
                        <div class="stat-label" id="accuracyLabel">Accuracy</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="totalSignals">2.8K</div>
                        <div class="stat-label" id="totalSignalsLabel">Total Signals</div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Profile Section -->
        <div class="content-section" id="profileSection">
            <div class="profile-card">
                <div class="profile-avatar">
                    <i class="fas fa-user"></i>
                </div>
                <div class="profile-info">
                    <div class="profile-name" id="profileUserName">User</div>
                    <div class="profile-id" id="profileUserId">ID: Not set</div>
                    <div class="profile-status">
                        <i class="fas fa-check-circle"></i>
                        <span id="profileStatusText">Active</span>
                    </div>
                </div>
                
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="stat-value" id="profileBalance">5,000</div>
                        <div class="stat-label">Balance</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="invitedFriends">0</div>
                        <div class="stat-label">Invited</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="totalGames">12</div>
                        <div class="stat-label">Games</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="successRate">85%</div>
                        <div class="stat-label">Success</div>
                    </div>
                </div>
                
                <button class="btn btn-primary" id="shareProfileBtn" style="margin-bottom: 15px;">
                    <i class="fas fa-share-alt"></i> <span id="shareProfileText">Share Profile</span>
                </button>
                
                <button class="btn btn-secondary" id="changeProfileIdBtn">
                    <i class="fas fa-sync-alt"></i> <span id="changeProfileIdText">Change ID</span>
                </button>
            </div>
            
            <div class="signal-card">
                <h3 style="margin-bottom: 15px;" id="activityTitle">Recent Activity</h3>
                <div id="activityList" style="color: var(--gray); text-align: center; padding: 20px;">
                    <p id="noActivityText">No activity yet</p>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Bottom Navigation -->
    <div class="bottom-nav">
        <a href="#" class="nav-item active" data-section="home">
            <i class="fas fa-home nav-icon"></i>
            <span id="navHome">Home</span>
        </a>
        
        <a href="#" class="nav-item" data-section="vip">
            <i class="fas fa-crown nav-icon"></i>
            <span id="navVip">VIP</span>
        </a>
        
        <a href="#" class="nav-item" data-section="signal">
            <i class="fas fa-satellite-dish nav-icon"></i>
            <span id="navSignal">Signal</span>
            <span class="nav-badge" id="signalBadge" style="display: none;">3</span>
        </a>
        
        <a href="#" class="nav-item" data-section="profile">
            <i class="fas fa-user nav-icon"></i>
            <span id="navProfile">Profile</span>
        </a>
    </div>
    
    <!-- ID Input Modal -->
    <div class="modal" id="idModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title" id="idModalTitle">Enter Your ID</h3>
                <p class="modal-subtitle" id="idModalSubtitle">Please enter your 11-digit ID number</p>
            </div>
            
            <div class="input-group">
                <label class="input-label" id="idInputLabel">ID Number</label>
                <input type="text" class="input-field" id="userIdInput" 
                       placeholder="12345678901" maxlength="11" pattern="[0-9]*" inputmode="numeric">
                <p style="font-size: 0.8rem; color: var(--gray); margin-top: 8px;" id="idHelpText">
                    Your unique 11-digit identification number
                </p>
            </div>
            
            <button class="btn btn-primary" id="saveIdBtn">
                <i class="fas fa-save"></i> <span id="saveIdText">Save ID</span>
            </button>
        </div>
    </div>
    
    <!-- Invite Modal -->
    <div class="modal" id="inviteModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title" id="inviteModalTitle">Invite Friends</h3>
                <p class="modal-subtitle" id="inviteModalSubtitle">Share with friends and earn bonuses</p>
            </div>
            
            <div style="text-align: center; margin-bottom: 25px;">
                <div style="font-size: 3rem; color: var(--success); margin-bottom: 15px;">
                    <i class="fas fa-gift"></i>
                </div>
                <h4 style="margin-bottom: 10px;" id="bonusAmount">+5 Points per Friend</h4>
                <p style="color: var(--gray);" id="inviteInfo">
                    Each invited friend adds 5 points to your balance
                </p>
            </div>
            
            <button class="btn btn-primary" id="shareTelegramBtn" style="margin-bottom: 10px;">
                <i class="fab fa-telegram"></i> <span id="shareTelegramText">Share on Telegram</span>
            </button>
            
            <button class="btn btn-secondary" id="copyLinkBtn">
                <i class="fas fa-copy"></i> <span id="copyLinkText">Copy Invite Link</span>
            </button>
        </div>
    </div>

    <script>
        // ==================== TRANSLATIONS ====================
        const translations = {
            uz: {
                welcomeText: "Xush kelibsiz!",
                welcomeSubtext: "AI savdo yordamchingiz tayyor",
                balanceLabel: "Hisobingiz",
                todayProfitLabel: "Bugungi foyda",
                signalsLabel: "Signallar",
                quickSignalText: "Tezkor Signal",
                inviteText: "Do'stlarni Taklif Qilish",
                bonusText: "Bonuslar",
                statsText: "Statistika",
                vipTitle: "Premium Signallar",
                vipDesc: "98.5% aniq VIP signallarni oling",
                upgradeText: "VIP ga O'tish",
                vipMainTitle: "VIP KIRISH",
                vipSubtitle: "Eksklyuziv savdo signallari va imtiyozlar",
                vipFeature1: "98.5% Aniqlik",
                vipFeature1Desc: "AI asosidagi signallar",
                vipFeature2: "Real-vaqtda Bildirishnoma",
                vipFeature2Desc: "Tezkor xabarlar",
                vipFeature3: "Risk Boshqaruvi",
                vipFeature3Desc: "Xavfsiz savdo strategiyalari",
                vipFeature4: "24/7 Yordam",
                vipFeature4Desc: "Shaxsiy yordam",
                vipRequirementsTitle: "VIP Talablari",
                vipProgressText: "VIP ni ochish uchun <span id='vipInvitedCount'>0</span>/20 do'stni taklif qiling",
                vipInviteBtnText: "Do'stlarni Taklif Qilish",
                signalTitle: "Savdo Signallarini Olish",
                roundLabel: "RAUND:",
                yourIdText: "ID:",
                gameInstruction: "Butun olmalarni tanlang. Tishlangan olma o'yinni tugatadi!",
                revealText: "OLMALARNI KORISH",
                restartText: "QAYTA URINISH",
                waitTitle: "KEYINGI SIGNALGACHA",
                timerLabel: "QOLGAN VAQT",
                shareTitle: "Do'stlaringizni taklif qiling va vaqtni qisqartiring!",
                shareText: "DO'STLARNI TAKLIF QILISH",
                changeIdText: "ID O'ZGARTIRISH",
                resultTitle: "O'yin Natijasi",
                signalStatsTitle: "Signal Statistikalari",
                accuracyLabel: "Aniqlik",
                totalSignalsLabel: "Jami Signallar",
                profileStatusText: "Faol",
                shareProfileText: "Profilni Ulashish",
                changeProfileIdText: "ID ni O'zgartirish",
                activityTitle: "Oxirgi Faoliyat",
                noActivityText: "Hozircha faoliyat yo'q",
                navHome: "Asosiy",
                navVip: "VIP",
                navSignal: "Signal",
                navProfile: "Profil",
                idModalTitle: "ID Raqamingizni Kiriting",
                idModalSubtitle: "Iltimos, 11 raqamli ID raqamingizni kiriting",
                idInputLabel: "ID Raqami",
                idHelpText: "Sizning noyob 11 raqamli identifikatsiya raqamingiz",
                saveIdText: "ID ni Saqlash",
                inviteModalTitle: "Do'stlarni Taklif Qilish",
                inviteModalSubtitle: "Do'stlaringiz bilan ulashing va bonuslar oling",
                bonusAmount: "+5 Ball Har Bir Do'st Uchun",
                inviteInfo: "Har bir taklif qilingan do'st hisobingizga 5 ball qo'shiladi",
                shareTelegramText: "Telegramda Ulashish",
                copyLinkText: "Taklif Havolasini Nusxalash",
                successMessage: "‚úÖ Butun olma! Keyingi bosqichga o'tilmoqda...",
                failureMessage: "‚ùå Tishlangan olma! O'yin {round}-raundda tugadi.",
                idRequired: "Iltimos, signal olish uchun ID raqamingizni kiriting.",
                idSaved: "ID raqamingiz muvaffaqiyatli saqlandi!",
                inviteSent: "Taklif muvaffaqiyatli yuborildi! +5 ball qo'shildi.",
                copied: "Havola nusxalandi!",
                loading: "Yuklanmoqda..."
            },
            ru: {
                welcomeText: "–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å!",
                welcomeSubtext: "–í–∞—à AI —Ç–æ—Ä–≥–æ–≤—ã–π –ø–æ–º–æ—â–Ω–∏–∫ –≥–æ—Ç–æ–≤",
                balanceLabel: "–í–∞—à –±–∞–ª–∞–Ω—Å",
                todayProfitLabel: "–ü—Ä–∏–±—ã–ª—å —Å–µ–≥–æ–¥–Ω—è",
                signalsLabel: "–°–∏–≥–Ω–∞–ª—ã",
                quickSignalText: "–ë—ã—Å—Ç—Ä—ã–π –°–∏–≥–Ω–∞–ª",
                inviteText: "–ü—Ä–∏–≥–ª–∞—Å–∏—Ç—å –î—Ä—É–∑–µ–π",
                bonusText: "–ë–æ–Ω—É—Å—ã",
                statsText: "–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞",
                vipTitle: "–ü—Ä–µ–º–∏—É–º –°–∏–≥–Ω–∞–ª—ã",
                vipDesc: "–ü–æ–ª—É—á–∞–π—Ç–µ VIP —Å–∏–≥–Ω–∞–ª—ã —Å —Ç–æ—á–Ω–æ—Å—Ç—å—é 98.5%",
                upgradeText: "–ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ VIP",
                vipMainTitle: "VIP –î–û–°–¢–£–ü",
                vipSubtitle: "–≠–∫—Å–∫–ª—é–∑–∏–≤–Ω—ã–µ —Ç–æ—Ä–≥–æ–≤—ã–µ —Å–∏–≥–Ω–∞–ª—ã –∏ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏",
                vipFeature1: "98.5% –¢–æ—á–Ω–æ—Å—Ç—å",
                vipFeature1Desc: "–°–∏–≥–Ω–∞–ª—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ AI",
                vipFeature2: "–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ –†–µ–∞–ª—å–Ω–æ–º –í—Ä–µ–º–µ–Ω–∏",
                vipFeature2Desc: "–ú–≥–Ω–æ–≤–µ–Ω–Ω—ã–µ –æ–ø–æ–≤–µ—â–µ–Ω–∏—è",
                vipFeature3: "–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –†–∏—Å–∫–∞–º–∏",
                vipFeature3Desc: "–ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏",
                vipFeature4: "–ü–æ–¥–¥–µ—Ä–∂–∫–∞ 24/7",
                vipFeature4Desc: "–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–∞—è –ø–æ–º–æ—â—å",
                vipRequirementsTitle: "–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è VIP",
                vipProgressText: "–ü—Ä–∏–≥–ª–∞—Å–∏—Ç–µ <span id='vipInvitedCount'>0</span>/20 –¥—Ä—É–∑–µ–π –¥–ª—è —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ VIP",
                vipInviteBtnText: "–ü—Ä–∏–≥–ª–∞—Å–∏—Ç—å –î—Ä—É–∑–µ–π",
                signalTitle: "–ü–æ–ª—É—á–∏—Ç—å –¢–æ—Ä–≥–æ–≤—ã–π –°–∏–≥–Ω–∞–ª",
                roundLabel: "–†–ê–£–ù–î:",
                yourIdText: "ID:",
                gameInstruction: "–í—ã–±–∏—Ä–∞–π—Ç–µ —Ü–µ–ª—ã–µ —è–±–ª–æ–∫–∏. –ù–∞–¥–∫—É—à–µ–Ω–Ω–æ–µ —è–±–ª–æ–∫–æ –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç –∏–≥—Ä—É!",
                revealText: "–ü–û–ö–ê–ó–ê–¢–¨ –Ø–ë–õ–û–ö–ò",
                restartText: "–ü–û–ü–†–û–ë–û–í–ê–¢–¨ –°–ù–û–í–ê",
                waitTitle: "–î–û –°–õ–ï–î–£–Æ–©–ï–ì–û –°–ò–ì–ù–ê–õ–ê",
                timerLabel: "–û–°–¢–ê–í–®–ï–ï–°–Ø –í–†–ï–ú–Ø",
                shareTitle: "–ü—Ä–∏–≥–ª–∞—à–∞–π—Ç–µ –¥—Ä—É–∑–µ–π –∏ —Å–æ–∫—Ä–∞—â–∞–π—Ç–µ –≤—Ä–µ–º—è!",
                shareText: "–ü–†–ò–ì–õ–ê–°–ò–¢–¨ –î–†–£–ó–ï–ô",
                changeIdText: "–°–ú–ï–ù–ò–¢–¨ ID",
                resultTitle: "–†–µ–∑—É–ª—å—Ç–∞—Ç –ò–≥—Ä—ã",
                signalStatsTitle: "–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –°–∏–≥–Ω–∞–ª–æ–≤",
                accuracyLabel: "–¢–æ—á–Ω–æ—Å—Ç—å",
                totalSignalsLabel: "–í—Å–µ–≥–æ –°–∏–≥–Ω–∞–ª–æ–≤",
                profileStatusText: "–ê–∫—Ç–∏–≤–Ω—ã–π",
                shareProfileText: "–ü–æ–¥–µ–ª–∏—Ç—å—Å—è –ü—Ä–æ—Ñ–∏–ª–µ–º",
                changeProfileIdText: "–°–º–µ–Ω–∏—Ç—å ID",
                activityTitle: "–ù–µ–¥–∞–≤–Ω—è—è –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å",
                noActivityText: "–ê–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –ø–æ–∫–∞ –Ω–µ—Ç",
                navHome: "–ì–ª–∞–≤–Ω–∞—è",
                navVip: "VIP",
                navSignal: "–°–∏–≥–Ω–∞–ª",
                navProfile: "–ü—Ä–æ—Ñ–∏–ª—å",
                idModalTitle: "–í–≤–µ–¥–∏—Ç–µ –í–∞—à ID",
                idModalSubtitle: "–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –≤–∞—à 11-–∑–Ω–∞—á–Ω—ã–π ID –Ω–æ–º–µ—Ä",
                idInputLabel: "ID –ù–æ–º–µ—Ä",
                idHelpText: "–í–∞—à —É–Ω–∏–∫–∞–ª—å–Ω—ã–π 11-–∑–Ω–∞—á–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–æ–Ω–Ω—ã–π –Ω–æ–º–µ—Ä",
                saveIdText: "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å ID",
                inviteModalTitle: "–ü—Ä–∏–≥–ª–∞—Å–∏—Ç—å –î—Ä—É–∑–µ–π",
                inviteModalSubtitle: "–î–µ–ª–∏—Ç–µ—Å—å —Å –¥—Ä—É–∑—å—è–º–∏ –∏ –ø–æ–ª—É—á–∞–π—Ç–µ –±–æ–Ω—É—Å—ã",
                bonusAmount: "+5 –ë–∞–ª–ª–æ–≤ –∑–∞ –î—Ä—É–≥–∞",
                inviteInfo: "–ö–∞–∂–¥—ã–π –ø—Ä–∏–≥–ª–∞—à–µ–Ω–Ω—ã–π –¥—Ä—É–≥ –¥–æ–±–∞–≤–ª—è–µ—Ç 5 –±–∞–ª–ª–æ–≤ –Ω–∞ –≤–∞—à –±–∞–ª–∞–Ω—Å",
                shareTelegramText: "–ü–æ–¥–µ–ª–∏—Ç—å—Å—è –≤ Telegram",
                copyLinkText: "–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –ü—Ä–∏–≥–ª–∞—Å–∏—Ç–µ–ª—å–Ω—É—é –°—Å—ã–ª–∫—É",
                successMessage: "‚úÖ –¶–µ–ª–æ–µ —è–±–ª–æ–∫–æ! –ü–µ—Ä–µ—Ö–æ–¥–∏–º –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–π —É—Ä–æ–≤–µ–Ω—å...",
                failureMessage: "‚ùå –ù–∞–¥–∫—É—à–µ–Ω–Ω–æ–µ —è–±–ª–æ–∫–æ! –ò–≥—Ä–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞ –Ω–∞ —Ä–∞—É–Ω–¥–µ {round}.",
                idRequired: "–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –≤–∞—à ID –Ω–æ–º–µ—Ä –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–∏–≥–Ω–∞–ª–æ–≤.",
                idSaved: "–í–∞—à ID –Ω–æ–º–µ—Ä —É—Å–ø–µ—à–Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω!",
                inviteSent: "–ü—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ! +5 –±–∞–ª–ª–æ–≤ –¥–æ–±–∞–≤–ª–µ–Ω–æ.",
                copied: "–°—Å—ã–ª–∫–∞ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∞!",
                loading: "–ó–∞–≥—Ä—É–∑–∫–∞..."
            },
            en: {
                welcomeText: "Welcome back!",
                welcomeSubtext: "Your AI trading assistant is ready",
                balanceLabel: "Your Balance",
                todayProfitLabel: "Today's Profit",
                signalsLabel: "Signals",
                quickSignalText: "Quick Signal",
                inviteText: "Invite Friends",
                bonusText: "Bonuses",
                statsText: "Statistics",
                vipTitle: "Premium Signals",
                vipDesc: "Get exclusive VIP signals with 98.5% accuracy",
                upgradeText: "Upgrade to VIP",
                vipMainTitle: "VIP ACCESS",
                vipSubtitle: "Exclusive trading signals and benefits",
                vipFeature1: "98.5% Accuracy",
                vipFeature1Desc: "AI-powered signals",
                vipFeature2: "Real-time Alerts",
                vipFeature2Desc: "Instant notifications",
                vipFeature3: "Risk Management",
                vipFeature3Desc: "Safe trading strategies",
                vipFeature4: "24/7 Support",
                vipFeature4Desc: "Personal assistance",
                vipRequirementsTitle: "VIP Requirements",
                vipProgressText: "Invite <span id='vipInvitedCount'>0</span>/20 friends to unlock VIP",
                vipInviteBtnText: "Invite Friends",
                signalTitle: "Get Trading Signal",
                roundLabel: "ROUND:",
                yourIdText: "ID:",
                gameInstruction: "Select whole apples. Bitten apple will end the game!",
                revealText: "REVEAL APPLES",
                restartText: "TRY AGAIN",
                waitTitle: "NEXT SIGNAL IN",
                timerLabel: "TIME LEFT",
                shareTitle: "Invite friends and reduce time!",
                shareText: "INVITE FRIENDS",
                changeIdText: "CHANGE ID",
                resultTitle: "Game Result",
                signalStatsTitle: "Signal Statistics",
                accuracyLabel: "Accuracy",
                totalSignalsLabel: "Total Signals",
                profileStatusText: "Active",
                shareProfileText: "Share Profile",
                changeProfileIdText: "Change ID",
                activityTitle: "Recent Activity",
                noActivityText: "No activity yet",
                navHome: "Home",
                navVip: "VIP",
                navSignal: "Signal",
                navProfile: "Profile",
                idModalTitle: "Enter Your ID",
                idModalSubtitle: "Please enter your 11-digit ID number",
                idInputLabel: "ID Number",
                idHelpText: "Your unique 11-digit identification number",
                saveIdText: "Save ID",
                inviteModalTitle: "Invite Friends",
                inviteModalSubtitle: "Share with friends and earn bonuses",
                bonusAmount: "+5 Points per Friend",
                inviteInfo: "Each invited friend adds 5 points to your balance",
                shareTelegramText: "Share on Telegram",
                copyLinkText: "Copy Invite Link",
                successMessage: "‚úÖ Whole apple! Moving to next level...",
                failureMessage: "‚ùå Bitten apple! Game ended at round {round}.",
                idRequired: "Please enter your ID number to get signals.",
                idSaved: "Your ID number successfully saved!",
                inviteSent: "Invitation successfully sent! +5 points added.",
                copied: "Link copied!",
                loading: "Loading..."
            }
        };

        // ==================== APPLICATION STATE ====================
        let currentLang = 'uz';
        let userId = '';
        let userBalance = 5000;
        let invitedFriends = 0;
        let gameRound = 1;
        let gameActive = false;
        let applesRevealed = false;
        let currentUserId = '';
        let countdownInterval = null;
        let countdownTime = 3 * 60 * 60; // 3 hours
        let endRoundValue = 0;
        let sharedFriends = 0;
        let invitedFriendsVIP = 0;
        const REQUIRED_VIP_FRIENDS = 20;
        let activityLog = [];

        // ==================== DOM ELEMENTS ====================
        const languageSelector = document.getElementById('languageSelector');
        const mainContainer = document.getElementById('mainContainer');
        const hackerAnimation = document.getElementById('hackerAnimation');
        const matrixText = document.getElementById('matrixText');
        const progressFill = document.getElementById('progressFill');
        const bottomNavItems = document.querySelectorAll('.nav-item');
        const contentSections = document.querySelectorAll('.content-section');
        
        // Modals
        const idModal = document.getElementById('idModal');
        const inviteModal = document.getElementById('inviteModal');
        
        // Inputs
        const userIdInput = document.getElementById('userIdInput');
        const saveIdBtn = document.getElementById('saveIdBtn');
        
        // Buttons
        const quickSignalBtn = document.getElementById('quickSignalBtn');
        const inviteBtn = document.getElementById('inviteBtn');
        const upgradeVipBtn = document.getElementById('upgradeVipBtn');
        const vipInviteBtn = document.getElementById('vipInviteBtn');
        const revealBtn = document.getElementById('revealBtn');
        const restartBtn = document.getElementById('restartBtn');
        const shareBtn = document.getElementById('shareBtn');
        const changeIdBtn = document.getElementById('changeIdBtn');
        const changeProfileIdBtn = document.getElementById('changeProfileIdBtn');
        const shareProfileBtn = document.getElementById('shareProfileBtn');
        const shareTelegramBtn = document.getElementById('shareTelegramBtn');
        const copyLinkBtn = document.getElementById('copyLinkBtn');
        
        // Game elements
        const roundCounter = document.getElementById('roundCounter');
        const gameUserId = document.getElementById('gameUserId');
        const applesContainer = document.getElementById('applesContainer');
        const resultMessage = document.getElementById('resultMessage');
        const endRound = document.getElementById('endRound');
        const timerValue = document.getElementById('timerValue');
        const waitSection = document.getElementById('waitSection');
        
        // Display elements
        const displayUserId = document.getElementById('displayUserId');
        const profileUserId = document.getElementById('profileUserId');
        const balanceAmount = document.getElementById('balanceAmount');
        const profileBalance = document.getElementById('profileBalance');
        const invitedFriendsDisplay = document.getElementById('invitedFriends');
        const vipInvitedCount = document.getElementById('vipInvitedCount');
        const vipProgress = document.getElementById('vipProgress');

        // ==================== INITIALIZATION ====================
        document.addEventListener('DOMContentLoaded', function() {
            // Check language
            const savedLang = localStorage.getItem('appleFortuneLang');
            if (savedLang) {
                currentLang = savedLang;
                loadLanguage();
                checkUserId();
            }
            
            // Set up event listeners
            setupEventListeners();
            
            // Load user data
            loadUserData();
        });

        // ==================== LANGUAGE FUNCTIONS ====================
        function loadLanguage() {
            const t = translations[currentLang] || translations.uz;
            
            // Update all translatable elements
            document.querySelectorAll('[id]').forEach(element => {
                const key = element.id;
                if (t[key]) {
                    if (element.tagName === 'INPUT') {
                        element.placeholder = t[key];
                    } else {
                        element.innerHTML = t[key];
                    }
                }
            });
            
            // Update navigation
            document.querySelectorAll('.nav-item').forEach((item, index) => {
                const spans = item.querySelectorAll('span');
                if (spans[0]) {
                    const keys = ['navHome', 'navVip', 'navSignal', 'navProfile'];
                    spans[0].textContent = t[keys[index]];
                }
            });
        }

        // ==================== USER DATA FUNCTIONS ====================
        function loadUserData() {
            // Load from localStorage
            const savedUserId = localStorage.getItem('appleFortuneUserId');
            const savedBalance = localStorage.getItem('appleFortuneBalance');
            const savedInvited = localStorage.getItem('appleFortuneInvited');
            const savedInvitedVIP = localStorage.getItem('appleFortuneInvitedFriendsVIP');
            const savedActivities = localStorage.getItem('appleFortuneActivities');
            const savedTimerEnd = localStorage.getItem('appleFortuneTimerEnd');
            const savedEndRound = localStorage.getItem('appleFortuneEndRound');
            
            if (savedUserId) {
                userId = savedUserId;
                currentUserId = savedUserId;
                updateUserDisplay();
            }
            
            if (savedBalance) {
                userBalance = parseInt(savedBalance);
            }
            
            if (savedInvited) {
                invitedFriends = parseInt(savedInvited);
            }
            
            if (savedInvitedVIP) {
                invitedFriendsVIP = parseInt(savedInvitedVIP);
            }
            
            if (savedActivities) {
                activityLog = JSON.parse(savedActivities);
                updateActivityLog();
            }
            
            if (savedTimerEnd) {
                const now = Date.now();
                const timerEnd = parseInt(savedTimerEnd);
                
                if (timerEnd > now) {
                    countdownTime = Math.floor((timerEnd - now) / 1000);
                    endRoundValue = savedEndRound || 1;
                    showWaitSection();
                }
            }
            
            updateBalanceDisplay();
            updateInvitedCount();
        }

        function saveUserData() {
            localStorage.setItem('appleFortuneUserId', userId);
            localStorage.setItem('appleFortuneBalance', userBalance.toString());
            localStorage.setItem('appleFortuneInvited', invitedFriends.toString());
            localStorage.setItem('appleFortuneInvitedFriendsVIP', invitedFriendsVIP.toString());
            localStorage.setItem('appleFortuneActivities', JSON.stringify(activityLog));
        }

        function checkUserId() {
            if (!userId) {
                showModal(idModal);
            }
        }

        function updateUserDisplay() {
            if (displayUserId) {
                displayUserId.textContent = `ID: ${userId}`;
            }
            if (profileUserId) {
                profileUserId.textContent = `ID: ${userId}`;
            }
            if (gameUserId) {
                gameUserId.textContent = userId || '-';
            }
        }

        function updateBalanceDisplay() {
            if (balanceAmount) {
                balanceAmount.textContent = userBalance.toLocaleString();
            }
            if (profileBalance) {
                profileBalance.textContent = userBalance.toLocaleString();
            }
        }

        function updateInvitedCount() {
            if (invitedFriendsDisplay) {
                invitedFriendsDisplay.textContent = invitedFriends;
            }
            if (vipInvitedCount) {
                vipInvitedCount.textContent = invitedFriendsVIP;
            }
            if (vipProgress) {
                const progress = Math.min((invitedFriendsVIP / 20) * 100, 100);
                vipProgress.style.width = `${progress}%`;
            }
        }

        function addActivity(action, details = '') {
            const t = translations[currentLang] || translations.uz;
            const now = new Date();
            const time = now.toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});
            
            let actionText = '';
            switch(action) {
                case 'game_start':
                    actionText = 'Game started';
                    break;
                case 'game_won':
                    actionText = `Game completed - Round ${details}`;
                    break;
                case 'game_lost':
                    actionText = `Game lost - Round ${details}`;
                    break;
                case 'invite_sent':
                    actionText = 'Friend invited';
                    break;
                case 'balance_added':
                    actionText = `+${details} points added`;
                    break;
                case 'id_saved':
                    actionText = 'ID saved';
                    break;
                default:
                    actionText = action;
            }
            
            activityLog.unshift({
                action: actionText,
                time: time,
                date: now.toLocaleDateString()
            });
            
            // Keep only last 10 activities
            if (activityLog.length > 10) {
                activityLog.pop();
            }
            
            updateActivityLog();
            saveUserData();
        }

        function updateActivityLog() {
            const activityList = document.getElementById('activityList');
            const noActivityText = document.getElementById('noActivityText');
            
            if (!activityList) return;
            
            if (activityLog.length === 0) {
                activityList.innerHTML = `<p id="noActivityText">${translations[currentLang]?.noActivityText || 'No activity yet'}</p>`;
                return;
            }
            
            let html = '';
            activityLog.forEach(activity => {
                html += `
                    <div style="display: flex; justify-content: space-between; padding: 10px 0; border-bottom: 1px solid var(--border);">
                        <span>${activity.action}</span>
                        <span style="color: var(--gray); font-size: 0.9rem;">${activity.time}</span>
                    </div>
                `;
            });
            
            activityList.innerHTML = html;
        }

        // ==================== GAME FUNCTIONS ====================
        function startGame() {
            if (!userId) {
                showNotification(translations[currentLang]?.idRequired || 'Please enter ID');
                showModal(idModal);
                return;
            }
            
            gameRound = 1;
            gameActive = false;
            applesRevealed = false;
            createMysteryApples();
            
            addActivity('game_start');
            
            // Hide wait section if shown
            waitSection.style.display = 'none';
        }

        function createMysteryApples() {
            if (!applesContainer) return;
            
            applesContainer.innerHTML = '';
            if (resultMessage) resultMessage.style.display = 'none';
            if (restartBtn) restartBtn.style.display = 'none';
            if (revealBtn) {
                revealBtn.disabled = false;
                revealBtn.innerHTML = `<i class="fas fa-eye"></i> ${translations[currentLang]?.revealText || 'OLMALARNI KORISH'}`;
            }
            
            if (roundCounter) roundCounter.textContent = gameRound;
            
            for (let i = 0; i < 5; i++) {
                const apple = document.createElement('div');
                apple.className = 'apple mystery-apple';
                apple.addEventListener('click', function() {
                    if (!applesRevealed) {
                        revealApples();
                    }
                });
                applesContainer.appendChild(apple);
            }
        }

        function revealApples() {
            if (!applesContainer) return;
            
            applesContainer.innerHTML = '';
            applesRevealed = true;
            gameActive = true;
            if (revealBtn) {
                revealBtn.disabled = true;
                revealBtn.innerHTML = `<i class="fas fa-hand-pointer"></i> ${translations[currentLang]?.revealText || 'OLMALARNI KORISH'}`;
            }
            
            // Round configuration
            const roundConfig = {
                1: { whole: 4, bitten: 1 },
                2: { whole: 4, bitten: 1 },
                3: { whole: 3, bitten: 2 },
                4: { whole: 3, bitten: 2 },
                5: { whole: 3, bitten: 2 },
                6: { whole: 2, bitten: 3 }
            };
            
            const config = roundConfig[gameRound] || { whole: 2, bitten: 3 };
            const totalApples = 5;
            
            let apples = [];
            for (let i = 0; i < config.whole; i++) {
                apples.push('whole');
            }
            for (let i = 0; i < config.bitten; i++) {
                apples.push('bitten');
            }
            
            // Shuffle
            for (let i = apples.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [apples[i], apples[j]] = [apples[j], apples[i]];
            }
            
            // Create apples
            for (let i = 0; i < totalApples; i++) {
                const apple = document.createElement('div');
                const appleType = apples[i];
                
                apple.className = `apple ${appleType === 'whole' ? 'whole-apple' : 'bitten-apple'}`;
                apple.dataset.index = i;
                apple.dataset.type = appleType;
                
                apple.addEventListener('click', function() {
                    if (!gameActive) return;
                    selectApple(this);
                });
                
                applesContainer.appendChild(apple);
            }
        }

        function selectApple(appleElement) {
            const appleType = appleElement.dataset.type;
            gameActive = false;
            
            const t = translations[currentLang] || translations.uz;
            
            if (appleType === 'bitten') {
                endRoundValue = gameRound;
                if (resultMessage) {
                    resultMessage.textContent = t.failureMessage.replace('{round}', gameRound);
                    resultMessage.style.color = '#ff3366';
                    resultMessage.style.display = 'block';
                }
                if (restartBtn) restartBtn.style.display = 'block';
                addActivity('game_lost', gameRound);
            } else {
                if (resultMessage) {
                    resultMessage.innerHTML = '<span class="signal-success">‚úÖ Butun olma! Signal tahlil qilinmoqda...</span>';
                    resultMessage.style.display = 'block';
                }
                
                // Show hacker animation before next round
                setTimeout(() => {
                    if (hackerAnimation) {
                        hackerAnimation.style.display = 'flex';
                        setTimeout(() => {
                            if (hackerAnimation) hackerAnimation.style.display = 'none';
                            
                            // Game end probabilities
                            const roundEndProbabilities = {
                                1: 0.05,
                                2: 0.15,
                                3: 0.45,
                                4: 0.75,
                                5: 0.92,
                                6: 1.00
                            };
                            
                            const endProbability = roundEndProbabilities[gameRound] || 0;
                            
                            if (Math.random() < endProbability) {
                                endRoundValue = gameRound;
                                localStorage.setItem('appleFortuneEndRound', endRoundValue);
                                showWaitSection();
                                addActivity('game_won', gameRound);
                            } else if (gameRound < 6) {
                                gameRound++;
                                startGame();
                                addActivity('game_won', gameRound - 1);
                            } else {
                                endRoundValue = 6;
                                localStorage.setItem('appleFortuneEndRound', endRoundValue);
                                showWaitSection();
                                addActivity('game_won', 6);
                            }
                        }, 3000);
                    }
                }, 1500);
            }
        }

        // ==================== WAIT SECTION FUNCTIONS ====================
        function showWaitSection() {
            waitSection.style.display = 'block';
            
            if (endRound) endRound.textContent = endRoundValue;
            
            // Start countdown
            startCountdown();
        }

        function startCountdown() {
            updateCountdown();
            
            if (countdownInterval) {
                clearInterval(countdownInterval);
            }
            
            countdownInterval = setInterval(() => {
                countdownTime--;
                updateCountdown();
                
                const timerEndTime = Date.now() + (countdownTime * 1000);
                localStorage.setItem('appleFortuneTimerEnd', timerEndTime.toString());
                
                if (countdownTime <= 0) {
                    clearInterval(countdownInterval);
                    localStorage.removeItem('appleFortuneTimerEnd');
                    localStorage.removeItem('appleFortuneEndRound');
                    
                    gameRound = 1;
                    waitSection.style.display = 'none';
                    startGame();
                }
            }, 1000);
        }

        function updateCountdown() {
            if (!timerValue) return;
            
            const hours = Math.floor(countdownTime / 3600);
            const minutes = Math.floor((countdownTime % 3600) / 60);
            const seconds = countdownTime % 60;
            
            const timeString = `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            timerValue.textContent = timeString;
        }

        // ==================== MODAL FUNCTIONS ====================
        function showModal(modal) {
            modal.classList.add('active');
        }

        function hideModal(modal) {
            modal.classList.remove('active');
        }

        // ==================== ANIMATION FUNCTIONS ====================
        function showHackerAnimation(text, duration = 2000) {
            if (matrixText) matrixText.textContent = text;
            if (progressFill) progressFill.style.width = '0%';
            
            hackerAnimation.style.display = 'flex';
            
            setTimeout(() => {
                if (progressFill) progressFill.style.width = '100%';
            }, 100);
            
            setTimeout(() => {
                hackerAnimation.style.display = 'none';
            }, duration);
        }

        function showNotification(message, type = 'info') {
            // Create notification element
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: var(--card-bg);
                border: 1px solid ${type === 'success' ? 'var(--success)' : type === 'error' ? 'var(--danger)' : 'var(--primary)'};
                border-radius: 16px;
                padding: 15px 20px;
                color: white;
                font-weight: 500;
                z-index: 9999;
                backdrop-filter: blur(20px);
                transform: translateX(150%);
                transition: transform 0.3s ease;
                max-width: 300px;
                box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            `;
            notification.textContent = message;
            
            document.body.appendChild(notification);
            
            // Animate in
            setTimeout(() => {
                notification.style.transform = 'translateX(0)';
            }, 10);
            
            // Remove after delay
            setTimeout(() => {
                notification.style.transform = 'translateX(150%)';
                setTimeout(() => {
                    document.body.removeChild(notification);
                }, 300);
            }, 3000);
        }

        // ==================== NAVIGATION FUNCTIONS ====================
        function switchSection(sectionName) {
            // Update navigation
            bottomNavItems.forEach(item => {
                if (item.dataset.section === sectionName) {
                    item.classList.add('active');
                } else {
                    item.classList.remove('active');
                }
            });
            
            // Show corresponding section
            contentSections.forEach(section => {
                if (section.id === `${sectionName}Section`) {
                    section.classList.add('active');
                    
                    // If switching to signal section, start game
                    if (sectionName === 'signal') {
                        startGame();
                    }
                } else {
                    section.classList.remove('active');
                }
            });
        }

        // ==================== EVENT LISTENERS ====================
        function setupEventListeners() {
            // Language selection
            document.querySelectorAll('.language-card').forEach(card => {
                card.addEventListener('click', () => {
                    const lang = card.dataset.lang;
                    currentLang = lang;
                    localStorage.setItem('appleFortuneLang', lang);
                    loadLanguage();
                    languageSelector.style.display = 'none';
                    mainContainer.classList.add('active');
                    checkUserId();
                });
            });
            
            // Navigation
            bottomNavItems.forEach(item => {
                item.addEventListener('click', (e) => {
                    e.preventDefault();
                    const section = item.dataset.section;
                    switchSection(section);
                });
            });
            
            // ID Modal
            saveIdBtn.addEventListener('click', () => {
                const id = userIdInput.value.trim();
                
                if (id.length === 11 && /^\d+$/.test(id)) {
                    userId = id;
                    currentUserId = id;
                    updateUserDisplay();
                    saveUserData();
                    hideModal(idModal);
                    showNotification(translations[currentLang]?.idSaved || 'ID saved!', 'success');
                    addActivity('id_saved');
                } else {
                    showNotification('Please enter a valid 11-digit ID number', 'error');
                }
            });
            
            // Game buttons
            revealBtn.addEventListener('click', function() {
                if (!applesRevealed) {
                    revealApples();
                }
            });
            
            restartBtn.addEventListener('click', function() {
                startGame();
            });
            
            // Invite buttons
            inviteBtn.addEventListener('click', () => showModal(inviteModal));
            vipInviteBtn.addEventListener('click', () => showModal(inviteModal));
            upgradeVipBtn.addEventListener('click', () => {
                showHackerAnimation('UPGRADING TO VIP...', 3000);
                setTimeout(() => {
                    showNotification('VIP access activated!', 'success');
                    switchSection('vip');
                }, 3000);
            });
            
            // Quick signal
            quickSignalBtn.addEventListener('click', () => {
                switchSection('signal');
            });
            
            // Share buttons
            shareTelegramBtn.addEventListener('click', () => {
                const t = translations[currentLang] || translations.uz;
                const message = `üéØ ${t.signalTitle} | Apple Fortune\n\nJoin me for AI trading signals!\nüëâ t.me/Strategioyinlar_bot\n\nMy ID: ${userId}\n\n#AppleFortune #AITrading`;
                const url = `https://t.me/share/url?url=https://t.me/Strategioyinlar_bot?start=${userId}&text=${encodeURIComponent(message)}`;
                window.open(url, '_blank');
                
                // Add balance for sharing
                userBalance += 5;
                invitedFriends++;
                invitedFriendsVIP++;
                updateBalanceDisplay();
                updateInvitedCount();
                saveUserData();
                addActivity('invite_sent');
                addActivity('balance_added', '5');
                
                hideModal(inviteModal);
                showNotification(t.inviteSent || 'Invitation sent! +5 points added', 'success');
            });
            
            copyLinkBtn.addEventListener('click', () => {
                const link = `https://t.me/Strategioyinlar_bot?start=${userId}`;
                navigator.clipboard.writeText(link).then(() => {
                    const t = translations[currentLang] || translations.uz;
                    showNotification(t.copied || 'Link copied!', 'success');
                    hideModal(inviteModal);
                });
            });
            
            // Profile buttons
            shareProfileBtn.addEventListener('click', () => {
                const t = translations[currentLang] || translations.uz;
                const message = `üìä ${t.navProfile} | Apple Fortune\n\nCheck out my trading profile!\nID: ${userId}\nBalance: ${userBalance} points\n\n#AppleFortune #TradingProfile`;
                const url = `https://t.me/share/url?url=https://t.me/Strategioyinlar_bot?start=profile_${userId}&text=${encodeURIComponent(message)}`;
                window.open(url, '_blank');
            });
            
            changeIdBtn.addEventListener('click', () => {
                localStorage.removeItem('appleFortuneUserId');
                localStorage.removeItem('appleFortuneTimerEnd');
                localStorage.removeItem('appleFortuneEndRound');
                userId = '';
                currentUserId = '';
                showModal(idModal);
            });
            
            changeProfileIdBtn.addEventListener('click', () => {
                showModal(idModal);
            });
            
            shareBtn.addEventListener('click', () => {
                const t = translations[currentLang] || translations.uz;
                const shareMessage = `üéØ ${t.signalTitle} | Apple Fortune\n\nJoin me for AI trading signals!\nüëâ t.me/Strategioyinlar_bot\n\nMy ID: ${userId}\n\n#AppleFortune #AITrading`;
                const shareUrl = `https://t.me/share/url?url=https://t.me/Strategioyinlar_bot?start=${userId}&text=${encodeURIComponent(shareMessage)}`;
                window.open(shareUrl, '_blank');
                
                // Reduce wait time
                if (countdownTime > 30 * 60) {
                    countdownTime -= 30 * 60;
                    updateCountdown();
                    
                    const timerEndTime = Date.now() + (countdownTime * 1000);
                    localStorage.setItem('appleFortuneTimerEnd', timerEndTime.toString());
                    
                    const t = translations[currentLang] || translations.uz;
                    showNotification(`${t.shareText}! +30 daqiqa`, 'success');
                }
            });
            
            // Close modals on background click
            [idModal, inviteModal].forEach(modal => {
                modal.addEventListener('click', (e) => {
                    if (e.target === modal) {
                        hideModal(modal);
                    }
                });
            });
        }
    </script>
</body>
</html>
